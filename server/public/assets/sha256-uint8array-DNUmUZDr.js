const F=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];function H(t){return new y}class y{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!w||u>=8e3)&&(w=new ArrayBuffer(8e3),u=0),this._byte=new Uint8Array(w,u,80),this._word=new Int32Array(w,u,20),u+=80}update(e){if(typeof e=="string")return this._utf8(e);if(e==null)throw new TypeError("Invalid type: "+typeof e);const s=e.byteOffset,c=e.byteLength;let i=c/64|0,x=0;if(i&&!(s&3)&&!(this._size%64)){const n=new Int32Array(e.buffer,s,i*16);for(;i--;)this._int32(n,x>>2),x+=64;this._size+=x}if(e.BYTES_PER_ELEMENT!==1&&e.buffer){const n=new Uint8Array(e.buffer,s+x,c-x);return this._uint8(n)}return x===c?this:this._uint8(e,x)}_uint8(e,s){const{_byte:c,_word:i}=this,x=e.length;for(s=s|0;s<x;){const r=this._size%64;let n=r;for(;s<x&&n<64;)c[n++]=e[s++];n>=64&&this._int32(i),this._size+=n-r}return this}_utf8(e){const{_byte:s,_word:c}=this,i=e.length;let x=this._sp;for(let r=0;r<i;){const n=this._size%64;let h=n;for(;r<i&&h<64;){let f=e.charCodeAt(r++)|0;f<128?s[h++]=f:f<2048?(s[h++]=192|f>>>6,s[h++]=128|f&63):f<55296||f>57343?(s[h++]=224|f>>>12,s[h++]=128|f>>>6&63,s[h++]=128|f&63):x?(f=((x&1023)<<10)+(f&1023)+65536,s[h++]=240|f>>>18,s[h++]=128|f>>>12&63,s[h++]=128|f>>>6&63,s[h++]=128|f&63,x=0):x=f}h>=64&&(this._int32(c),c[0]=c[16]),this._size+=h-n}return this._sp=x,this}_int32(e,s){let{A:c,B:i,C:x,D:r,E:n,F:h,G:f,H:o}=this,b=0;for(s=s|0;b<16;)l[b++]=a(e[s++]);for(b=16;b<64;b++)l[b]=C(l[b-2])+l[b-7]+z(l[b-15])+l[b-16]|0;for(b=0;b<64;b++){const E=o+m(n)+B(n,h,f)+F[b]+l[b]|0,d=T(c)+p(c,i,x)|0;o=f,f=h,h=n,n=r+E|0,r=x,x=i,i=c,c=E+d|0}this.A=c+this.A|0,this.B=i+this.B|0,this.C=x+this.C|0,this.D=r+this.D|0,this.E=n+this.E|0,this.F=h+this.F|0,this.G=f+this.G|0,this.H=o+this.H|0}digest(e){const{_byte:s,_word:c}=this;let i=this._size%64|0;for(s[i++]=128;i&3;)s[i++]=0;if(i>>=2,i>14){for(;i<16;)c[i++]=0;i=0,this._int32(c)}for(;i<16;)c[i++]=0;const x=this._size*8,r=(x&4294967295)>>>0,n=(x-r)/4294967296;return n&&(c[14]=a(n)),r&&(c[15]=a(r)),this._int32(c),e==="hex"?this._hex():this._bin()}_hex(){const{A:e,B:s,C:c,D:i,E:x,F:r,G:n,H:h}=this;return _(e)+_(s)+_(c)+_(i)+_(x)+_(r)+_(n)+_(h)}_bin(){const{A:e,B:s,C:c,D:i,E:x,F:r,G:n,H:h,_byte:f,_word:o}=this;return o[0]=a(e),o[1]=a(s),o[2]=a(c),o[3]=a(i),o[4]=a(x),o[5]=a(r),o[6]=a(n),o[7]=a(h),f.slice(0,32)}}const l=new Int32Array(64);let w,u=0;const _=t=>(t+4294967296).toString(16).substr(-8),g=t=>t<<24&4278190080|t<<8&16711680|t>>8&65280|t>>24&255,A=t=>t,a=D()?A:g,B=(t,e,s)=>s^t&(e^s),p=(t,e,s)=>t&e|s&(t|e),T=t=>(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),m=t=>(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7),z=t=>(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3,C=t=>(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10;function D(){return new Uint8Array(new Uint16Array([65279]).buffer)[0]===254}export{H as c};
