import{r as tu}from"./tslib-DvlvHrbZ.js";import{a as ru}from"./react-BAvqZb1q.js";import{r as nu}from"./hey-listen-BdAwdPfE.js";import{r as au}from"./style-value-types-Djki-ZCW.js";import{r as iu}from"./popmotion-9Kj8mgzH.js";import{r as ou}from"./framesync-BEUTIEb0.js";import{g as su}from"./index-WUUx2E5T.js";var qt={};function uu(S){var l={};return function(P){return l[P]===void 0&&(l[P]=S(P)),l[P]}}var lu=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,fu=uu(function(S){return lu.test(S)||S.charCodeAt(0)===111&&S.charCodeAt(1)===110&&S.charCodeAt(2)<91});const cu=Object.freeze(Object.defineProperty({__proto__:null,default:fu},Symbol.toStringTag,{value:"Module"})),vu=su(cu);var Ca;function _u(){return Ca||(Ca=1,function(S){Object.defineProperty(S,"__esModule",{value:!0});var l=tu,P=ru(),G=nu,x=au(),V=iu(),U=ou();function Zt(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function Ta(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var F=Ta(P),$t=Zt(P),$=Zt(U),te=function(e){return{isEnabled:function(t){return e.some(function(r){return!!t[r]})}}},lt={measureLayout:te(["layout","layoutId","drag","_layoutResetTransform"]),animation:te(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag"]),exit:te(["exit"]),drag:te(["drag","dragControls"]),focus:te(["whileFocus"]),hover:te(["whileHover","onHoverStart","onHoverEnd"]),tap:te(["whileTap","onTap","onTapStart","onTapCancel"]),pan:te(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),layoutAnimation:te(["layout","layoutId"])};function ft(e){for(var t in e){var r=e[t];r!==null&&(lt[t].Component=r)}}var ct=P.createContext({strict:!1}),Jt=Object.keys(lt),Aa=Jt.length;function Va(e,t,r){var n=[];if(P.useContext(ct),!t)return null;for(var a=0;a<Aa;a++){var i=Jt[a],o=lt[i],s=o.isEnabled,v=o.Component;s(e)&&v&&n.push(F.createElement(v,l.__assign({key:i},e,{visualElement:t})))}return n}var re=P.createContext({transformPagePoint:function(e){return e},isStatic:!1}),Se=P.createContext({});function Qt(){return P.useContext(Se).visualElement}var se=P.createContext(null);function K(e){var t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}function vt(){var e=P.useContext(se);if(e===null)return[!0,null];var t=e.isPresent,r=e.onExitComplete,n=e.register,a=Ma();P.useEffect(function(){return n(a)},[]);var i=function(){return r?.(a)};return!t&&r?[!1,i]:[!0]}function Ea(){return er(P.useContext(se))}function er(e){return e===null?!0:e.isPresent}var La=0,wa=function(){return La++},Ma=function(){return K(wa)},tr=P.createContext(null),Ce=typeof window<"u",Ie=Ce?P.useLayoutEffect:P.useEffect;function Ra(e){var t=e.layoutId,r=P.useContext(tr);return r&&t!==void 0?r+"-"+t:t}function Da(e,t,r,n){var a=P.useContext(re),i=P.useContext(ct),o=Qt(),s=P.useContext(se),v=Ra(r),f=P.useRef(void 0);n||(n=i.renderer),!f.current&&n&&(f.current=n(e,{visualState:t,parent:o,props:l.__assign(l.__assign({},r),{layoutId:v}),presenceId:s?.id,blockInitialAnimation:s?.initial===!1}));var u=f.current;return Ie(function(){u&&(u.setProps(l.__assign(l.__assign(l.__assign({},a),r),{layoutId:v})),u.isPresent=er(s),u.isPresenceRoot=!o||o.presenceId!==s?.id,u.syncRender())}),P.useEffect(function(){var p;u&&((p=u.animationState)===null||p===void 0||p.animateChanges())}),Ie(function(){return function(){return u?.notifyUnmount()}},[]),u}function dt(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Oa(e,t,r){return P.useCallback(function(n){var a;n&&((a=e.mount)===null||a===void 0||a.call(e,n)),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):dt(r)&&(r.current=n))},[t])}function rr(e){return Array.isArray(e)}function J(e){return typeof e=="string"||rr(e)}function Ia(e){var t={};return e.forEachValue(function(r,n){return t[n]=r.get()}),t}function Fa(e){var t={};return e.forEachValue(function(r,n){return t[n]=r.getVelocity()}),t}function nr(e,t,r,n,a){var i;return n===void 0&&(n={}),a===void 0&&(a={}),typeof t=="string"&&(t=(i=e.variants)===null||i===void 0?void 0:i[t]),typeof t=="function"?t(r??e.custom,n,a):t}function Fe(e,t,r){var n=e.getProps();return nr(n,t,r??n.custom,Ia(e),Fa(e))}function Be(e){var t;return typeof((t=e.animate)===null||t===void 0?void 0:t.start)=="function"||J(e.initial)||J(e.animate)||J(e.whileHover)||J(e.whileDrag)||J(e.whileTap)||J(e.whileFocus)||J(e.exit)}function ar(e){return!!(Be(e)||e.variants)}function Ba(e,t){if(Be(e)){var r=e.initial,n=e.animate;return{initial:r===!1||J(r)?r:void 0,animate:J(n)?n:void 0}}return e.inherit!==!1?t:{}}function ja(e,t){var r=Ba(e,P.useContext(Se)),n=r.initial,a=r.animate;return P.useMemo(function(){return{initial:n,animate:a}},t?[ir(n),ir(a)]:[])}function ir(e){return Array.isArray(e)?e.join(" "):e}function pt(e){var t=e.preloadedFeatures,r=e.createVisualElement,n=e.useRender,a=e.useVisualState,i=e.Component;t&&ft(t);function o(s,v){var f=P.useContext(re).isStatic,u=null,p=ja(s,f),c=a(s,f);return!f&&Ce&&(p.visualElement=Da(i,c,s,r),u=Va(s,p.visualElement)),F.createElement(F.Fragment,null,F.createElement(Se.Provider,{value:p},n(i,s,Oa(c,p.visualElement,v),c,f)),u)}return P.forwardRef(o)}function or(e){function t(n,a){return a===void 0&&(a={}),pt(e(n,a))}var r=new Map;return new Proxy(t,{get:function(n,a){return r.has(a)||r.set(a,t(a)),r.get(a)}})}var Ua=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function mt(e){return typeof e!="string"||e.includes("-")?!1:!!(Ua.indexOf(e)>-1||/[A-Z]/.test(e))}var Te={};function sr(e){for(var t in e)Te[t]=e[t]}var gt=["","X","Y","Z"],Ha=["translate","scale","rotate","skew"],Ae=["transformPerspective","x","y","z"];Ha.forEach(function(e){return gt.forEach(function(t){return Ae.push(e+t)})});function ka(e,t){return Ae.indexOf(e)-Ae.indexOf(t)}var za=new Set(Ae);function je(e){return za.has(e)}var Xa=new Set(["originX","originY","originZ"]);function ur(e){return Xa.has(e)}function lr(e,t){var r=t.layout,n=t.layoutId;return je(e)||ur(e)||(r||n!==void 0)&&(!!Te[e]||e==="opacity")}var Q=function(e){return e!==null&&typeof e=="object"&&e.getVelocity},Ya={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Na(e,t,r,n){var a=e.transform,i=e.transformKeys,o=t.enableHardwareAcceleration,s=o===void 0?!0:o,v=t.allowTransformNone,f=v===void 0?!0:v,u="";i.sort(ka);for(var p=!1,c=i.length,m=0;m<c;m++){var d=i[m];u+=(Ya[d]||d)+"("+a[d]+") ",d==="z"&&(p=!0)}return!p&&s?u+="translateZ(0)":u=u.trim(),n?u=n(a,r?"":u):f&&r&&(u="none"),u}function Ka(e){var t=e.originX,r=t===void 0?"50%":t,n=e.originY,a=n===void 0?"50%":n,i=e.originZ,o=i===void 0?0:i;return r+" "+a+" "+o}function fr(e){return e.startsWith("--")}var Wa=function(e,t){return t&&typeof e=="number"?t.transform(e):e},cr=l.__assign(l.__assign({},x.number),{transform:Math.round}),vr={borderWidth:x.px,borderTopWidth:x.px,borderRightWidth:x.px,borderBottomWidth:x.px,borderLeftWidth:x.px,borderRadius:x.px,radius:x.px,borderTopLeftRadius:x.px,borderTopRightRadius:x.px,borderBottomRightRadius:x.px,borderBottomLeftRadius:x.px,width:x.px,maxWidth:x.px,height:x.px,maxHeight:x.px,size:x.px,top:x.px,right:x.px,bottom:x.px,left:x.px,padding:x.px,paddingTop:x.px,paddingRight:x.px,paddingBottom:x.px,paddingLeft:x.px,margin:x.px,marginTop:x.px,marginRight:x.px,marginBottom:x.px,marginLeft:x.px,rotate:x.degrees,rotateX:x.degrees,rotateY:x.degrees,rotateZ:x.degrees,scale:x.scale,scaleX:x.scale,scaleY:x.scale,scaleZ:x.scale,skew:x.degrees,skewX:x.degrees,skewY:x.degrees,distance:x.px,translateX:x.px,translateY:x.px,translateZ:x.px,x:x.px,y:x.px,z:x.px,perspective:x.px,transformPerspective:x.px,opacity:x.alpha,originX:x.progressPercentage,originY:x.progressPercentage,originZ:x.px,zIndex:cr,fillOpacity:x.alpha,strokeOpacity:x.alpha,numOctaves:cr};function ht(e,t,r,n,a,i,o,s){var v,f=e.style,u=e.vars,p=e.transform,c=e.transformKeys,m=e.transformOrigin;c.length=0;var d=!1,y=!1,g=!0;for(var _ in t){var T=t[_];if(fr(_)){u[_]=T;continue}var L=vr[_],O=Wa(T,L);if(je(_)){if(d=!0,p[_]=O,c.push(_),!g)continue;T!==((v=L.default)!==null&&v!==void 0?v:0)&&(g=!1)}else if(ur(_))m[_]=O,y=!0;else if(r?.isHydrated&&n?.isHydrated&&Te[_]){var w=Te[_].process(T,n,r),A=Te[_].applyTo;if(A)for(var R=A.length,M=0;M<R;M++)f[A[M]]=w;else f[_]=w}else f[_]=O}n&&r&&o&&s?(f.transform=o(n.deltaFinal,n.treeScale,d?p:void 0),i&&(f.transform=i(p,f.transform)),f.transformOrigin=s(n)):(d&&(f.transform=Na(e,a,g,i)),y&&(f.transformOrigin=Ka(m)))}var yt=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function dr(e,t,r){for(var n in t)!Q(t[n])&&!lr(n,r)&&(e[n]=t[n])}function Ga(e,t,r){var n=e.transformTemplate;return P.useMemo(function(){var a=yt();ht(a,t,void 0,void 0,{enableHardwareAcceleration:!r},n);var i=a.vars,o=a.style;return l.__assign(l.__assign({},i),o)},[t])}function qa(e,t,r){var n=e.style||{},a={};return dr(a,n,e),Object.assign(a,Ga(e,t,r)),e.transformValues&&(a=e.transformValues(a)),a}function Za(e,t,r){var n={},a=qa(e,t,r);return e.drag&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":"pan-"+(e.drag==="x"?"y":"x")),n.style=a,n}var $a=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","_layoutResetTransform","onLayoutAnimationComplete","onViewportBoxUpdate","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover"]);function Ve(e){return $a.has(e)}var pr=function(e){return!Ve(e)};try{var Ja=vu.default;pr=function(e){return e.startsWith("on")?!Ve(e):Ja(e)}}catch{}function Qa(e,t,r){var n={};for(var a in e)(pr(a)||r===!0&&Ve(a)||!t&&!Ve(a))&&(n[a]=e[a]);return n}function mr(e,t,r){return typeof e=="string"?e:x.px.transform(t+r*e)}function ei(e,t,r){var n=mr(t,e.x,e.width),a=mr(r,e.y,e.height);return n+" "+a}var xt=function(e,t){return x.px.transform(e*t)},ti={offset:"strokeDashoffset",array:"strokeDasharray"};function ri(e,t,r,n,a,i){n===void 0&&(n=1),a===void 0&&(a=0);var o=ti;e[o.offset]=xt(-a,t);var s=xt(r,t),v=xt(n,t);e[o.array]=s+" "+v}function _t(e,t,r,n,a,i,o,s){var v=t.attrX,f=t.attrY,u=t.originX,p=t.originY,c=t.pathLength,m=t.pathSpacing,d=m===void 0?1:m,y=t.pathOffset,g=y===void 0?0:y,_=l.__rest(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);ht(e,_,r,n,a,i,o,s),e.attrs=e.style,e.style={};var T=e.attrs,L=e.style,O=e.dimensions,w=e.totalPathLength;T.transform&&(O&&(L.transform=T.transform),delete T.transform),O&&(u!==void 0||p!==void 0||L.transform)&&(L.transformOrigin=ei(O,u!==void 0?u:.5,p!==void 0?p:.5)),v!==void 0&&(T.x=v),f!==void 0&&(T.y=f),w!==void 0&&c!==void 0&&ri(T,w,c,d,g)}var gr=function(){return l.__assign(l.__assign({},yt()),{attrs:{}})};function ni(e,t){var r=P.useMemo(function(){var a=gr();return _t(a,t,void 0,void 0,{enableHardwareAcceleration:!1},e.transformTemplate),l.__assign(l.__assign({},a.attrs),{style:l.__assign({},a.style)})},[t]);if(e.style){var n={};dr(n,e.style,e),r.style=l.__assign(l.__assign({},n),r.style)}return r}function ai(e){e===void 0&&(e=!1);var t=function(r,n,a,i,o){var s=i.latestValues,v=mt(r)?ni:Za,f=v(n,s,o),u=Qa(n,typeof r=="string",e),p=l.__assign(l.__assign(l.__assign({},u),f),{ref:a});return P.createElement(r,p)};return t}var ii=/([a-z])([A-Z])/g,oi="$1-$2",hr=function(e){return e.replace(ii,oi).toLowerCase()};function yr(e,t){var r=t.style,n=t.vars;Object.assign(e.style,r);for(var a in n)e.style.setProperty(a,n[a])}var xr=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform"]);function _r(e,t){yr(e,t);for(var r in t.attrs)e.setAttribute(xr.has(r)?r:hr(r),t.attrs[r])}function Pt(e){var t=e.style,r={};for(var n in t)(Q(t[n])||lr(n,e))&&(r[n]=t[n]);return r}function Pr(e){var t=Pt(e);for(var r in e)if(Q(e[r])){var n=r==="x"||r==="y"?"attr"+r.toUpperCase():r;t[n]=e[r]}return t}function bt(e){return typeof e=="object"&&typeof e.start=="function"}var Ee=function(e){return Array.isArray(e)},si=function(e){return!!(e&&typeof e=="object"&&e.mix&&e.toValue)},ui=function(e){return Ee(e)?e[e.length-1]||0:e};function br(e){var t=Q(e)?e.get():e;return si(t)?t.toValue():t}function Sr(e,t,r,n){var a=e.scrapeMotionValuesFromProps,i=e.createRenderState,o=e.onMount,s={latestValues:li(t,r,n,a),renderState:i()};return o&&(s.mount=function(v){return o(t,v,s)}),s}var St=function(e){return function(t,r){var n=P.useContext(Se),a=P.useContext(se);return r?Sr(e,t,n,a):K(function(){return Sr(e,t,n,a)})}};function li(e,t,r,n){var a={},i=r?.initial===!1,o=n(e);for(var s in o)a[s]=br(o[s]);var v=e.initial,f=e.animate,u=Be(e),p=ar(e);t&&p&&!u&&e.inherit!==!1&&(v??(v=t.initial),f??(f=t.animate));var c=i||v===!1?f:v;if(c&&typeof c!="boolean"&&!bt(c)){var m=Array.isArray(c)?c:[c];m.forEach(function(d){var y=nr(e,d);if(y){var g=y.transitionEnd;y.transition;var _=l.__rest(y,["transitionEnd","transition"]);for(var T in _)a[T]=_[T];for(var T in g)a[T]=g[T]}})}return a}var fi={useVisualState:St({scrapeMotionValuesFromProps:Pr,createRenderState:gr,onMount:function(e,t,r){var n=r.renderState,a=r.latestValues;try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}ci(t)&&(n.totalPathLength=t.getTotalLength()),_t(n,a,void 0,void 0,{enableHardwareAcceleration:!1},e.transformTemplate),_r(t,n)}})};function ci(e){return e.tagName==="path"}var vi={useVisualState:St({scrapeMotionValuesFromProps:Pt,createRenderState:yt})};function Ct(e,t,r,n){var a=t.forwardMotionProps,i=a===void 0?!1:a,o=mt(e)?fi:vi;return l.__assign(l.__assign({},o),{preloadedFeatures:r,useRender:ai(i),createVisualElement:n,Component:e})}var I;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.Exit="exit"})(I||(I={}));function ue(e,t,r,n){return e.addEventListener(t,r,n),function(){return e.removeEventListener(t,r,n)}}function Ue(e,t,r,n){P.useEffect(function(){var a=e.current;if(r&&a)return ue(a,t,r,n)},[e,t,r,n])}function di(e){var t=e.whileFocus,r=e.visualElement,n=function(){var i;(i=r.animationState)===null||i===void 0||i.setActive(I.Focus,!0)},a=function(){var i;(i=r.animationState)===null||i===void 0||i.setActive(I.Focus,!1)};Ue(r,"focus",t?n:void 0),Ue(r,"blur",t?a:void 0)}function Cr(e){return typeof PointerEvent<"u"&&e instanceof PointerEvent?e.pointerType==="mouse":e instanceof MouseEvent}function Tr(e){var t=!!e.touches;return t}function pi(e){return function(t){var r=t instanceof MouseEvent,n=!r||r&&t.button===0;n&&e(t)}}var mi={pageX:0,pageY:0};function gi(e,t){t===void 0&&(t="page");var r=e.touches[0]||e.changedTouches[0],n=r||mi;return{x:n[t+"X"],y:n[t+"Y"]}}function hi(e,t){return t===void 0&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function Tt(e,t){return t===void 0&&(t="page"),{point:Tr(e)?gi(e,t):hi(e,t)}}function yi(e){return Tt(e,"client")}var Ar=function(e,t){t===void 0&&(t=!1);var r=function(n){return e(n,Tt(n))};return t?pi(r):r},xi=function(){return Ce&&window.onpointerdown===null},_i=function(){return Ce&&window.ontouchstart===null},Pi=function(){return Ce&&window.onmousedown===null},bi={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Si={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Vr(e){return xi()?e:_i()?Si[e]:Pi()?bi[e]:e}function he(e,t,r,n){return ue(e,Vr(t),Ar(r,t==="pointerdown"),n)}function He(e,t,r,n){return Ue(e,Vr(t),r&&Ar(r,t==="pointerdown"),n)}function Er(e){var t=null;return function(){var r=function(){t=null};return t===null?(t=e,r):!1}}var Lr=Er("dragHorizontal"),wr=Er("dragVertical");function Mr(e){var t=!1;if(e==="y")t=wr();else if(e==="x")t=Lr();else{var r=Lr(),n=wr();r&&n?t=function(){r(),n()}:(r&&r(),n&&n())}return t}function Rr(){var e=Mr(!0);return e?(e(),!1):!0}function Dr(e,t,r){return function(n,a){var i;!Cr(n)||Rr()||(r?.(n,a),(i=e.animationState)===null||i===void 0||i.setActive(I.Hover,t))}}function Ci(e){var t=e.onHoverStart,r=e.onHoverEnd,n=e.whileHover,a=e.visualElement;He(a,"pointerenter",t||n?Dr(a,!0,t):void 0),He(a,"pointerleave",r||n?Dr(a,!1,r):void 0)}var Or=function(e,t){return t?e===t?!0:Or(e,t.parentElement):!1};function At(e){return P.useEffect(function(){return function(){return e()}},[])}function Ti(e){var t=e.onTap,r=e.onTapStart,n=e.onTapCancel,a=e.whileTap,i=e.visualElement,o=t||r||n||a,s=P.useRef(!1),v=P.useRef(null);function f(){var d;(d=v.current)===null||d===void 0||d.call(v),v.current=null}function u(){var d;return f(),s.current=!1,(d=i.animationState)===null||d===void 0||d.setActive(I.Tap,!1),!Rr()}function p(d,y){u()&&(Or(i.getInstance(),d.target)?t?.(d,y):n?.(d,y))}function c(d,y){u()&&n?.(d,y)}function m(d,y){var g;f(),!s.current&&(s.current=!0,v.current=V.pipe(he(window,"pointerup",p),he(window,"pointercancel",c)),r?.(d,y),(g=i.animationState)===null||g===void 0||g.setActive(I.Tap,!0))}He(i,"pointerdown",o?m:void 0),At(f)}var le=function(e){return function(t){return e(t),null}},Ir={tap:le(Ti),focus:le(di),hover:le(Ci)};function Fr(e,t){if(!Array.isArray(t))return!1;var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}var ke=function(e){return e*1e3},Br={linear:V.linear,easeIn:V.easeIn,easeInOut:V.easeInOut,easeOut:V.easeOut,circIn:V.circIn,circInOut:V.circInOut,circOut:V.circOut,backIn:V.backIn,backInOut:V.backInOut,backOut:V.backOut,anticipate:V.anticipate,bounceIn:V.bounceIn,bounceInOut:V.bounceInOut,bounceOut:V.bounceOut},jr=function(e){if(Array.isArray(e)){G.invariant(e.length===4,"Cubic bezier arrays must contain four numerical values.");var t=l.__read(e,4),r=t[0],n=t[1],a=t[2],i=t[3];return V.cubicBezier(r,n,a,i)}else if(typeof e=="string")return G.invariant(Br[e]!==void 0,"Invalid easing type '"+e+"'"),Br[e];return e},Ai=function(e){return Array.isArray(e)&&typeof e[0]!="number"},Ur=function(e,t){return e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&x.complex.test(t)&&!t.startsWith("url("))},fe=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},ze=function(e){return{type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}},Vt=function(){return{type:"keyframes",ease:"linear",duration:.3}},Vi=function(e){return{type:"keyframes",duration:.8,values:e}},Hr={x:fe,y:fe,z:fe,rotate:fe,rotateX:fe,rotateY:fe,rotateZ:fe,scaleX:ze,scaleY:ze,scale:ze,opacity:Vt,backgroundColor:Vt,color:Vt,default:ze},Ei=function(e,t){var r;return Ee(t)?r=Vi:r=Hr[e]||Hr.default,l.__assign({to:t},r(t))},Li=l.__assign(l.__assign({},vr),{color:x.color,backgroundColor:x.color,outlineColor:x.color,fill:x.color,stroke:x.color,borderColor:x.color,borderTopColor:x.color,borderRightColor:x.color,borderBottomColor:x.color,borderLeftColor:x.color,filter:x.filter,WebkitFilter:x.filter}),Et=function(e){return Li[e]};function Lt(e,t){var r,n=Et(e);return n!==x.filter&&(n=x.complex),(r=n.getAnimatableNone)===null||r===void 0?void 0:r.call(n,t)}function wi(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=l.__rest(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}var kr=!1;function Mi(e){var t=e.ease,r=e.times,n=e.yoyo,a=e.flip,i=e.loop,o=l.__rest(e,["ease","times","yoyo","flip","loop"]),s=l.__assign({},o);return r&&(s.offset=r),o.duration&&(s.duration=ke(o.duration)),o.repeatDelay&&(s.repeatDelay=ke(o.repeatDelay)),t&&(s.ease=Ai(t)?t.map(jr):jr(t)),o.type==="tween"&&(s.type="keyframes"),(n||i||a)&&(G.warning(!kr,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),kr=!0,n?s.repeatType="reverse":i?s.repeatType="loop":a&&(s.repeatType="mirror"),s.repeat=i||n||a||o.repeat),o.type!=="spring"&&(s.type="keyframes"),s}function Ri(e,t){var r,n=Xe(e,t)||{};return(r=n.delay)!==null&&r!==void 0?r:0}function Di(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=l.__spreadArray([],l.__read(e.to)),e.to[0]=e.from),e}function Oi(e,t,r){var n;return Array.isArray(t.to)&&((n=e.duration)!==null&&n!==void 0||(e.duration=.8)),Di(t),wi(e)||(e=l.__assign(l.__assign({},e),Ei(r,t.to))),l.__assign(l.__assign({},t),Mi(e))}function Ii(e,t,r,n,a){var i,o=Xe(n,e),s=(i=o.from)!==null&&i!==void 0?i:t.get(),v=Ur(e,r);s==="none"&&v&&typeof r=="string"?s=Lt(e,r):zr(s)&&typeof r=="string"?s=Xr(r):!Array.isArray(r)&&zr(r)&&typeof s=="string"&&(r=Xr(s));var f=Ur(e,s);G.warning(f===v,"You are trying to animate "+e+' from "'+s+'" to "'+r+'". '+s+" is not an animatable value - to enable this animation set "+s+" to a value animatable to "+r+" via the `style` property.");function u(){var c={from:s,to:r,velocity:t.getVelocity(),onComplete:a,onUpdate:function(m){return t.set(m)}};return o.type==="inertia"||o.type==="decay"?V.inertia(l.__assign(l.__assign({},c),o)):V.animate(l.__assign(l.__assign({},Oi(o,c,e)),{onUpdate:function(m){var d;c.onUpdate(m),(d=o.onUpdate)===null||d===void 0||d.call(o,m)},onComplete:function(){var m;c.onComplete(),(m=o.onComplete)===null||m===void 0||m.call(o)}}))}function p(){var c;return t.set(r),a(),(c=o?.onComplete)===null||c===void 0||c.call(o),{stop:function(){}}}return!f||!v||o.type===!1?p:u}function zr(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function Xr(e){return typeof e=="number"?0:Lt("",e)}function Xe(e,t){return e[t]||e.default||e}function Le(e,t,r,n){return n===void 0&&(n={}),t.start(function(a){var i,o,s=Ii(e,t,r,n,a),v=Ri(n,e),f=function(){return o=s()};return v?i=setTimeout(f,ke(v)):f(),function(){clearTimeout(i),o?.stop()}})}var Fi=function(e){return/^\-?\d*\.?\d+$/.test(e)};function Yr(e,t){e.indexOf(t)===-1&&e.push(t)}function Nr(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)}var Ye=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(t){var r=this;return Yr(this.subscriptions,t),function(){return Nr(r.subscriptions,t)}},e.prototype.notify=function(t,r,n){var a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(var i=0;i<a;i++){var o=this.subscriptions[i];o&&o(t,r,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),Bi=function(e){return!isNaN(parseFloat(e))},Kr=function(){function e(t){var r=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Ye,this.velocityUpdateSubscribers=new Ye,this.renderSubscribers=new Ye,this.canTrackVelocity=!1,this.updateAndNotify=function(n,a){a===void 0&&(a=!0),r.prev=r.current,r.current=n;var i=U.getFrameData(),o=i.delta,s=i.timestamp;r.lastUpdated!==s&&(r.timeDelta=o,r.lastUpdated=s,$.default.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.updateSubscribers.notify(r.current),r.velocityUpdateSubscribers.getSize()&&r.velocityUpdateSubscribers.notify(r.getVelocity()),a&&r.renderSubscribers.notify(r.current)},this.scheduleVelocityCheck=function(){return $.default.postRender(r.velocityCheck)},this.velocityCheck=function(n){var a=n.timestamp;a!==r.lastUpdated&&(r.prev=r.current,r.velocityUpdateSubscribers.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Bi(this.current)}return e.prototype.onChange=function(t){return this.updateSubscribers.add(t)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(t){return t(this.get()),this.renderSubscribers.add(t)},e.prototype.attach=function(t){this.passiveEffect=t},e.prototype.set=function(t,r){r===void 0&&(r=!0),!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?V.velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(t){var r=this;return this.stop(),new Promise(function(n){r.hasAnimated=!0,r.stopAnimation=t(n)}).then(function(){return r.clearAnimation()})},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function k(e){return new Kr(e)}var Wr=function(e){return function(t){return t.test(e)}},ji={test:function(e){return e==="auto"},parse:function(e){return e}},Gr=[x.number,x.px,x.percent,x.degrees,x.vw,x.vh,ji],Ne=function(e){return Gr.find(Wr(e))},Ui=l.__spreadArray(l.__spreadArray([],l.__read(Gr)),[x.color,x.complex]),Hi=function(e){return Ui.find(Wr(e))};function ki(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,k(r))}function wt(e,t){var r=Fe(e,t),n=r?e.makeTargetAnimatable(r,!1):{},a=n.transitionEnd,i=a===void 0?{}:a;n.transition;var o=l.__rest(n,["transitionEnd","transition"]);o=l.__assign(l.__assign({},o),i);for(var s in o){var v=ui(o[s]);ki(e,s,v)}}function Mt(e,t){var r=l.__spreadArray([],l.__read(t)).reverse();r.forEach(function(n){var a,i=e.getVariant(n);i&&wt(e,i),(a=e.variantChildren)===null||a===void 0||a.forEach(function(o){Mt(o,t)})})}function zi(e,t){if(Array.isArray(t))return Mt(e,t);if(typeof t=="string")return Mt(e,[t]);wt(e,t)}function qr(e,t,r){var n,a,i,o,s=Object.keys(t).filter(function(m){return!e.hasValue(m)}),v=s.length;if(v)for(var f=0;f<v;f++){var u=s[f],p=t[u],c=null;Array.isArray(p)&&(c=p[0]),c===null&&(c=(a=(n=r[u])!==null&&n!==void 0?n:e.readValue(u))!==null&&a!==void 0?a:t[u]),c!=null&&(typeof c=="string"&&Fi(c)?c=parseFloat(c):!Hi(c)&&x.complex.test(p)&&(c=Lt(u,p)),e.addValue(u,k(c)),(i=(o=r)[u])!==null&&i!==void 0||(o[u]=c),e.setBaseTarget(u,c))}}function Xi(e,t){if(t){var r=t[e]||t.default||t;return r.from}}function Zr(e,t,r){var n,a,i={};for(var o in e)i[o]=(n=Xi(o,t))!==null&&n!==void 0?n:(a=r.getValue(o))===null||a===void 0?void 0:a.get();return i}function Ke(e,t,r){r===void 0&&(r={}),e.notifyAnimationStart();var n;if(Array.isArray(t)){var a=t.map(function(o){return Rt(e,o,r)});n=Promise.all(a)}else if(typeof t=="string")n=Rt(e,t,r);else{var i=typeof t=="function"?Fe(e,t,r.custom):t;n=$r(e,i,r)}return n.then(function(){return e.notifyAnimationComplete(t)})}function Rt(e,t,r){var n;r===void 0&&(r={});var a=Fe(e,t,r.custom),i=(a||{}).transition,o=i===void 0?e.getDefaultTransition()||{}:i;r.transitionOverride&&(o=r.transitionOverride);var s=a?function(){return $r(e,a,r)}:function(){return Promise.resolve()},v=!((n=e.variantChildren)===null||n===void 0)&&n.size?function(m){m===void 0&&(m=0);var d=o.delayChildren,y=d===void 0?0:d,g=o.staggerChildren,_=o.staggerDirection;return Yi(e,t,y+m,g,_,r)}:function(){return Promise.resolve()},f=o.when;if(f){var u=l.__read(f==="beforeChildren"?[s,v]:[v,s],2),p=u[0],c=u[1];return p().then(c)}else return Promise.all([s(),v(r.delay)])}function $r(e,t,r){var n,a=r===void 0?{}:r,i=a.delay,o=i===void 0?0:i,s=a.transitionOverride,v=a.type,f=e.makeTargetAnimatable(t),u=f.transition,p=u===void 0?e.getDefaultTransition():u,c=f.transitionEnd,m=l.__rest(f,["transition","transitionEnd"]);s&&(p=s);var d=[],y=v&&((n=e.animationState)===null||n===void 0?void 0:n.getState()[v]);for(var g in m){var _=e.getValue(g),T=m[g];if(!(!_||T===void 0||y&&Wi(y,g))){var L=Le(g,_,T,l.__assign({delay:o},p));d.push(L)}}return Promise.all(d).then(function(){c&&wt(e,c)})}function Yi(e,t,r,n,a,i){r===void 0&&(r=0),n===void 0&&(n=0),a===void 0&&(a=1);var o=[],s=(e.variantChildren.size-1)*n,v=a===1?function(f){return f===void 0&&(f=0),f*n}:function(f){return f===void 0&&(f=0),s-f*n};return Array.from(e.variantChildren).sort(Ki).forEach(function(f,u){o.push(Rt(f,t,l.__assign(l.__assign({},i),{delay:r+v(u)})).then(function(){return f.notifyAnimationComplete(t)}))}),Promise.all(o)}function Ni(e){e.forEachValue(function(t){return t.stop()})}function Ki(e,t){return e.sortNodePosition(t)}function Wi(e,t){var r=e.protectedKeys,n=e.needsAnimating,a=r.hasOwnProperty(t)&&n[t]!==!0;return n[t]=!1,a}var Dt=[I.Animate,I.Hover,I.Tap,I.Drag,I.Focus,I.Exit],Gi=l.__spreadArray([],l.__read(Dt)).reverse(),qi=Dt.length;function Zi(e){return function(t){return Promise.all(t.map(function(r){var n=r.animation,a=r.options;return Ke(e,n,a)}))}}function $i(e){var t=Zi(e),r=Qi(),n={},a=!0,i=function(u,p){var c=Fe(e,p);if(c){c.transition;var m=c.transitionEnd,d=l.__rest(c,["transition","transitionEnd"]);u=l.__assign(l.__assign(l.__assign({},u),d),m)}return u};function o(u){return n[u]!==void 0}function s(u){t=u(e)}function v(u,p){for(var c,m=e.getProps(),d=e.getVariantContext(!0)||{},y=[],g=new Set,_={},T=1/0,L=function(R){var M=Gi[R],E=r[M],B=(c=m[M])!==null&&c!==void 0?c:d[M],Y=J(B),ae=M===p?E.isActive:null;ae===!1&&(T=R);var q=B===d[M]&&B!==m[M]&&Y;if(q&&a&&e.manuallyAnimateOnMount&&(q=!1),E.protectedKeys=l.__assign({},_),!E.isActive&&ae===null||!B&&!E.prevProp||bt(B)||typeof B=="boolean")return"continue";var H=Ji(E.prevProp,B)||M===p&&E.isActive&&!q&&Y||R>T&&Y,ve=Array.isArray(B)?B:[B],ie=ve.reduce(i,{});ae===!1&&(ie={});var oe=E.prevResolvedValues,de=oe===void 0?{}:oe,it=l.__assign(l.__assign({},de),ie),pe=function(ge){H=!0,g.delete(ge),E.needsAnimating[ge]=!0};for(var W in it){var ee=ie[W],me=de[W];_.hasOwnProperty(W)||(ee!==me?Ee(ee)&&Ee(me)?Fr(ee,me)?E.protectedKeys[W]=!0:pe(W):ee!==void 0?pe(W):g.add(W):ee!==void 0&&g.has(W)?pe(W):E.protectedKeys[W]=!0)}E.prevProp=B,E.prevResolvedValues=ie,E.isActive&&(_=l.__assign(l.__assign({},_),ie)),a&&e.blockInitialAnimation&&(H=!1),H&&!q&&y.push.apply(y,l.__spreadArray([],l.__read(ve.map(function(ge){return{animation:ge,options:l.__assign({type:M},u)}}))))},O=0;O<qi;O++)L(O);if(n=l.__assign({},_),g.size){var w={};g.forEach(function(R){var M=e.getBaseTarget(R);M!==void 0&&(w[R]=M)}),y.push({animation:w})}var A=!!y.length;return a&&m.initial===!1&&!e.manuallyAnimateOnMount&&(A=!1),a=!1,A?t(y):Promise.resolve()}function f(u,p,c){var m;return r[u].isActive===p?Promise.resolve():((m=e.variantChildren)===null||m===void 0||m.forEach(function(d){var y;return(y=d.animationState)===null||y===void 0?void 0:y.setActive(u,p)}),r[u].isActive=p,v(c,u))}return{isAnimated:o,animateChanges:v,setActive:f,setAnimateFunction:s,getState:function(){return r}}}function Ji(e,t){return typeof t=="string"?t!==e:rr(t)?!Fr(t,e):!1}function ye(e){return e===void 0&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Qi(){var e;return e={},e[I.Animate]=ye(!0),e[I.Hover]=ye(),e[I.Tap]=ye(),e[I.Drag]=ye(),e[I.Focus]=ye(),e[I.Exit]=ye(),e}var Jr={animation:le(function(e){var t=e.visualElement,r=e.animate;t.animationState||(t.animationState=$i(t)),bt(r)&&P.useEffect(function(){return r.subscribe(t)},[r])}),exit:le(function(e){var t=e.custom,r=e.visualElement,n=l.__read(vt(),2),a=n[0],i=n[1],o=P.useContext(se);P.useEffect(function(){var s,v,f=(s=r.animationState)===null||s===void 0?void 0:s.setActive(I.Exit,!a,{custom:(v=o?.custom)!==null&&v!==void 0?v:t});!a&&f?.then(i)},[a])})},Qr=function(){function e(t,r,n){var a=this,i=n===void 0?{}:n,o=i.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(a.lastMoveEvent&&a.lastMoveEventInfo){var c=It(a.lastMoveEventInfo,a.history),m=a.startEvent!==null,d=V.distance(c.offset,{x:0,y:0})>=3;if(!(!m&&!d)){var y=c.point,g=U.getFrameData().timestamp;a.history.push(l.__assign(l.__assign({},y),{timestamp:g}));var _=a.handlers,T=_.onStart,L=_.onMove;m||(T&&T(a.lastMoveEvent,c),a.startEvent=a.lastMoveEvent),L&&L(a.lastMoveEvent,c)}}},this.handlePointerMove=function(c,m){if(a.lastMoveEvent=c,a.lastMoveEventInfo=Ot(m,a.transformPagePoint),Cr(c)&&c.buttons===0){a.handlePointerUp(c,m);return}$.default.update(a.updatePoint,!0)},this.handlePointerUp=function(c,m){a.end();var d=a.handlers,y=d.onEnd,g=d.onSessionEnd,_=It(Ot(m,a.transformPagePoint),a.history);a.startEvent&&y&&y(c,_),g&&g(c,_)},!(Tr(t)&&t.touches.length>1)){this.handlers=r,this.transformPagePoint=o;var s=Tt(t),v=Ot(s,this.transformPagePoint),f=v.point,u=U.getFrameData().timestamp;this.history=[l.__assign(l.__assign({},f),{timestamp:u})];var p=r.onSessionStart;p&&p(t,It(v,this.history)),this.removeListeners=V.pipe(he(window,"pointermove",this.handlePointerMove),he(window,"pointerup",this.handlePointerUp),he(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(t){this.handlers=t},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),U.cancelSync.update(this.updatePoint)},e}();function Ot(e,t){return t?{point:t(e.point)}:e}function en(e,t){return{x:e.x-t.x,y:e.y-t.y}}function It(e,t){var r=e.point;return{point:r,delta:en(r,tn(t)),offset:en(r,eo(t)),velocity:to(t,.1)}}function eo(e){return e[0]}function tn(e){return e[e.length-1]}function to(e,t){if(e.length<2)return{x:0,y:0};for(var r=e.length-1,n=null,a=tn(e);r>=0&&(n=e[r],!(a.timestamp-n.timestamp>ke(t)));)r--;if(!n)return{x:0,y:0};var i=(a.timestamp-n.timestamp)/1e3;if(i===0)return{x:0,y:0};var o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ro(e){return e}function rn(e){var t=e.top,r=e.left,n=e.right,a=e.bottom;return{x:{min:r,max:n},y:{min:t,max:a}}}function no(e){var t=e.x,r=e.y;return{top:r.min,bottom:r.max,left:t.min,right:t.max}}function ao(e,t){var r=e.top,n=e.left,a=e.bottom,i=e.right;t===void 0&&(t=ro);var o=t({x:n,y:r}),s=t({x:i,y:a});return{top:o.y,left:o.x,bottom:s.y,right:s.x}}function ne(){return{x:{min:0,max:1},y:{min:0,max:1}}}function io(e){return{x:l.__assign({},e.x),y:l.__assign({},e.y)}}var nn={translate:0,scale:1,origin:0,originPoint:0};function an(){return{x:l.__assign({},nn),y:l.__assign({},nn)}}function N(e){return[e("x"),e("y")]}var oo=function(e){return V.clamp(0,1,e)};function on(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=.01),V.distance(e,t)<r}function we(e){return e.max-e.min}function so(e,t){var r=.5,n=we(e),a=we(t);return a>n?r=V.progress(t.min,t.max-n,e.min):n>a&&(r=V.progress(e.min,e.max-a,t.min)),oo(r)}function sn(e,t,r,n){n===void 0&&(n=.5),e.origin=n,e.originPoint=V.mix(t.min,t.max,e.origin),e.scale=we(r)/we(t),on(e.scale,1,1e-4)&&(e.scale=1),e.translate=V.mix(r.min,r.max,e.origin)-e.originPoint,on(e.translate)&&(e.translate=0)}function un(e,t,r,n){sn(e.x,t.x,r.x,ln(n.originX)),sn(e.y,t.y,r.y,ln(n.originY))}function ln(e){return typeof e=="number"?e:.5}function fn(e,t,r){e.min=r.min+t.min,e.max=e.min+we(t)}function uo(e,t){fn(e.target.x,e.relativeTarget.x,t.target.x),fn(e.target.y,e.relativeTarget.y,t.target.y)}function cn(e,t,r){var n=t.min,a=t.max;return n!==void 0&&e<n?e=r?V.mix(n,e,r.min):Math.max(e,n):a!==void 0&&e>a&&(e=r?V.mix(a,e,r.max):Math.min(e,a)),e}function lo(e,t,r,n,a){var i=e-t*r;return n?cn(i,n,a):i}function vn(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function fo(e,t){var r=t.top,n=t.left,a=t.bottom,i=t.right;return{x:vn(e.x,n,i),y:vn(e.y,r,a)}}function dn(e,t){var r,n=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=l.__read([a,n],2),n=r[0],a=r[1]),{min:e.min+n,max:e.min+a}}function co(e,t){return{x:dn(e.x,t.x),y:dn(e.y,t.y)}}function vo(e,t,r){var n=e.max-e.min,a=V.mix(t.min,t.max-n,r);return{min:a,max:a+n}}function po(e,t){var r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}var pn=.35;function mo(e){return e===!1?e=0:e===!0&&(e=pn),{x:mn(e,"left","right"),y:mn(e,"top","bottom")}}function mn(e,t,r){return{min:gn(e,t),max:gn(e,r)}}function gn(e,t){var r;return typeof e=="number"?e:(r=e[t])!==null&&r!==void 0?r:0}function hn(e,t){var r=e.getBoundingClientRect();return rn(ao(r,t))}var Ft=function(e,t){return e.depth-t.depth};function yn(e){var t=e.projection.isEnabled;return t||e.shouldResetTransform()}function We(e,t){t===void 0&&(t=[]);var r=e.parent;return r&&We(r,t),yn(e)&&t.push(e),t}function go(e){var t=[],r=function(n){yn(n)&&t.push(n),n.children.forEach(r)};return e.children.forEach(r),t.sort(Ft)}function Ge(e){if(!e.shouldResetTransform()){var t=e.getLayoutState();e.notifyBeforeLayoutMeasure(t.layout),t.isHydrated=!0,t.layout=e.measureViewportBox(),t.layoutCorrected=io(t.layout),e.notifyLayoutMeasure(t.layout,e.prevViewportBox||t.layout),$.default.update(function(){return e.rebaseProjectionTarget()})}}function Bt(e){e.shouldResetTransform()||(e.prevViewportBox=e.measureViewportBox(!1),e.rebaseProjectionTarget(!1,e.prevViewportBox))}function ho(e,t,r,n){e.min=V.mix(t.min,r.min,n),e.max=V.mix(t.max,r.max,n)}function xn(e,t){return{min:t.min-e.min,max:t.max-e.min}}function xe(e,t){return{x:xn(e.x,t.x),y:xn(e.y,t.y)}}function yo(e,t){var r=e.getLayoutId(),n=t.getLayoutId();return r!==n||n===void 0&&e!==t}function _n(e){var t=e.getProps(),r=t.drag,n=t._dragX;return r&&!n}function Pn(e,t){e.min=t.min,e.max=t.max}function xo(e,t){Pn(e.x,t.x),Pn(e.y,t.y)}function qe(e,t,r){var n=e-r,a=t*n;return r+a}function bn(e,t,r,n,a){return a!==void 0&&(e=qe(e,a,n)),qe(e,r,n)+t}function jt(e,t,r,n,a){t===void 0&&(t=0),r===void 0&&(r=1),e.min=bn(e.min,t,r,n,a),e.max=bn(e.max,t,r,n,a)}function _o(e,t){var r=t.x,n=t.y;jt(e.x,r.translate,r.scale,r.originPoint),jt(e.y,n.translate,n.scale,n.originPoint)}function Sn(e,t,r,n){var a=l.__read(n,3),i=a[0],o=a[1],s=a[2];e.min=t.min,e.max=t.max;var v=r[s]!==void 0?r[s]:.5,f=V.mix(t.min,t.max,v);jt(e,r[i],r[o],f,r.scale)}var Cn=["x","scaleX","originX"],Tn=["y","scaleY","originY"];function Ut(e,t,r){Sn(e.x,t.x,r,Cn),Sn(e.y,t.y,r,Tn)}function An(e,t,r,n,a){return e-=t,e=qe(e,1/r,n),a!==void 0&&(e=qe(e,1/a,n)),e}function Po(e,t,r,n,a){t===void 0&&(t=0),r===void 0&&(r=1),n===void 0&&(n=.5);var i=V.mix(e.min,e.max,n)-t;e.min=An(e.min,t,r,i,a),e.max=An(e.max,t,r,i,a)}function Vn(e,t,r){var n=l.__read(r,3),a=n[0],i=n[1],o=n[2];Po(e,t[a],t[i],t[o],t.scale)}function En(e,t){Vn(e.x,t,Cn),Vn(e.y,t,Tn)}function bo(e,t,r){var n=r.length;if(n){t.x=t.y=1;for(var a,i,o=0;o<n;o++)a=r[o],i=a.getLayoutState().delta,t.x*=i.x.scale,t.y*=i.y.scale,_o(e,i),_n(a)&&Ut(e,e,a.getLatestValues())}}function So(e,t){t===void 0&&(t=!0);var r=e.getProjectionParent();if(!r)return!1;var n;return t?(n=xe(r.projection.target,e.projection.target),En(n,r.getLatestValues())):n=xe(r.getLayoutState().layout,e.getLayoutState().layout),N(function(a){return e.setProjectionTargetAxis(a,n[a].min,n[a].max,!0)}),!0}var Me=new Set;function Ln(e,t,r){e[r]||(e[r]=[]),e[r].push(t)}function Ze(e){return Me.add(e),function(){return Me.delete(e)}}function Re(){if(Me.size){var e=0,t=[[]],r=[],n=function(s){return Ln(t,s,e)},a=function(s){Ln(r,s,e),e++};Me.forEach(function(s){s(n,a),e=0}),Me.clear();for(var i=r.length,o=0;o<=i;o++)t[o]&&t[o].forEach(wn),r[o]&&r[o].forEach(wn)}}var wn=function(e){return e()},Mn=new WeakMap,Rn,Co=function(){function e(t){var r=t.visualElement;this.isDragging=!1,this.currentDirection=null,this.constraints=!1,this.elastic=ne(),this.props={},this.hasMutatedConstraints=!1,this.cursorProgress={x:.5,y:.5},this.originPoint={},this.openGlobalLock=null,this.panSession=null,this.visualElement=r,this.visualElement.enableLayoutProjection(),Mn.set(r,this)}return e.prototype.start=function(t,r){var n=this,a=r===void 0?{}:r,i=a.snapToCursor,o=i===void 0?!1:i,s=a.cursorProgress,v=function(m){var d;n.stopMotion();var y=yi(m).point;(d=n.cancelLayout)===null||d===void 0||d.call(n),n.cancelLayout=Ze(function(g,_){var T=We(n.visualElement),L=go(n.visualElement),O=l.__spreadArray(l.__spreadArray([],l.__read(T)),l.__read(L)),w=!1;n.isLayoutDrag()&&n.visualElement.lockProjectionTarget(),_(function(){O.forEach(function(A){return A.resetTransform()})}),g(function(){Ge(n.visualElement),L.forEach(Ge)}),_(function(){O.forEach(function(A){return A.restoreTransform()}),o&&(w=n.snapToCursor(y))}),g(function(){var A=!!(n.getAxisMotionValue("x")&&!n.isExternalDrag());A||n.visualElement.rebaseProjectionTarget(!0,n.visualElement.measureViewportBox(!1)),n.visualElement.scheduleUpdateLayoutProjection();var R=n.visualElement.projection;N(function(M){if(!w){var E=R.target[M],B=E.min,Y=E.max;n.cursorProgress[M]=s?s[M]:V.progress(B,Y,y[M])}var ae=n.getAxisMotionValue(M);ae&&(n.originPoint[M]=ae.get())})}),_(function(){U.flushSync.update(),U.flushSync.preRender(),U.flushSync.render(),U.flushSync.postRender()}),g(function(){return n.resolveDragConstraints()})})},f=function(m,d){var y,g,_,T=n.props,L=T.drag,O=T.dragPropagation;L&&!O&&(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=Mr(L),!n.openGlobalLock)||(Re(),n.isDragging=!0,n.currentDirection=null,(g=(y=n.props).onDragStart)===null||g===void 0||g.call(y,m,d),(_=n.visualElement.animationState)===null||_===void 0||_.setActive(I.Drag,!0))},u=function(m,d){var y,g,_,T,L=n.props,O=L.dragPropagation,w=L.dragDirectionLock;if(!(!O&&!n.openGlobalLock)){var A=d.offset;if(w&&n.currentDirection===null){n.currentDirection=To(A),n.currentDirection!==null&&((g=(y=n.props).onDirectionLock)===null||g===void 0||g.call(y,n.currentDirection));return}n.updateAxis("x",d.point,A),n.updateAxis("y",d.point,A),(T=(_=n.props).onDrag)===null||T===void 0||T.call(_,m,d),Rn=m}},p=function(m,d){return n.stop(m,d)},c=this.props.transformPagePoint;this.panSession=new Qr(t,{onSessionStart:v,onStart:f,onMove:u,onSessionEnd:p},{transformPagePoint:c})},e.prototype.resolveDragConstraints=function(){var t=this,r=this.props,n=r.dragConstraints,a=r.dragElastic,i=this.visualElement.getLayoutState().layoutCorrected;n?this.constraints=dt(n)?this.resolveRefConstraints(i,n):fo(i,n):this.constraints=!1,this.elastic=mo(a),this.constraints&&!this.hasMutatedConstraints&&N(function(o){t.getAxisMotionValue(o)&&(t.constraints[o]=po(i[o],t.constraints[o]))})},e.prototype.resolveRefConstraints=function(t,r){var n=this.props,a=n.onMeasureDragConstraints,i=n.transformPagePoint,o=r.current;G.invariant(o!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop."),this.constraintsBox=hn(o,i);var s=co(t,this.constraintsBox);if(a){var v=a(no(s));this.hasMutatedConstraints=!!v,v&&(s=rn(v))}return s},e.prototype.cancelDrag=function(){var t,r;this.visualElement.unlockProjectionTarget(),(t=this.cancelLayout)===null||t===void 0||t.call(this),this.isDragging=!1,this.panSession&&this.panSession.end(),this.panSession=null,!this.props.dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(r=this.visualElement.animationState)===null||r===void 0||r.setActive(I.Drag,!1)},e.prototype.stop=function(t,r){var n,a,i;(n=this.panSession)===null||n===void 0||n.end(),this.panSession=null;var o=this.isDragging;if(this.cancelDrag(),!!o){var s=r.velocity;this.animateDragEnd(s),(i=(a=this.props).onDragEnd)===null||i===void 0||i.call(a,t,r)}},e.prototype.snapToCursor=function(t){var r=this;return N(function(n){var a=r.props.drag;if($e(n,a,r.currentDirection)){var i=r.getAxisMotionValue(n);if(i){var o=r.visualElement.getLayoutState().layout,s=o[n].max-o[n].min,v=o[n].min+s/2,f=t[n]-v;r.originPoint[n]=t[n],i.set(f)}else return r.cursorProgress[n]=.5,!0}}).includes(!0)},e.prototype.updateAxis=function(t,r,n){var a=this.props.drag;if($e(t,a,this.currentDirection))return this.getAxisMotionValue(t)?this.updateAxisMotionValue(t,n):this.updateVisualElementAxis(t,r)},e.prototype.updateAxisMotionValue=function(t,r){var n=this.getAxisMotionValue(t);if(!(!r||!n)){var a=this.originPoint[t]+r[t],i=this.constraints?cn(a,this.constraints[t],this.elastic[t]):a;n.set(i)}},e.prototype.updateVisualElementAxis=function(t,r){var n,a=this.visualElement.getLayoutState().layout[t],i=a.max-a.min,o=this.cursorProgress[t],s=lo(r[t],i,o,(n=this.constraints)===null||n===void 0?void 0:n[t],this.elastic[t]);this.visualElement.setProjectionTargetAxis(t,s,s+i)},e.prototype.setProps=function(t){var r=t.drag,n=r===void 0?!1:r,a=t.dragDirectionLock,i=a===void 0?!1:a,o=t.dragPropagation,s=o===void 0?!1:o,v=t.dragConstraints,f=v===void 0?!1:v,u=t.dragElastic,p=u===void 0?pn:u,c=t.dragMomentum,m=c===void 0?!0:c,d=l.__rest(t,["drag","dragDirectionLock","dragPropagation","dragConstraints","dragElastic","dragMomentum"]);this.props=l.__assign({drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:f,dragElastic:p,dragMomentum:m},d)},e.prototype.getAxisMotionValue=function(t){var r=this.props,n=r.layout,a=r.layoutId,i="_drag"+t.toUpperCase();if(this.props[i])return this.props[i];if(!n&&a===void 0)return this.visualElement.getValue(t,0)},e.prototype.isLayoutDrag=function(){return!this.getAxisMotionValue("x")},e.prototype.isExternalDrag=function(){var t=this.props,r=t._dragX,n=t._dragY;return r||n},e.prototype.animateDragEnd=function(t){var r=this,n=this.props,a=n.drag,i=n.dragMomentum,o=n.dragElastic,s=n.dragTransition,v=So(this.visualElement,this.isLayoutDrag()&&!this.isExternalDrag()),f=this.constraints||{};if(v&&Object.keys(f).length&&this.isLayoutDrag()){var u=this.visualElement.getProjectionParent();if(u){var p=xe(u.projection.targetFinal,f);N(function(m){var d=p[m],y=d.min,g=d.max;f[m]={min:isNaN(y)?void 0:y,max:isNaN(g)?void 0:g}})}}var c=N(function(m){var d;if($e(m,a,r.currentDirection)){var y=(d=f?.[m])!==null&&d!==void 0?d:{},g=o?200:1e6,_=o?40:1e7,T=l.__assign(l.__assign({type:"inertia",velocity:i?t[m]:0,bounceStiffness:g,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10},s),y);return r.getAxisMotionValue(m)?r.startAxisValueAnimation(m,T):r.visualElement.startLayoutAnimation(m,T,v)}});return Promise.all(c).then(function(){var m,d;(d=(m=r.props).onDragTransitionEnd)===null||d===void 0||d.call(m)})},e.prototype.stopMotion=function(){var t=this;N(function(r){var n=t.getAxisMotionValue(r);n?n.stop():t.visualElement.stopLayoutAnimation()})},e.prototype.startAxisValueAnimation=function(t,r){var n=this.getAxisMotionValue(t);if(n){var a=n.get();return n.set(a),n.set(a),Le(t,n,0,r)}},e.prototype.scalePoint=function(){var t=this,r=this.props,n=r.drag,a=r.dragConstraints;if(!(!dt(a)||!this.constraintsBox)){this.stopMotion();var i={x:0,y:0};N(function(o){i[o]=so(t.visualElement.projection.target[o],t.constraintsBox[o])}),this.updateConstraints(function(){N(function(o){if($e(o,n,null)){var s=vo(t.visualElement.projection.target[o],t.constraintsBox[o],i[o]),v=s.min,f=s.max;t.visualElement.setProjectionTargetAxis(o,v,f)}})}),setTimeout(Re,1)}},e.prototype.updateConstraints=function(t){var r=this;this.cancelLayout=Ze(function(n,a){var i=We(r.visualElement);a(function(){return i.forEach(function(o){return o.resetTransform()})}),n(function(){return Ge(r.visualElement)}),a(function(){return i.forEach(function(o){return o.restoreTransform()})}),n(function(){r.resolveDragConstraints()}),t&&a(t)})},e.prototype.mount=function(t){var r=this,n=t.getInstance(),a=he(n,"pointerdown",function(v){var f=r.props,u=f.drag,p=f.dragListener,c=p===void 0?!0:p;u&&c&&r.start(v)}),i=ue(window,"resize",function(){r.scalePoint()}),o=t.onLayoutUpdate(function(){r.isDragging&&r.resolveDragConstraints()}),s=t.prevDragCursor;return s&&this.start(Rn,{cursorProgress:s}),function(){a?.(),i?.(),o?.(),r.cancelDrag()}},e}();function $e(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function To(e,t){t===void 0&&(t=10);var r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}function Ao(e){var t=e.dragControls,r=e.visualElement,n=P.useContext(re).transformPagePoint,a=K(function(){return new Co({visualElement:r})});a.setProps(l.__assign(l.__assign({},e),{transformPagePoint:n})),P.useEffect(function(){return t&&t.subscribe(a)},[a]),P.useEffect(function(){return a.mount(r)},[])}function Vo(e){var t=e.onPan,r=e.onPanStart,n=e.onPanEnd,a=e.onPanSessionStart,i=e.visualElement,o=t||r||n||a,s=P.useRef(null),v=P.useContext(re).transformPagePoint,f={onSessionStart:a,onStart:r,onMove:t,onEnd:function(p,c){s.current=null,n&&n(p,c)}};P.useEffect(function(){s.current!==null&&s.current.updateHandlers(f)});function u(p){s.current=new Qr(p,f,{transformPagePoint:v})}He(i,"pointerdown",o&&u),At(function(){return s.current&&s.current.end()})}var Dn={pan:le(Vo),drag:le(Ao)},z;(function(e){e[e.Entering=0]="Entering",e[e.Present=1]="Present",e[e.Exiting=2]="Exiting"})(z||(z={})),S.VisibilityAction=void 0,function(e){e[e.Hide=0]="Hide",e[e.Show=1]="Show"}(S.VisibilityAction||(S.VisibilityAction={}));function Ht(e){return typeof e=="string"&&e.startsWith("var(--")}var On=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Eo(e){var t=On.exec(e);if(!t)return[,];var r=l.__read(t,3),n=r[1],a=r[2];return[n,a]}var Lo=4;function kt(e,t,r){r===void 0&&(r=1),G.invariant(r<=Lo,'Max CSS variable fallback depth detected in property "'+e+'". This may indicate a circular fallback dependency.');var n=l.__read(Eo(e),2),a=n[0],i=n[1];if(a){var o=window.getComputedStyle(t).getPropertyValue(a);return o?o.trim():Ht(i)?kt(i,t,r+1):i}}function wo(e,t,r){var n,a=l.__rest(t,[]),i=e.getInstance();if(!(i instanceof HTMLElement))return{target:a,transitionEnd:r};r&&(r=l.__assign({},r)),e.forEachValue(function(f){var u=f.get();if(Ht(u)){var p=kt(u,i);p&&f.set(p)}});for(var o in a){var s=a[o];if(Ht(s)){var v=kt(s,i);v&&(a[o]=v,r&&((n=r[o])!==null&&n!==void 0||(r[o]=s)))}}return{target:a,transitionEnd:r}}function In(e,t){return e/(t.max-t.min)*100}function Mo(e,t,r){var n=r.target;if(typeof e=="string")if(x.px.test(e))e=parseFloat(e);else return e;var a=In(e,n.x),i=In(e,n.y);return a+"% "+i+"%"}var Fn="_$css";function Ro(e,t){var r=t.delta,n=t.treeScale,a=e,i=e.includes("var("),o=[];i&&(e=e.replace(On,function(y){return o.push(y),Fn}));var s=x.complex.parse(e);if(s.length>5)return a;var v=x.complex.createTransformer(e),f=typeof s[0]!="number"?1:0,u=r.x.scale*n.x,p=r.y.scale*n.y;s[0+f]/=u,s[1+f]/=p;var c=V.mix(u,p,.5);typeof s[2+f]=="number"&&(s[2+f]/=c),typeof s[3+f]=="number"&&(s[3+f]/=c);var m=v(s);if(i){var d=0;m=m.replace(Fn,function(){var y=o[d];return d++,y})}return m}var De={process:Mo},Do={borderRadius:l.__assign(l.__assign({},De),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomLeftRadius:De,borderBottomRightRadius:De,boxShadow:{process:Ro}},Bn=1e3,Oo=function(e){l.__extends(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.frameTarget=ne(),r.currentAnimationTarget=ne(),r.isAnimating={x:!1,y:!1},r.stopAxisAnimation={x:void 0,y:void 0},r.isAnimatingTree=!1,r.animate=function(n,a,i){i===void 0&&(i={});var o=i.originBox,s=i.targetBox,v=i.visibilityAction,f=i.shouldStackAnimate,u=i.onComplete,p=i.prevParent,c=l.__rest(i,["originBox","targetBox","visibilityAction","shouldStackAnimate","onComplete","prevParent"]),m=r.props,d=m.visualElement,y=m.layout;if(f===!1)return r.isAnimatingTree=!1,r.safeToRemove();if(!(r.isAnimatingTree&&f!==!0)){f&&(r.isAnimatingTree=!0),a=o||a,n=s||n;var g=!1,_=d.getProjectionParent();if(_){var T=_.prevViewportBox,L=_.getLayoutState().layout;p&&(s&&(L=p.getLayoutState().layout),o&&!yo(p,_)&&p.prevViewportBox&&(T=p.prevViewportBox)),T&&jo(p,o,s)&&(g=!0,a=xe(T,a),n=xe(L,n))}var O=Fo(a,n),w=N(function(A){var R,M;if(y==="position"){var E=n[A].max-n[A].min;a[A].max=a[A].min+E}if(!d.projection.isTargetLocked)if(v!==void 0)d.setVisibility(v===S.VisibilityAction.Show);else return O?r.animateAxis(A,n[A],a[A],l.__assign(l.__assign({},c),{isRelative:g})):((M=(R=r.stopAxisAnimation)[A])===null||M===void 0||M.call(R),d.setProjectionTargetAxis(A,n[A].min,n[A].max,g))});return d.syncRender(),Promise.all(w).then(function(){r.isAnimatingTree=!1,u&&u(),d.notifyLayoutAnimationComplete()})}},r}return t.prototype.componentDidMount=function(){var r=this,n=this.props.visualElement;n.animateMotionValue=Le,n.enableLayoutProjection(),this.unsubLayoutReady=n.onLayoutUpdate(this.animate),n.layoutSafeToRemove=function(){return r.safeToRemove()},sr(Do)},t.prototype.componentWillUnmount=function(){var r=this;this.unsubLayoutReady(),N(function(n){var a,i;return(i=(a=r.stopAxisAnimation)[n])===null||i===void 0?void 0:i.call(a)})},t.prototype.animateAxis=function(r,n,a,i){var o=this,s,v,f=i===void 0?{}:i,u=f.transition,p=f.isRelative;if(!(this.isAnimating[r]&&Oe(n,this.currentAnimationTarget[r]))){(v=(s=this.stopAxisAnimation)[r])===null||v===void 0||v.call(s),this.isAnimating[r]=!0;var c=this.props.visualElement,m=this.frameTarget[r],d=c.getProjectionAnimationProgress()[r];d.clearListeners(),d.set(0),d.set(0);var y=function(){var L=d.get()/Bn;ho(m,a,n,L),c.setProjectionTargetAxis(r,m.min,m.max,p)};y();var g=d.onChange(y);this.stopAxisAnimation[r]=function(){o.isAnimating[r]=!1,d.stop(),g()},this.currentAnimationTarget[r]=n;var _=u||c.getDefaultTransition()||Bo,T=Le(r==="x"?"layoutX":"layoutY",d,Bn,_&&Xe(_,"layout")).then(this.stopAxisAnimation[r]);return T}},t.prototype.safeToRemove=function(){var r,n;(n=(r=this.props).safeToRemove)===null||n===void 0||n.call(r)},t.prototype.render=function(){return null},t}(F.Component);function Io(e){var t=l.__read(vt(),2),r=t[1];return F.createElement(Oo,l.__assign({},e,{safeToRemove:r}))}function Fo(e,t){return!Un(e)&&!Un(t)&&(!Oe(e.x,t.x)||!Oe(e.y,t.y))}var jn={min:0,max:0};function Un(e){return Oe(e.x,jn)&&Oe(e.y,jn)}function Oe(e,t){return e.min===t.min&&e.max===t.max}var Bo={duration:.45,ease:[.4,0,.1,1]};function jo(e,t,r){return e||!e&&!(t||r)}var Uo={layoutReady:function(e){return e.notifyLayoutReady()}};function Je(){var e=new Set;return{add:function(t){return e.add(t)},flush:function(t){var r=t===void 0?Uo:t,n=r.layoutReady,a=r.parent;Ze(function(i,o){var s=Array.from(e).sort(Ft),v=a?We(a):[];o(function(){var f=l.__spreadArray(l.__spreadArray([],l.__read(v)),l.__read(s));f.forEach(function(u){return u.resetTransform()})}),i(function(){s.forEach(Ge)}),o(function(){v.forEach(function(f){return f.restoreTransform()}),s.forEach(n)}),i(function(){s.forEach(function(f){f.isPresent&&(f.presence=z.Present)})}),o(function(){U.flushSync.preRender(),U.flushSync.render()}),i(function(){$.default.postRender(function(){return s.forEach(Ho)}),e.clear()})}),Re()}}}function Ho(e){e.prevViewportBox=e.projection.target}var Qe=P.createContext(Je()),Hn=P.createContext(Je());function ce(e){return!!e.forceUpdate}var ko=function(e){l.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.componentDidMount=function(){var r=this.props,n=r.syncLayout,a=r.framerSyncLayout,i=r.visualElement;ce(n)&&n.register(i),ce(a)&&a.register(i),i.onUnmount(function(){ce(n)&&n.remove(i),ce(a)&&a.remove(i)})},t.prototype.getSnapshotBeforeUpdate=function(){var r=this.props,n=r.syncLayout,a=r.visualElement;return ce(n)?n.syncUpdate():(Bt(a),n.add(a)),null},t.prototype.componentDidUpdate=function(){var r=this.props.syncLayout;ce(r)||r.flush()},t.prototype.render=function(){return null},t}($t.default.Component);function zo(e){var t=P.useContext(Qe),r=P.useContext(Hn);return $t.default.createElement(ko,l.__assign({},e,{syncLayout:t,framerSyncLayout:r}))}var kn={measureLayout:zo,layoutAnimation:Io},Xo=function(){return{isEnabled:!1,isHydrated:!1,isTargetLocked:!1,target:ne(),targetFinal:ne()}};function zn(){return{isHydrated:!1,layout:ne(),layoutCorrected:ne(),treeScale:{x:1,y:1},delta:an(),deltaFinal:an(),deltaTransform:""}}var Xn=zn();function et(e,t,r){var n=e.x,a=e.y,i=n.translate/t.x,o=a.translate/t.y,s="translate3d("+i+"px, "+o+"px, 0) ";if(r){var v=r.rotate,f=r.rotateX,u=r.rotateY;v&&(s+="rotate("+v+") "),f&&(s+="rotateX("+f+") "),u&&(s+="rotateY("+u+") ")}return s+="scale("+n.scale+", "+a.scale+")",!r&&s===Yo?"":s}function Yn(e){var t=e.deltaFinal;return t.x.origin*100+"% "+t.y.origin*100+"% 0"}var Yo=et(Xn.delta,Xn.treeScale,{}),tt=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];function No(){var e=tt.map(function(){return new Ye}),t={},r={clearAllListeners:function(){return e.forEach(function(n){return n.clear()})},updatePropListeners:function(n){return tt.forEach(function(a){var i;(i=t[a])===null||i===void 0||i.call(t);var o="on"+a,s=n[o];s&&(t[a]=r[o](s))})}};return e.forEach(function(n,a){r["on"+tt[a]]=function(i){return n.add(i)},r["notify"+tt[a]]=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n.notify.apply(n,l.__spreadArray([],l.__read(i)))}}),r}function Ko(e,t,r){var n;for(var a in t){var i=t[a],o=r[a];if(Q(i))e.addValue(a,i);else if(Q(o))e.addValue(a,k(i));else if(o!==i)if(e.hasValue(a)){var s=e.getValue(a);!s.hasAnimated&&s.set(i)}else e.addValue(a,k((n=e.getStaticValue(a))!==null&&n!==void 0?n:i))}for(var a in r)t[a]===void 0&&e.removeValue(a);return t}function Wo(e,t,r,n){var a=e.delta,i=e.layout,o=e.layoutCorrected,s=e.treeScale,v=t.target;xo(o,i),bo(o,s,r),un(a,o,v,n)}var Nn=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(t){Yr(this.children,t),this.isDirty=!0},e.prototype.remove=function(t){Nr(this.children,t),this.isDirty=!0},e.prototype.forEach=function(t){this.isDirty&&this.children.sort(Ft),this.isDirty=!1,this.children.forEach(t)},e}();function Go(e){var t=e.getProjectionParent();if(!t){e.rebaseProjectionTarget();return}var r=xe(t.getLayoutState().layout,e.getLayoutState().layout);N(function(n){e.setProjectionTargetAxis(n,r[n].min,r[n].max,!0)})}var rt=function(e){var t=e.treeType,r=t===void 0?"":t,n=e.build,a=e.getBaseTarget,i=e.makeTargetAnimatable,o=e.measureViewportBox,s=e.render,v=e.readValueFromInstance,f=e.resetTransform,u=e.restoreTransform,p=e.removeValueFromRenderState,c=e.sortNodePosition,m=e.scrapeMotionValuesFromProps;return function(d,y){var g=d.parent,_=d.props,T=d.presenceId,L=d.blockInitialAnimation,O=d.visualState;y===void 0&&(y={});var w=O.latestValues,A=O.renderState,R,M=No(),E=Xo(),B,Y=E,ae=w,q,H=zn(),ve,ie=!1,oe=new Map,de=new Map,it={},pe,W=l.__assign({},w),ee;function me(){R&&(C.isProjectionReady()&&(Ut(Y.targetFinal,Y.target,ae),un(H.deltaFinal,H.layoutCorrected,Y.targetFinal,w)),ge(),s(R,A))}function ge(){var h=w;if(ve&&ve.isActive()){var b=ve.getCrossfadeState(C);b&&(h=b)}n(C,A,h,Y,H,y,_)}function _a(){M.notifyUpdate(w)}function $s(){if(C.isProjectionReady()){var h=H.delta,b=H.treeScale,D=b.x,j=b.y,X=H.deltaTransform;Wo(H,Y,C.path,w),ie&&C.notifyViewportBoxUpdate(Y.target,h),ie=!1;var Z=et(h,b);(Z!==X||D!==b.x||j!==b.y)&&C.scheduleRender(),H.deltaTransform=Z}}function Js(){C.layoutTree.forEach(Zo)}function Qs(h,b){var D=b.onChange(function(X){w[h]=X,_.onUpdate&&$.default.update(_a,!1,!0)}),j=b.onRenderRequest(C.scheduleRender);de.set(h,function(){D(),j()})}var Pa=m(_);for(var Wt in Pa){var ba=Pa[Wt];w[Wt]!==void 0&&Q(ba)&&ba.set(w[Wt],!1)}var Sa=Be(_),Gt=ar(_),C=l.__assign(l.__assign({treeType:r,current:null,depth:g?g.depth+1:0,parent:g,children:new Set,path:g?l.__spreadArray(l.__spreadArray([],l.__read(g.path)),[g]):[],layoutTree:g?g.layoutTree:new Nn,presenceId:T,projection:E,variantChildren:Gt?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:!!g?.isMounted(),blockInitialAnimation:L,isMounted:function(){return!!R},mount:function(h){R=C.current=h,C.pointTo(C),Gt&&g&&!Sa&&(ee=g?.addVariantChild(C)),g?.children.add(C)},unmount:function(){U.cancelSync.update(_a),U.cancelSync.render(me),U.cancelSync.preRender(C.updateLayoutProjection),de.forEach(function(h){return h()}),C.stopLayoutAnimation(),C.layoutTree.remove(C),ee?.(),g?.children.delete(C),q?.(),M.clearAllListeners()},addVariantChild:function(h){var b,D=C.getClosestVariantNode();if(D)return(b=D.variantChildren)===null||b===void 0||b.add(h),function(){return D.variantChildren.delete(h)}},sortNodePosition:function(h){return!c||r!==h.treeType?0:c(C.getInstance(),h.getInstance())},getClosestVariantNode:function(){return Gt?C:g?.getClosestVariantNode()},scheduleUpdateLayoutProjection:g?g.scheduleUpdateLayoutProjection:function(){return $.default.preRender(C.updateTreeLayoutProjection,!1,!0)},getLayoutId:function(){return _.layoutId},getInstance:function(){return R},getStaticValue:function(h){return w[h]},setStaticValue:function(h,b){return w[h]=b},getLatestValues:function(){return w},setVisibility:function(h){C.isVisible!==h&&(C.isVisible=h,C.scheduleRender())},makeTargetAnimatable:function(h,b){return b===void 0&&(b=!0),i(C,h,_,b)},addValue:function(h,b){C.hasValue(h)&&C.removeValue(h),oe.set(h,b),w[h]=b.get(),Qs(h,b)},removeValue:function(h){var b;oe.delete(h),(b=de.get(h))===null||b===void 0||b(),de.delete(h),delete w[h],p(h,A)},hasValue:function(h){return oe.has(h)},getValue:function(h,b){var D=oe.get(h);return D===void 0&&b!==void 0&&(D=k(b),C.addValue(h,D)),D},forEachValue:function(h){return oe.forEach(h)},readValue:function(h){var b;return(b=w[h])!==null&&b!==void 0?b:v(R,h,y)},setBaseTarget:function(h,b){W[h]=b},getBaseTarget:function(h){if(a){var b=a(_,h);if(b!==void 0&&!Q(b))return b}return W[h]}},M),{build:function(){return ge(),A},scheduleRender:function(){$.default.render(me,!1,!0)},syncRender:me,setProps:function(h){_=h,M.updatePropListeners(h),it=Ko(C,m(_),it)},getProps:function(){return _},getVariant:function(h){var b;return(b=_.variants)===null||b===void 0?void 0:b[h]},getDefaultTransition:function(){return _.transition},getVariantContext:function(h){if(h===void 0&&(h=!1),h)return g?.getVariantContext();if(!Sa){var b=g?.getVariantContext()||{};return _.initial!==void 0&&(b.initial=_.initial),b}for(var D={},j=0;j<$o;j++){var X=Kn[j],Z=_[X];(J(Z)||Z===!1)&&(D[X]=Z)}return D},enableLayoutProjection:function(){E.isEnabled=!0,C.layoutTree.add(C)},lockProjectionTarget:function(){E.isTargetLocked=!0},unlockProjectionTarget:function(){C.stopLayoutAnimation(),E.isTargetLocked=!1},getLayoutState:function(){return H},setCrossfader:function(h){ve=h},isProjectionReady:function(){return E.isEnabled&&E.isHydrated&&H.isHydrated},startLayoutAnimation:function(h,b,D){D===void 0&&(D=!1);var j=C.getProjectionAnimationProgress()[h],X=D?E.relativeTarget[h]:E.target[h],Z=X.min,ot=X.max,st=ot-Z;return j.clearListeners(),j.set(Z),j.set(Z),j.onChange(function(ut){C.setProjectionTargetAxis(h,ut,ut+st,D)}),C.animateMotionValue(h,j,0,b)},stopLayoutAnimation:function(){N(function(h){return C.getProjectionAnimationProgress()[h].stop()})},measureViewportBox:function(h){h===void 0&&(h=!0);var b=o(R,y);return h||En(b,w),b},getProjectionAnimationProgress:function(){return pe||(pe={x:k(0),y:k(0)}),pe},setProjectionTargetAxis:function(h,b,D,j){j===void 0&&(j=!1);var X;j?(E.relativeTarget||(E.relativeTarget=ne()),X=E.relativeTarget[h]):(E.relativeTarget=void 0,X=E.target[h]),E.isHydrated=!0,X.min=b,X.max=D,ie=!0,M.notifySetAxisTarget()},rebaseProjectionTarget:function(h,b){b===void 0&&(b=H.layout);var D=C.getProjectionAnimationProgress(),j=D.x,X=D.y,Z=!E.relativeTarget&&!E.isTargetLocked&&!j.isAnimating()&&!X.isAnimating();(h||Z)&&N(function(ot){var st=b[ot],ut=st.min,eu=st.max;C.setProjectionTargetAxis(ot,ut,eu)})},notifyLayoutReady:function(h){Go(C),C.notifyLayoutUpdate(H.layout,C.prevViewportBox||H.layout,h)},resetTransform:function(){return f(C,R,_)},restoreTransform:function(){return u(R,A)},updateLayoutProjection:$s,updateTreeLayoutProjection:function(){C.layoutTree.forEach(qo),$.default.preRender(Js,!1,!0)},getProjectionParent:function(){if(B===void 0){for(var h=!1,b=C.path.length-1;b>=0;b--){var D=C.path[b];if(D.projection.isEnabled){h=D;break}}B=h}return B},resolveRelativeTargetBox:function(){var h=C.getProjectionParent();if(!(!E.relativeTarget||!h)&&(uo(E,h.projection),_n(h))){var b=E.target;Ut(b,b,h.getLatestValues())}},shouldResetTransform:function(){return!!_._layoutResetTransform},pointTo:function(h){Y=h.projection,ae=h.getLatestValues(),q?.(),q=V.pipe(h.onSetAxisTarget(C.scheduleUpdateLayoutProjection),h.onLayoutAnimationComplete(function(){var b;C.isPresent?C.presence=z.Present:(b=C.layoutSafeToRemove)===null||b===void 0||b.call(C)}))},isPresent:!0,presence:z.Entering});return C}};function qo(e){e.resolveRelativeTargetBox()}function Zo(e){e.updateLayoutProjection()}var Kn=l.__spreadArray(["initial"],l.__read(Dt)),$o=Kn.length,Jo=new Set(["width","height","top","left","right","bottom","x","y"]),Wn=function(e){return Jo.has(e)},Qo=function(e){return Object.keys(e).some(Wn)},Gn=function(e,t){e.set(t,!1),e.set(t)},nt=function(e){return e===x.number||e===x.px},qn;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(qn||(qn={}));var Zn=function(e,t){return parseFloat(e.split(", ")[t])},$n=function(e,t){return function(r,n){var a=n.transform;if(a==="none"||!a)return 0;var i=a.match(/^matrix3d\((.+)\)$/);if(i)return Zn(i[1],t);var o=a.match(/^matrix\((.+)\)$/);return o?Zn(o[1],e):0}},es=new Set(["x","y","z"]),ts=Ae.filter(function(e){return!es.has(e)});function rs(e){var t=[];return ts.forEach(function(r){var n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.syncRender(),t}var Jn={width:function(e){var t=e.x;return t.max-t.min},height:function(e){var t=e.y;return t.max-t.min},top:function(e,t){var r=t.top;return parseFloat(r)},left:function(e,t){var r=t.left;return parseFloat(r)},bottom:function(e,t){var r=e.y,n=t.top;return parseFloat(n)+(r.max-r.min)},right:function(e,t){var r=e.x,n=t.left;return parseFloat(n)+(r.max-r.min)},x:$n(4,13),y:$n(5,14)},ns=function(e,t,r){var n=t.measureViewportBox(),a=t.getInstance(),i=getComputedStyle(a),o=i.display,s=i.top,v=i.left,f=i.bottom,u=i.right,p=i.transform,c={top:s,left:v,bottom:f,right:u,transform:p};o==="none"&&t.setStaticValue("display",e.display||"block"),t.syncRender();var m=t.measureViewportBox();return r.forEach(function(d){var y=t.getValue(d);Gn(y,Jn[d](n,c)),e[d]=Jn[d](m,i)}),e},as=function(e,t,r,n){r===void 0&&(r={}),n===void 0&&(n={}),t=l.__assign({},t),n=l.__assign({},n);var a=Object.keys(t).filter(Wn),i=[],o=!1,s=[];if(a.forEach(function(f){var u=e.getValue(f);if(e.hasValue(f)){var p=r[f],c=t[f],m=Ne(p),d;if(Ee(c))for(var y=c.length,g=c[0]===null?1:0;g<y;g++)d?G.invariant(Ne(c[g])===d,"All keyframes must be of the same type"):(d=Ne(c[g]),G.invariant(d===m||nt(m)&&nt(d),"Keyframes must be of the same dimension as the current value"));else d=Ne(c);if(m!==d)if(nt(m)&&nt(d)){var _=u.get();typeof _=="string"&&u.set(parseFloat(_)),typeof c=="string"?t[f]=parseFloat(c):Array.isArray(c)&&d===x.px&&(t[f]=c.map(parseFloat))}else m?.transform&&d?.transform&&(p===0||c===0)?p===0?u.set(d.transform(p)):t[f]=m.transform(c):(o||(i=rs(e),o=!0),s.push(f),n[f]=n[f]!==void 0?n[f]:t[f],Gn(u,c))}}),s.length){var v=ns(t,e,s);return i.length&&i.forEach(function(f){var u=l.__read(f,2),p=u[0],c=u[1];e.getValue(p).set(c)}),e.syncRender(),{target:v,transitionEnd:n}}else return{target:t,transitionEnd:n}};function is(e,t,r,n){return Qo(t)?as(e,t,r,n):{target:t,transitionEnd:n}}var os=function(e,t,r,n){var a=wo(e,t,n);return t=a.target,n=a.transitionEnd,is(e,t,r,n)};function ss(e){return window.getComputedStyle(e)}var Qn={treeType:"dom",readValueFromInstance:function(e,t){if(je(t)){var r=Et(t);return r&&r.default||0}else{var n=ss(e);return(fr(t)?n.getPropertyValue(t):n[t])||0}},sortNodePosition:function(e,t){return e.compareDocumentPosition(t)&2?1:-1},getBaseTarget:function(e,t){var r;return(r=e.style)===null||r===void 0?void 0:r[t]},measureViewportBox:function(e,t){var r=t.transformPagePoint;return hn(e,r)},resetTransform:function(e,t,r){var n=r.transformTemplate;t.style.transform=n?n({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var r=t.vars,n=t.style;delete r[e],delete n[e]},makeTargetAnimatable:function(e,t,r,n){var a=r.transformValues;n===void 0&&(n=!0);var i=t.transition,o=t.transitionEnd,s=l.__rest(t,["transition","transitionEnd"]),v=Zr(s,i||{},e);if(a&&(o&&(o=a(o)),s&&(s=a(s)),v&&(v=a(v))),n){qr(e,s,v);var f=os(e,s,v,o);o=f.transitionEnd,s=f.target}return l.__assign({transition:i,transitionEnd:o},s)},scrapeMotionValuesFromProps:Pt,build:function(e,t,r,n,a,i,o){e.isVisible!==void 0&&(t.style.visibility=e.isVisible?"visible":"hidden");var s=n.isEnabled&&a.isHydrated;ht(t,r,n,a,i,o.transformTemplate,s?et:void 0,s?Yn:void 0)},render:yr},us=rt(Qn),ls=rt(l.__assign(l.__assign({},Qn),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var r;return je(t)?((r=Et(t))===null||r===void 0?void 0:r.default)||0:(t=xr.has(t)?t:hr(t),e.getAttribute(t))},scrapeMotionValuesFromProps:Pr,build:function(e,t,r,n,a,i,o){var s=n.isEnabled&&a.isHydrated;_t(t,r,n,a,i,o.transformTemplate,s?et:void 0,s?Yn:void 0)},render:_r})),zt=function(e,t){return mt(e)?ls(t,{enableHardwareAcceleration:!1}):us(t,{enableHardwareAcceleration:!0})},ea=l.__assign(l.__assign(l.__assign(l.__assign({},Jr),Ir),Dn),kn),fs=or(function(e,t){return Ct(e,t,ea,zt)});function cs(e){return pt(Ct(e,{forwardMotionProps:!1},ea,zt))}var vs=or(Ct);function ds(){var e=P.useRef(!1),t=l.__read(P.useState(0),2),r=t[0],n=t[1];return At(function(){return e.current=!0}),P.useCallback(function(){!e.current&&n(r+1)},[r])}var ta=0;function ps(){var e=ta;return ta++,e}var Xt=function(e){var t=e.children,r=e.initial,n=e.isPresent,a=e.onExitComplete,i=e.custom,o=e.presenceAffectsLayout,s=K(ms),v=K(ps),f=P.useMemo(function(){return{id:v,initial:r,isPresent:n,custom:i,onExitComplete:function(u){s.set(u,!0);var p=!0;s.forEach(function(c){c||(p=!1)}),p&&a?.()},register:function(u){return s.set(u,!1),function(){return s.delete(u)}}}},o?void 0:[n]);return P.useMemo(function(){s.forEach(function(u,p){return s.set(p,!1)})},[n]),F.useEffect(function(){!n&&!s.size&&a?.()},[n]),F.createElement(se.Provider,{value:f},t)};function ms(){return new Map}function _e(e){return e.key||""}function gs(e,t){e.forEach(function(r){var n=_e(r);t.set(n,r)})}function hs(e){var t=[];return P.Children.forEach(e,function(r){P.isValidElement(r)&&t.push(r)}),t}var ys=function(e){var t=e.children,r=e.custom,n=e.initial,a=n===void 0?!0:n,i=e.onExitComplete,o=e.exitBeforeEnter,s=e.presenceAffectsLayout,v=s===void 0?!0:s,f=ds(),u=P.useContext(Qe);ce(u)&&(f=u.forceUpdate);var p=P.useRef(!0),c=hs(t),m=P.useRef(c),d=P.useRef(new Map).current,y=P.useRef(new Set).current;if(gs(c,d),p.current)return p.current=!1,F.createElement(F.Fragment,null,c.map(function(A){return F.createElement(Xt,{key:_e(A),isPresent:!0,initial:a?void 0:!1,presenceAffectsLayout:v},A)}));for(var g=l.__spreadArray([],l.__read(c)),_=m.current.map(_e),T=c.map(_e),L=_.length,O=0;O<L;O++){var w=_[O];T.indexOf(w)===-1?y.add(w):y.delete(w)}return o&&y.size&&(g=[]),y.forEach(function(A){if(T.indexOf(A)===-1){var R=d.get(A);if(R){var M=_.indexOf(A),E=function(){d.delete(A),y.delete(A);var B=m.current.findIndex(function(Y){return Y.key===A});m.current.splice(B,1),y.size||(m.current=c,f(),i&&i())};g.splice(M,0,F.createElement(Xt,{key:_e(R),isPresent:!1,onExitComplete:E,custom:r,presenceAffectsLayout:v},R))}}}),g=g.map(function(A){var R=A.key;return y.has(R)?A:F.createElement(Xt,{key:_e(A),isPresent:!0,presenceAffectsLayout:v},A)}),m.current=g,F.createElement(F.Fragment,null,y.size?g:g.map(function(A){return P.cloneElement(A)}))};function ra(e,t,r){r===void 0&&(r={});var n=Q(e)?e:k(e);return Le("",n,t,r),{stop:function(){return n.stop()}}}function na(){var e=k(1),t={lead:void 0,follow:void 0,crossfadeOpacity:!1,preserveFollowOpacity:!1},r=l.__assign({},t),n={},a={},i=!1,o=null,s=0;function v(u,p){var c=t.lead,m=t.follow;i=!0,o=null;var d=!1,y=function(){d=!0,c&&c.scheduleRender(),m&&m.scheduleRender()},g=function(){i=!1,o=U.getFrameData().timestamp};return p=p&&Xe(p,"crossfade"),ra(e,u,l.__assign(l.__assign({},p),{onUpdate:y,onComplete:function(){d?g():(e.set(u),$.default.read(g)),y()}}))}function f(){var u,p,c=U.getFrameData().timestamp,m=t.lead,d=t.follow;if(!(c===s||!m)){s=c;var y=m.getLatestValues();Object.assign(n,y);var g=d?d.getLatestValues():t.prevValues;Object.assign(a,g);var _=e.get(),T=(u=y.opacity)!==null&&u!==void 0?u:1,L=(p=g?.opacity)!==null&&p!==void 0?p:1;t.crossfadeOpacity&&d?(n.opacity=V.mix(d.isVisible!==!1?0:L,T,xs(_)),a.opacity=t.preserveFollowOpacity?L:V.mix(L,0,_s(_))):d||(n.opacity=V.mix(L,T,_)),bs(n,a,y,g||{},!!d,_)}}return{isActive:function(){return n&&(i||U.getFrameData().timestamp===o)},fromLead:function(u){return v(0,u)},toLead:function(u){var p=0;return!t.prevValues&&!t.follow?p=1:r.lead===t.follow&&r.follow===t.lead&&(p=1-e.get()),e.set(p),v(1,u)},reset:function(){return e.set(1)},stop:function(){return e.stop()},getCrossfadeState:function(u){if(f(),u===t.lead)return n;if(u===t.follow)return a},setOptions:function(u){r=t,t=u,n={},a={}},getLatestValues:function(){return n}}}var xs=aa(0,.5,V.circOut),_s=aa(.5,.95,V.linear);function aa(e,t,r){return function(n){return n<e?0:n>t?1:r(V.progress(e,t,n))}}var ia=["TopLeft","TopRight","BottomLeft","BottomRight"],Ps=ia.length;function bs(e,t,r,n,a,i){for(var o=0;o<Ps;o++){var s="border"+ia[o]+"Radius",v=oa(n,s),f=oa(r,s);if(!(v===void 0&&f===void 0)&&(v||(v=0),f||(f=0),typeof v=="number"&&typeof f=="number")){var u=Math.max(V.mix(v,f,i),0);e[s]=t[s]=u}}if(n.rotate||r.rotate){var p=V.mix(n.rotate||0,r.rotate||0,i);e.rotate=t.rotate=p}!a&&r.backgroundColor&&n.backgroundColor&&(e.backgroundColor=t.backgroundColor=V.mixColor(n.backgroundColor,r.backgroundColor)(i))}function oa(e,t){var r;return(r=e[t])!==null&&r!==void 0?r:e.borderRadius}function Ss(){var e=new Set,t={leadIsExiting:!1},r=l.__assign({},t),n,a,i,o=na(),s=!1;function v(){return t.follow?t.follow.prevViewportBox:a}function f(){var u;return(u=t.follow)===null||u===void 0?void 0:u.getLayoutState().layout}return{add:function(u){u.setCrossfader(o),e.add(u),i&&(u.prevDragCursor=i),t.lead||(t.lead=u)},remove:function(u){e.delete(u)},getLead:function(){return t.lead},updateSnapshot:function(){if(t.lead){n=o.isActive()?o.getLatestValues():t.lead.getLatestValues(),a=t.lead.prevViewportBox;var u=Mn.get(t.lead);u&&u.isDragging&&(i=u.cursorProgress)}},clearSnapshot:function(){i=a=void 0},updateLeadAndFollow:function(){var u;r=l.__assign({},t);for(var p,c,m=Array.from(e),d=m.length;d--;d>=0){var y=m[d];if(p&&(c??(c=y)),p??(p=y),p&&c)break}t.lead=p,t.follow=c,t.leadIsExiting=((u=t.lead)===null||u===void 0?void 0:u.presence)===z.Exiting,o.setOptions({lead:p,follow:c,prevValues:n,crossfadeOpacity:c?.isPresenceRoot||p?.isPresenceRoot}),t.lead!==r.follow&&(r.lead!==t.lead||r.leadIsExiting!==t.leadIsExiting)&&(s=!0)},animate:function(u,p){var c;if(p===void 0&&(p=!1),u===t.lead){p?u.pointTo(t.lead):u.setVisibility(!0);var m={},d=(c=t.follow)===null||c===void 0?void 0:c.getProjectionParent();if(d&&(m.prevParent=d),u.presence===z.Entering?m.originBox=v():u.presence===z.Exiting&&(m.targetBox=f()),s){s=!1;var y=u.getDefaultTransition();u.presence===z.Entering?o.toLead(y):o.fromLead(y)}u.notifyLayoutReady(m)}else p?t.lead&&u.pointTo(t.lead):u.setVisibility(!1)}}}function Cs(e){for(var t=!1,r={},n=0;n<gt.length;n++){var a=gt[n],i="rotate"+a;!e.hasValue(i)||e.getStaticValue(i)===0||(t=!0,r[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){e.syncRender();for(var i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}}var Ts=function(e){l.__extends(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.children=new Set,r.stacks=new Map,r.hasMounted=!1,r.updateScheduled=!1,r.renderScheduled=!1,r.syncContext=l.__assign(l.__assign({},Je()),{syncUpdate:function(n){return r.scheduleUpdate(n)},forceUpdate:function(){r.syncContext=l.__assign({},r.syncContext),r.scheduleUpdate(!0)},register:function(n){return r.addChild(n)},remove:function(n){return r.removeChild(n)}}),r}return t.prototype.componentDidMount=function(){this.hasMounted=!0},t.prototype.componentDidUpdate=function(){this.startLayoutAnimation()},t.prototype.shouldComponentUpdate=function(){return this.renderScheduled=!0,!0},t.prototype.startLayoutAnimation=function(){var r=this;this.renderScheduled=this.updateScheduled=!1;var n=this.props.type;this.children.forEach(function(i){i.isPresent?i.presence!==z.Entering&&(i.presence=i.presence===z.Exiting?z.Entering:z.Present):i.presence=z.Exiting}),this.updateStacks();var a={layoutReady:function(i){if(i.getLayoutId()!==void 0){var o=r.getStack(i);o.animate(i,n==="crossfade")}else i.notifyLayoutReady()},parent:this.context.visualElement};this.children.forEach(function(i){return r.syncContext.add(i)}),this.syncContext.flush(a),this.stacks.forEach(function(i){return i.clearSnapshot()})},t.prototype.updateStacks=function(){this.stacks.forEach(function(r){return r.updateLeadAndFollow()})},t.prototype.scheduleUpdate=function(r){r===void 0&&(r=!1),(r||!this.updateScheduled)&&(this.updateScheduled=!0,this.children.forEach(function(n){Cs(n),n.shouldResetTransform()&&n.resetTransform()}),this.children.forEach(Bt),this.stacks.forEach(function(n){return n.updateSnapshot()}),(r||!this.renderScheduled)&&(this.renderScheduled=!0,this.forceUpdate()))},t.prototype.addChild=function(r){this.children.add(r),this.addToStack(r),r.presence=this.hasMounted?z.Entering:z.Present},t.prototype.removeChild=function(r){this.scheduleUpdate(),this.children.delete(r),this.removeFromStack(r)},t.prototype.addToStack=function(r){var n=this.getStack(r);n?.add(r)},t.prototype.removeFromStack=function(r){var n=this.getStack(r);n?.remove(r)},t.prototype.getStack=function(r){var n=r.getLayoutId();if(n!==void 0)return!this.stacks.has(n)&&this.stacks.set(n,Ss()),this.stacks.get(n)},t.prototype.render=function(){return F.createElement(Qe.Provider,{value:this.syncContext},this.props.children)},t.contextType=Se,t}(F.Component);function As(e){var t=e.children,r=l.__rest(e,["children"]);r=l.__assign(l.__assign({},P.useContext(re)),r),r.isStatic=K(function(){return r.isStatic});var n=typeof r.transition=="object"?r.transition.toString():"",a=P.useMemo(function(){return r},[n,r.transformPagePoint]);return F.createElement(re.Provider,{value:a},t)}function Vs(e){var t=e.children,r=e.features,n=e.strict,a=n===void 0?!1:n,i=l.__read(P.useState(!Yt(r)),2),o=i[1],s=P.useRef(void 0);if(!Yt(r)){var v=r.renderer,f=l.__rest(r,["renderer"]);s.current=v,ft(f)}return P.useEffect(function(){Yt(r)&&r().then(function(u){var p=u.renderer,c=l.__rest(u,["renderer"]);ft(c),s.current=p,o(!0)})},[]),F.createElement(ct.Provider,{value:{renderer:s.current,strict:a}},t)}function Yt(e){return typeof e=="function"}var sa=l.__assign(l.__assign({renderer:zt},Jr),Ir),Es=l.__assign(l.__assign(l.__assign({},sa),Dn),kn);function Pe(e){var t=K(function(){return k(e)}),r=P.useContext(re).isStatic;if(r){var n=l.__read(P.useState(e),2),a=n[1];P.useEffect(function(){return t.onChange(a)},[])}return t}function ua(e,t){P.useEffect(function(){if(Q(e))return e.onChange(t)},[t])}function Ls(e,t){P.useEffect(function(){var r=e.map(function(n){return n.onChange(t)});return function(){return r.forEach(function(n){return n()})}})}function la(e,t){var r=Pe(t()),n=function(){return r.set(t())};return n(),Ls(e,function(){return $.default.update(n,!1,!0)}),r}function ws(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=e.length;function a(){for(var i="",o=0;o<n;o++){i+=e[o];var s=t[o];s&&(i+=t[o].get())}return i}return la(t,a)}var Ms=function(e){return typeof e=="object"&&e.mix},Rs=function(e){return Ms(e)?e.mix:void 0};function fa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=!Array.isArray(e[0]),n=r?0:-1,a=e[0+n],i=e[1+n],o=e[2+n],s=e[3+n],v=V.interpolate(i,o,l.__assign({mixer:Rs(o[0])},s));return r?v(a):v}function Nt(e,t,r,n){var a=typeof t=="function"?t:fa(t,r,n);return Array.isArray(e)?ca(e,a):ca([e],function(i){var o=l.__read(i,1),s=o[0];return a(s)})}function ca(e,t){var r=K(function(){return[]});return la(e,function(){r.length=0;for(var n=e.length,a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function Ds(e,t){t===void 0&&(t={});var r=P.useContext(re).isStatic,n=P.useRef(null),a=Pe(Q(e)?e.get():e);return P.useMemo(function(){return a.attach(function(i,o){return r?o(i):(n.current&&n.current.stop(),n.current=V.animate(l.__assign(l.__assign({from:a.get(),to:i,velocity:a.getVelocity()},t),{onUpdate:o})),a.get())})},Object.values(t)),ua(e,function(i){return a.set(parseFloat(i))}),a}function Os(e){var t=Pe(e.getVelocity());return P.useEffect(function(){return e.velocityUpdateSubscribers.add(function(r){t.set(r)})},[e]),t}function va(){return{scrollX:k(0),scrollY:k(0),scrollXProgress:k(0),scrollYProgress:k(0)}}function da(e,t,r){r.set(!e||!t?0:e/t)}function pa(e,t){var r=function(){var n=t(),a=n.xOffset,i=n.yOffset,o=n.xMaxOffset,s=n.yMaxOffset;e.scrollX.set(a),e.scrollY.set(i),da(a,o,e.scrollXProgress),da(i,s,e.scrollYProgress)};return r(),r}var Is=function(e){return function(){return{xOffset:e.scrollLeft,yOffset:e.scrollTop,xMaxOffset:e.scrollWidth-e.offsetWidth,yMaxOffset:e.scrollHeight-e.offsetHeight}}};function Fs(e){var t=K(va);return Ie(function(){var r=e.current;if(G.invariant(!!r,"ref provided to useScroll must be passed into a HTML element."),!!r){var n=pa(t,Is(r)),a=ue(r,"scroll",n,{passive:!0}),i=ue(r,"resize",n);return function(){a&&a(),i&&i()}}},[]),t}var at;function Bs(){return{xOffset:window.pageXOffset,yOffset:window.pageYOffset,xMaxOffset:document.body.clientWidth-window.innerWidth,yMaxOffset:document.body.clientHeight-window.innerHeight}}var ma=!1;function js(){if(ma=!0,!(typeof window>"u")){var e=pa(at,Bs);ue(window,"scroll",e,{passive:!0}),ue(window,"resize",e)}}function Us(){return at||(at=va()),Ie(function(){!ma&&js()},[]),at}var be;function Hs(){if(be=k(null),!(typeof window>"u"))if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return be.set(e.matches)};e.addListener(t),t()}else be.set(!1)}function ks(){!be&&Hs();var e=l.__read(P.useState(be.get()),2),t=e[0],r=e[1];return ua(be,r),t}function ga(){var e=!1,t=[],r=new Set,n={subscribe:function(a){return r.add(a),function(){return void r.delete(a)}},start:function(a,i){if(e){var o=[];return r.forEach(function(s){o.push(Ke(s,a,{transitionOverride:i}))}),Promise.all(o)}else return new Promise(function(s){t.push({animation:[a,i],resolve:s})})},set:function(a){return G.invariant(e,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),r.forEach(function(i){zi(i,a)})},stop:function(){r.forEach(function(a){Ni(a)})},mount:function(){return e=!0,t.forEach(function(a){var i=a.animation,o=a.resolve;n.start.apply(n,l.__spreadArray([],l.__read(i))).then(o)}),function(){e=!1,n.stop()}}};return n}function zs(){var e=K(ga);return P.useEffect(e.mount,[]),e}function Xs(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=P.useRef(0),n=l.__read(P.useState(e[r.current]),2),a=n[0],i=n[1];return[a,function(o){r.current=typeof o!="number"?V.wrap(0,e.length,r.current+1):o,i(e[r.current])}]}var ha=function(){function e(){this.componentControls=new Set}return e.prototype.subscribe=function(t){var r=this;return this.componentControls.add(t),function(){return r.componentControls.delete(t)}},e.prototype.start=function(t,r){this.componentControls.forEach(function(n){n.start(t.nativeEvent||t,r)})},e.prototype.updateConstraints=function(t){t===void 0&&(t=!0),this.componentControls.forEach(function(r){r.updateConstraints()}),t&&Re()},e}(),Ys=function(){return new ha};function Ns(){return K(Ys)}var Kt=function(){return{}},Ks=rt({build:function(){},measureViewportBox:ne,resetTransform:function(){},restoreTransform:function(){},removeValueFromRenderState:function(){},render:function(){},scrapeMotionValuesFromProps:Kt,readValueFromInstance:function(e,t,r){return r.initialState[t]||0},makeTargetAnimatable:function(e,t){var r=t.transition,n=t.transitionEnd,a=l.__rest(t,["transition","transitionEnd"]),i=Zr(a,r||{},e);return qr(e,a,i),l.__assign({transition:r,transitionEnd:n},a)}}),Ws=St({scrapeMotionValuesFromProps:Kt,createRenderState:Kt});function Gs(e){var t=l.__read(P.useState(e),2),r=t[0],n=t[1],a=Ws({},!1),i=K(function(){return Ks({props:{},visualState:a},{initialState:e})});P.useEffect(function(){return i.mount({}),i.unmount()},[]),P.useEffect(function(){i.setProps({onUpdate:function(s){return n(l.__assign({},s))}})});var o=K(function(){return function(s){return Ke(i,s)}});return[r,o]}var qs=1e5,ya=function(e){return e>.001?1/e:qs},xa=!1;function Zs(e){var t=Pe(1),r=Pe(1),n=Qt();G.invariant(!!(e||n),"If no scale values are provided, useInvertedScale must be used within a child of another motion component."),G.warning(xa,"useInvertedScale is deprecated and will be removed in 3.0. Use the layout prop instead."),xa=!0,e?(t=e.scaleX||t,r=e.scaleY||r):n&&(t=n.getValue("scaleX",1),r=n.getValue("scaleY",1));var a=Nt(t,ya),i=Nt(r,ya);return{scaleX:a,scaleY:i}}S.AnimatePresence=ys,S.AnimateSharedLayout=Ts,S.DragControls=ha,S.FlatTree=Nn,S.FramerTreeLayoutContext=Hn,S.LayoutGroupContext=tr,S.LazyMotion=Vs,S.MotionConfig=As,S.MotionConfigContext=re,S.MotionValue=Kr,S.PresenceContext=se,S.SharedLayoutContext=Qe,S.addScaleCorrection=sr,S.animate=ra,S.animateVisualElement=Ke,S.animationControls=ga,S.batchLayout=Ze,S.createBatcher=Je,S.createCrossfader=na,S.createDomMotionComponent=cs,S.createMotionComponent=pt,S.domAnimation=sa,S.domMax=Es,S.flushLayout=Re,S.isValidMotionProp=Ve,S.m=vs,S.motion=fs,S.motionValue=k,S.resolveMotionValue=br,S.snapshotViewportBox=Bt,S.transform=fa,S.useAnimation=zs,S.useCycle=Xs,S.useDeprecatedAnimatedState=Gs,S.useDeprecatedInvertedScale=Zs,S.useDomEvent=Ue,S.useDragControls=Ns,S.useElementScroll=Fs,S.useIsPresent=Ea,S.useMotionTemplate=ws,S.useMotionValue=Pe,S.usePresence=vt,S.useReducedMotion=ks,S.useSpring=Ds,S.useTransform=Nt,S.useVelocity=Os,S.useViewportScroll=Us,S.visualElement=rt}(qt)),qt}export{_u as r};
