import{j as t,a as c,F as Y,b as Z}from"./@emotion-EoMj9DQy.js";import{I as Ve,R as ve,N as me,a as Se,M as Be,m as Ie,C as He,b as Ne,u as We,P as ze,c as $e,T as ne,D as De,d as je,e as Ee,f as Pe,U as Ue,g as Fe,L as Ze,S as Oe,H as _e,h as Ye,i as qe,j as Ke,k as Je,G as Ge,Y as Qe,l as Xe,B as et,n as oe,F as tt,o as it,E as U}from"./@tiptap-WBK_mS_8.js";import{r as m}from"./react-YvcRmcCN.js";import{a8 as x,e as O,T as _,a9 as nt,aa as ot,ab as rt,ac as lt,c as Q,ad as at,S as X,d as F,ae as re,L as le,i as ae,l as st,u as dt,af as Ce,M as ee,a3 as we,k as ct,a6 as ut,a7 as se,ag as ht}from"./@mui-BZVQUh1C.js";import{P as gt}from"./prosemirror-state-CSw5ozkr.js";import{t as pt}from"./tippy.js-CQnAOqMR.js";import{c as ft,g as vt}from"./lowlight-ypkj73XY.js";const mt=["heading","bold","italic","strike","link","underline","image","code","orderedList","bulletList","align","codeBlock","blockquote","table","history","youtube","color","mention","upload"],N=e=>e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],P=(e,i)=>!!(e!=null&&e.find(n=>typeof i=="string"?n===i:i.default?!0:i.group?i.group===n:i.name===n)),Ct=e=>new Promise(i=>{const n=new Image;n.src=URL.createObjectURL(e),n.onload=()=>{i({width:n.width,height:n.height})}}),wt=e=>e.startsWith("https://")||e.startsWith("mailto:")||e.startsWith("tel:"),xt=e=>e.startsWith("https://")&&e.includes("youtube"),xe=e=>({isValid:e.length>0&&typeof e=="string",message:"Alt text is required."}),kt=(e,i)=>({isValid:xe(e)&&e.length<=i,message:`Legend is required and be less than ${i} characters.`}),yt=e=>+(e.size/1024/1024).toFixed(4),ke=(e,i=10)=>({isValid:yt(e)<=i,message:`Files need to be less than ${i}mb in size.`}),ye=e=>({isValid:e.type.startsWith("image/"),message:"Files need to be of type image."}),be=(e,i)=>i?{isValid:i.includes(e.type),message:`Files need to be of type ${i.join(", ")}.`}:{isValid:!0,message:""},bt=(e,i=5)=>({isValid:e.length<=i,message:`You can only upload ${i} files at once.`}),Le=async(e,i=1920,n=1080)=>{const o=await Ct(e);return{isValid:o.width<=i&&o.height<=n,message:`Image dimensions should be less than ${i}x${n}.`}},Lt=()=>t(x,{children:t("svg",{fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",children:t("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})}),Te=()=>t(x,{children:c("svg",{className:"feather feather-x",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[t("line",{x1:"18",x2:"6",y1:"6",y2:"18"}),t("line",{x1:"6",x2:"18",y1:"6",y2:"18"})]})}),Tt={dialog:e=>({"& .MuiDialog-root":{padding:e.spacing(1.5)},"& .MuiPaper-root":{paddingBottom:0,paddingTop:0},"& .MuiDialogActions-root":{padding:e.spacing(1)}})},Me=({title:e,description:i,open:n,onClose:o,onPrimaryButtonAction:l,primaryButtonText:d,secondaryButtonText:a,maxWidth:w,onClick:s,loading:f,children:u,className:v,withCloseButton:g=!1,...C})=>{const p=()=>{l&&l(),o&&o()},b=t(O,{"aria-label":"close",color:"inherit",edge:"start",sx:{position:"absolute",right:0,top:0},onClick:o,children:t(Te,{})});return c(at,{...C,"aria-describedby":"alert-dialog-description","aria-labelledby":"alert-dialog-title",className:v,css:Tt.dialog,maxWidth:w,open:!!n,onClick:s,onClose:o,children:[t(nt,{id:"alert-dialog-title",children:c("div",{className:"flexRow spaceBetween center",children:[t(_,{variant:"h5",children:e}),g&&b]})}),c(ot,{children:[i&&t(rt,{id:"alert-dialog-description",children:i}),u]}),c(lt,{children:[t(Q,{onClick:o,children:a??"Cancel"}),l&&t(Q,{sx:{textTransform:"capitalize"},variant:"contained",onClick:p,children:d??"Confirm"})]})]})},Mt=()=>t(x,{children:c("svg",{fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",children:[t("line",{x1:"12",x2:"12",y1:"5",y2:"19"}),t("line",{x1:"5",x2:"19",y1:"12",y2:"12"})]})}),D={imageTextRoot:e=>i=>{const n={position:"absolute",left:10,maxWidth:"calc(100% - 20px)",padding:"0 4px",border:"1px solid "+i.palette.divider,backgroundColor:i.palette.background.paper,overflow:"hidden"};return e==="title"?n.top=10:n.bottom=10,n},buttonIconSx:{"& svg":{width:18}},addButton:{backgroundColor:"transparent",border:"none",cursor:"pointer",borderRadius:4,padding:"4px 4px 4px 12px !important",fontSize:"14px !important"}},de=({defaultValue:e,onConfirm:i,label:n,attrName:o="alt",invalidErrorMessage:l,maxLegendLength:d=100})=>{const[a,w]=m.useState(!1),[s,f]=m.useState(!1),[u,v]=m.useState(""),[g,C]=m.useState("");m.useEffect(()=>{v(e||"")},[e]);const p=()=>{w(!0),C("")},b=()=>w(!1),T=()=>f(!s),R=h=>{const{value:r}=h.target;let L,y;if(o==="alt"){const{isValid:A,message:B}=xe(r);L=A,y=B}else{const{isValid:A,message:B}=kt(r,d);L=A,y=B}if(console.log("ðŸš€ ~ handleChange ~ errorMessage:",y),L){v(r),C("");return}C(l||y)},k=async()=>{await i({[o]:u}),w(!1)},V=async()=>{await i({[o]:""}),v(""),T()};if(!s)return c(Y,{children:[c(X,{alignItems:"center",className:"tiptap-legend-text",css:D.imageTextRoot(o),direction:"row",spacing:0,children:[u&&!g?c(X,{alignItems:"center",direction:"row",spacing:2,children:[t(_,{children:u}),t(O,{size:"small",sx:D.buttonIconSx,type:"button",onClick:p,children:t(Lt,{})})]}):c("button",{className:"flexRow itemsCenter",css:[D.buttonIconSx,D.addButton],type:"button",onClick:p,children:[t(Mt,{}),t(_,{children:n})]}),t(O,{size:"small",sx:D.buttonIconSx,type:"button",onClick:V,children:t(Te,{})})]}),t(Me,{fullWidth:!0,maxWidth:"xs",open:a,title:n,onClose:b,onPrimaryButtonAction:k,children:t(F,{fullWidth:!0,error:!!g,helperText:g||(o==="title"?`${u.length}/${d}`:""),value:u,onChange:R,...o==="title"?{rows:4,multiline:!0}:{}})})]})},ce=({uploadFile:e,maxSize:i,maxFilesNumber:n=5,type:o,imageMaxWidth:l,imageMaxHeight:d,allowedMimeTypes:a=null},w,s)=>(f,u,v,g)=>{var C,p,b,T,R,k;if(!(o==="drop"?(p=(C=u.dataTransfer)===null||C===void 0?void 0:C.files)===null||p===void 0?void 0:p.length:(T=(b=u.clipboardData)===null||b===void 0?void 0:b.files)===null||T===void 0?void 0:T.length)||o==="drop"&&g)return;const h=(o==="drop"?(R=u.dataTransfer)===null||R===void 0?void 0:R.files:(k=u.clipboardData)===null||k===void 0?void 0:k.files)||[],{isValid:r,message:L}=bt(h,n);if(!r){window.alert((s==null?void 0:s.maximumNumberOfFiles)||L);return}if(h.length!==0){u.preventDefault();for(const y of h){const{isValid:A,message:B}=ye(y);if(!A){window.alert((s==null?void 0:s.shouldBeAnImage)||B);return}const{isValid:q,message:W}=be(y,a);if(!q){window.alert((s==null?void 0:s.invalidMimeType)||W);return}const{isValid:z,message:$}=ke(y,i);if(!z){window.alert((s==null?void 0:s.fileTooLarge)||$);return}const j=new FileReader;j.onload=async E=>{if(!E.target)return;const{isValid:M,message:te}=await Le(y,l,d);if(!M){window.alert((s==null?void 0:s.imageMaxSize)||te);return}let H={src:E.target.result},ie=w.state.selection.anchor;if(o==="drop"){const I=u;ie=f.posAtCoords({left:I.clientX,top:I.clientY}).pos}if(e){const I=await e(y);I&&(typeof I=="string"?H.src=I:H={...H,...I})}w.chain().insertContentAt(ie,{type:"image",attrs:H}).focus().run()},j.readAsDataURL(y)}}},ue={tiptapImageRootStyle:({isRight:e,isLeft:i})=>{const n={display:"flex",flex:1,justifyContent:"center",width:"fit-content",position:"relative"};return e?n.justifyContent="flex-end":i&&(n.justifyContent="flex-start"),n},tiptapImageRoot:{"&.ProseMirror-selectednode .tiptap-image-content":{outline:"2px solid blue"}}},At=e=>{let i="tiptap-image";return e&&(i+=" ProseMirror-selectednode"),i},Rt=({labels:e,node:i,updateAttributes:n,editor:o,maxLegendLength:l,...d})=>{const a=async s=>{await n(s)},w=s=>{const f=s.target;f.removeAttribute("width"),f.removeAttribute("height")};return t(me,{"data-drag-handle":!0,className:At(d.selected),css:ue.tiptapImageRoot,style:ue.tiptapImageRootStyle({isRight:o.isActive({textAlign:"right"}),isLeft:o.isActive({textAlign:"left"})}),children:c("div",{className:"tiptap-image-content",style:{position:"relative"},children:[c("figure",{children:[t("img",{alt:i.attrs.alt,height:"300",src:i.attrs.src,title:i.attrs.title,width:"300",onLoad:w}),i.attrs.title&&t("figcaption",{style:{display:"flex",justifyContent:"center"},children:i.attrs.title})]}),o.options.editable&&c(Y,{children:[t(de,{attrName:"alt",defaultValue:i.attrs.alt,invalidErrorMessage:(e==null?void 0:e.enterValidAltText)||"Please enter a valid alt text",label:(e==null?void 0:e.addAltText)||"Add alt text",onConfirm:a}),t(de,{attrName:"title",defaultValue:i.attrs.title,invalidErrorMessage:(e==null?void 0:e.enterValidLegendText)||"Please enter a valid legend",label:(e==null?void 0:e.addLegendText)||"Add legend",maxLegendLength:l,onConfirm:a})]})]})})},Vt=(e,i,n)=>Ve.extend({addNodeView:()=>ve(o=>t(Rt,{...o,labels:i,maxLegendLength:n}),{className:"tiptap-image"}),addProseMirrorPlugins(){const o=this.editor;return[new gt({props:{handleDrop:ce({...e,type:"drop"},o,i),handlePaste:ce({...e,type:"paste"},o,i)}})]}}).configure({allowBase64:!0}),he={list:e=>({width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,position:"relative",overflow:"auto",maxHeight:300,"& ul":{padding:0}}),item:e=>({"& .MuiTypography-root":{color:e.palette.grey[800]}})},St=m.forwardRef(({items:e,command:i},n)=>{const[o,l]=m.useState(0),d=f=>{const u=e[f];u&&i({id:u})},a=()=>{l((o+e.length-1)%e.length)},w=()=>{l((o+1)%e.length)},s=()=>{d(o)};return m.useEffect(()=>l(0),[e]),m.useImperativeHandle(n,()=>({onKeyDown:({event:f})=>f.key==="ArrowUp"?(a(),!0):f.key==="ArrowDown"?(w(),!0):f.key==="Enter"?(s(),!0):!1})),t(st,{css:he.list,children:e.length?e.map((f,u)=>t(re,{disablePadding:!0,children:t(le,{className:`item ${u===o?"is-selected":""}`,onClick:()=>d(u),children:t(ae,{css:he.item,primary:f.label})})},u)):t(re,{disablePadding:!0,children:t(le,{children:t(ae,{primary:"No results"})})})})}),Bt=(e=[])=>({items:({query:i})=>e.filter(n=>n.label.toLowerCase().startsWith(i.toLowerCase())).slice(0,5),render:()=>{let i,n;return{onStart:o=>{i=new Se(St,{props:o,editor:o.editor}),o.clientRect&&i&&(typeof document>"u"||(n=pt("body",{getReferenceClientRect:o.clientRect,appendTo:()=>document.body,content:i.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"})))},onUpdate:o=>{i&&(i.updateProps(o),o.clientRect&&n[0].setProps({getReferenceClientRect:o.clientRect}))},onKeyDown:o=>{var l;return o.event.key==="Escape"?(n[0].hide(),!0):(l=i.ref)===null||l===void 0?void 0:l.onKeyDown(o)},onExit:()=>{n[0].destroy(),i.destroy()}}}}),It=({pathname:e="/users",mentions:i})=>{const n={renderHTML({node:o,HTMLAttributes:l}){var d;return["a",Ie({href:`${e}/${l["data-id"]}`},this.options.HTMLAttributes,l),(d=this.options)===null||d===void 0?void 0:d.renderLabel({options:this.options,node:o})]},addAttributes:()=>({id:{default:null,parseHTML:o=>o.getAttribute("data-id"),renderHTML:o=>{var l;return!((l=o.id)===null||l===void 0)&&l.value?{"data-id":o.id.value}:{}}}})};return Be.extend(n).configure({HTMLAttributes:{class:"mention"},renderLabel:({options:o,node:l})=>{var d;return`${o.suggestion.char}${(d=l.attrs.label)!==null&&d!==void 0?d:l.attrs.id.label}`},suggestion:Bt(i)})},Ht=()=>t(x,{children:c("svg",{fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[t("rect",{height:"14",rx:"2",ry:"2",width:"14",x:"8",y:"8"}),t("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})}),Nt=()=>t(x,{children:t("svg",{fill:"none",height:"1em",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:t("polyline",{points:"20 6 9 17 4 12"})})}),Wt=({node:e})=>{const[i,n]=m.useState(!1);return c(me,{className:"code-block-root",children:[t("button",{onClick:()=>{navigator.clipboard.writeText(e.textContent).then(()=>{n(!0),setTimeout(()=>n(!1),2e3)})},children:i?t(Nt,{}):t(Ht,{})}),t("pre",{children:t(Ne,{as:"code"})})]})},zt=e=>{const{language:i="javascript",className:n}=e||{};return He.extend({addNodeView:()=>ve(o=>t(Wt,{...o}),{className:n})}).configure({lowlight:ft(vt),defaultLanguage:i})},$t=[$e.configure({types:[ne.name,oe.name]}),ne.configure({types:[oe.name]}),De,je,Ee,Pe,Ue,Fe.configure({HTMLAttributes:{class:"inline-code"}}),Ze.configure({openOnClick:!1,protocols:["https","mailto",{scheme:"tel",optionalSlashes:!0}],HTMLAttributes:{rel:"noopener noreferrer",target:null}}),Oe.configure({bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1},codeBlock:!1,code:!1,paragraph:!1,document:!1,gapcursor:!1,heading:!1,text:!1}),_e.configure({HTMLAttributes:{class:"custom-heading"},levels:[1,2,3,3,4,5,6]}),Ye.configure({resizable:!0}),qe,Ke,Je,Ge,Qe,Xe.configure({types:["heading","paragraph","table","image"]}),et.configure(typeof document<"u"&&{element:document.querySelector(".bubble-menu")})],Ae=({placeholder:e,onChange:i,value:n,tab:o,user:l,mentions:d,uploadFileOptions:a,uploadFileLabels:w,userPathname:s,editable:f=!0,codeBlock:u,id:v,...g})=>{const C=dt(),p=We({content:n,immediatelyRender:!1,shouldRerenderOnTransaction:!0,autofocus:!1,extensions:[ze.configure({placeholder:e}),It({pathname:s,mentions:d}),Vt(a,w,a==null?void 0:a.maxMediaLegendLength),zt(u),...$t],onUpdate:({editor:b})=>{const T=b.getHTML();i==null||i(T)},...g});return m.useEffect(()=>{p&&n&&p.isEmpty&&p.commands.setContent(n)},[p,n]),m.useEffect(()=>{p&&n&&!f&&o==="preview"&&p.commands.setContent(n)},[p,n]),m.useEffect(()=>{if(f){const b=o==="editor"?"mui-tiptap-input":"mui-tiptap-input mui-tiptap-input-preview";p==null||p.setOptions({editable:o==="editor",editorProps:{attributes:{class:b}}});return}p==null||p.setOptions({editable:!1,editorProps:{attributes:{class:"mui-tiptap-input mui-tiptap-input-preview"}}})},[p,o,f,C,v]),p},Dt=(e,i)=>[{label:(i==null?void 0:i.insertTable)||"Insert table",action:()=>e.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()},{label:(i==null?void 0:i.addColumnBefore)||"Add column before",action:()=>e.chain().focus().addColumnBefore().run()},{label:(i==null?void 0:i.addColumnAfter)||"Add column after",action:()=>e.chain().focus().addColumnAfter().run()},{label:(i==null?void 0:i.deleteColumn)||"Delete Column",action:()=>e.chain().focus().deleteColumn().run()},{label:(i==null?void 0:i.addRowBefore)||"Add row before",action:()=>e.chain().focus().addRowBefore().run()},{label:(i==null?void 0:i.addRowAfter)||"Add row after",action:()=>e.chain().focus().addRowAfter().run()},{label:(i==null?void 0:i.deleteRow)||"Delete row",action:()=>e.chain().focus().deleteRow().run()},{label:(i==null?void 0:i.deleteTable)||"Delete table",action:()=>e.chain().focus().deleteTable().run()},{label:(i==null?void 0:i.mergeCells)||"Merge cells",action:()=>e.chain().focus().mergeCells().run()},{label:(i==null?void 0:i.toggleHeaderColumn)||"Toggle header column",action:()=>e.chain().focus().toggleHeaderColumn().run()},{label:(i==null?void 0:i.toggleHeaderRow)||"Toggle header row",action:()=>e.chain().focus().toggleHeaderRow().run()},{label:(i==null?void 0:i.toggleHeaderCell)||"Toggle header cell",action:()=>e.chain().focus().toggleHeaderCell().run()},{label:(i==null?void 0:i.mergeOrSplit)||"Merge or split",action:()=>e.chain().focus().mergeOrSplit().run()},{label:(i==null?void 0:i.setCellAttribute)||"Set cell attribute",action:()=>e.chain().focus().setCellAttribute("colspan",2).run()}],jt=({editor:e,anchorEl:i,onClose:n,labels:o})=>{const l=d=>{d.action(),n()};return t(we,{anchorEl:i,id:"select-table-menu",open:!!i,TransitionComponent:Ce,MenuListProps:{"aria-labelledby":"select-table-button"},onClose:n,children:Dt(e,o).map((d,a)=>t(ee,{value:a,onClick:()=>l(d),children:d.label},a))})},Et=()=>t(x,{children:t("svg",{className:"feather feather-chevron-down",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:t("polyline",{points:"6 9 12 15 18 9"})})}),Re=({children:e,className:i,size:n=18})=>t("span",{className:Z("flexCenter",i),css:{"& svg":{fontSize:n}},children:e}),Pt=e=>e.isActive("heading",{level:1})||e.isActive("heading",{level:2})||e.isActive("heading",{level:3})||e.isActive("heading",{level:4})||e.isActive("heading",{level:5})||e.isActive("heading",{level:6}),ge=[1,2,3,4,5,6],K={heading:e=>i=>({display:"flex",alignItems:"center",alignSelf:"stretch",borderRight:e?`1px solid ${N(i)}`:"none"}),button:e=>i=>({backgroundColor:"transparent",fontWeight:500,paddingLeft:8,paddingRight:8,textTransform:"capitalize",border:e?"0px solid gray !important":"none !important",borderRight:`1px solid ${i.palette.grey[300]}`,fontSize:14,lineHeight:1,cursor:"pointer","&:hover":{backgroundColor:"transparent !important"}}),menuItem:(e,i)=>n=>({backgroundColor:e?n.palette.grey[100]:"transparent",fontSize:i})},Ut=({editor:e,headingLabels:i,split:n=!1})=>{const[o,l]=m.useState(null),[d,a]=m.useState(0),w=m.useMemo(()=>{const g=ge.find(C=>C===d);return g?i!=null&&i[`h${g}`]?i[`h${g}`]:`Heading ${g}`:i!=null&&i.normalText?i.normalText:"Normal text"},[d,i]),s=g=>{l(g.currentTarget)},f=()=>l(null),u=g=>{e.chain().focus().toggleHeading({level:g}).run(),a(g),f()},v=()=>{e.chain().focus().setParagraph().run(),a(0),f()};return c("span",{css:K.heading(n),children:[c(Q,{className:"flexRow center",color:"inherit",css:K.button(Pt(e)),type:"button",variant:"text",onClick:s,children:[t("span",{css:{marginRight:8},children:w}),t(Re,{children:t(Et,{})})]}),c(we,{anchorEl:o,id:"select-heading-menu",open:!!o,TransitionComponent:Ce,MenuListProps:{"aria-labelledby":"select-heading-button"},onClose:f,children:[t(ee,{onClick:v,children:(i==null?void 0:i.normalText)||"Normal text"}),ge.map((g,C)=>t(ee,{css:K.menuItem(e.isActive("heading",{level:g}),(10-C)*3),onClick:()=>u(g),children:(i==null?void 0:i[`h${g}`])||`Heading ${g}`},C))]})]})},Ft=({editor:e,id:i})=>{const n=o=>{const l=o.target.value;e.chain().focus().setColor(l).run()};return c(Y,{children:[t("input",{css:{width:0,height:0},id:i,type:"color",value:e.getAttributes("textStyle").color||"#000000",onChange:n}),t("div",{css:{position:"absolute",bottom:10,transform:"translate(-20%, 0px)",height:3,width:14,backgroundColor:e.getAttributes("textStyle").color||"#000000",borderRadius:3}})]})},Zt=e=>({url:{validation:xt(e.url),error:"Invalid youtube URL"},width:{validation:typeof e.width=="number"&&e.width>0,error:"Width must be greater than 0"},height:{validation:typeof e.height=="number"&&e.height>0,error:"Height must be greater than 0"}}),pe={url:"",width:640,height:480},Ot=({editor:e,open:i,onClose:n,labels:o})=>{const[l,d]=m.useState(pe),[a,w]=m.useState(null),s=v=>{d(g=>({...g,[v.target.name]:v.target.value}))},f=()=>{n(),d(pe),w(null)};if(!e)return null;const u=()=>{const v=Zt(l);let g=!1;Object.keys(v).forEach(C=>{v[C].validation||(w(p=>({...p,[C]:v[C].error})),g=!0)}),!g&&l.url&&(e.commands.setYoutubeVideo({src:l.url,width:Math.max(320,l.width),height:Math.max(180,l.height)}),f())};return t(Me,{fullWidth:!0,open:i,title:(o==null?void 0:o.title)||"Insert Youtube Video",onClose:f,onPrimaryButtonAction:u,children:c(X,{spacing:3,children:[t(F,{fullWidth:!0,error:!!(a!=null&&a.url),helperText:a==null?void 0:a.url,label:(o==null?void 0:o.link)||"Link",name:"url",placeholder:(o==null?void 0:o.insert)||"Enter the link",type:"url",value:l.url,variant:"outlined",onChange:s}),t(F,{fullWidth:!0,error:!!(a!=null&&a.width),helperText:a==null?void 0:a.width,label:(o==null?void 0:o.width)||"Width",name:"width",type:"number",value:l.width,variant:"outlined",onChange:s}),t(F,{fullWidth:!0,error:!!(a!=null&&a.height),helperText:a==null?void 0:a.height,label:(o==null?void 0:o.height)||"Height",name:"height",type:"number",value:l.height,variant:"outlined",onChange:s})]})})},_t=()=>t(x,{children:t("svg",{"data-name":"Layer 1",height:"24",id:"Layer_1",viewBox:"0 0 19.29 24",width:"19.29",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M12.33,24H0V0H11.33a7,7,0,0,1,5.34,11.53A7,7,0,0,1,12.33,24ZM4,20h8.31a3,3,0,0,0,1.14-.23,3,3,0,0,0,1-.65,3,3,0,0,0,.65-1,3,3,0,0,0,0-2.3,3,3,0,0,0-.65-1,3,3,0,0,0-1-.65A3,3,0,0,0,12.31,14H4ZM4,10h7.33a3,3,0,0,0,1.15-.23,2.81,2.81,0,0,0,1-.65,3,3,0,0,0,.65-1,3,3,0,0,0,0-2.3,3,3,0,0,0-.65-1,2.81,2.81,0,0,0-1-.65A3,3,0,0,0,11.33,4H4Z",fill:"currentColor"})})}),Yt=()=>t(x,{children:t("svg",{fill:"none",height:"14",viewBox:"0 0 14 14",width:"14",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M13.75 1.75V0.25H4V1.75H7.855L4.5775 12.25H0.25V13.75H10V12.25H6.145L9.4225 1.75H13.75Z",fill:"currentColor"})})}),qt=()=>t(x,{children:t("svg",{fill:"none",height:"16",viewBox:"0 0 18 16",width:"18",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M18 7.25016H10.467C10.134 7.16062 9.79943 7.07686 9.4635 6.99891C7.3575 6.50091 6.1665 6.13641 6.1665 4.43166C6.1494 4.13738 6.19297 3.84272 6.29451 3.56597C6.39604 3.28923 6.55338 3.03631 6.75675 2.82291C7.3938 2.29904 8.19173 2.01038 9.0165 2.00541C11.139 1.95291 12.1178 2.67291 12.918 3.76792L14.1293 2.88291C13.5623 2.06868 12.7893 1.41955 11.8893 1.00185C10.9893 0.58414 9.99461 0.412828 9.00675 0.505415C7.79326 0.513162 6.62264 0.955073 5.70675 1.75116C5.35961 2.10329 5.08829 2.52279 4.90951 2.9838C4.73072 3.44481 4.64828 3.93756 4.66725 4.43166C4.63436 4.97233 4.73592 5.51272 4.96286 6.00455C5.1898 6.49638 5.53505 6.92433 5.96775 7.25016H0V8.75016H10.239C11.7143 9.17766 12.5963 9.73416 12.6188 11.2687C12.6431 11.5965 12.5982 11.9257 12.4868 12.2349C12.3754 12.5442 12.2001 12.8265 11.9722 13.0634C11.1786 13.689 10.1926 14.0201 9.18225 14.0002C8.42813 13.9783 7.68886 13.7853 7.02035 13.4356C6.35184 13.086 5.77159 12.5889 5.3235 11.9819L4.17375 12.9449C4.7563 13.7213 5.50792 14.3548 6.37167 14.7975C7.23541 15.2402 8.1886 15.4805 9.159 15.5002H9.234C10.6191 15.5161 11.9634 15.0317 13.02 14.1359C13.395 13.7578 13.6865 13.3053 13.8758 12.8075C14.065 12.3098 14.1478 11.7779 14.1188 11.2462C14.1467 10.3366 13.8398 9.4484 13.2562 8.75016H18V7.25016Z",fill:"currentColor"})})}),Kt=()=>t(x,{children:t("svg",{fill:"none",height:"18",viewBox:"0 0 18 18",width:"18",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M0 16.5H18V18H0V16.5ZM9 14.25C7.60761 14.25 6.27226 13.6969 5.28769 12.7123C4.30312 11.7277 3.75 10.3924 3.75 9V0.75H5.25V9C5.25 9.99456 5.64509 10.9484 6.34835 11.6517C7.05161 12.3549 8.00544 12.75 9 12.75C9.99456 12.75 10.9484 12.3549 11.6517 11.6517C12.3549 10.9484 12.75 9.99456 12.75 9V0.75H14.25V9C14.25 10.3924 13.6969 11.7277 12.7123 12.7123C11.7277 13.6969 10.3924 14.25 9 14.25Z",fill:"currentColor"})})}),Jt=()=>t(x,{children:c("svg",{fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[t("path",{d:"M21.9368 5.07013C21.5188 4.65061 21.022 4.31774 20.475 4.09062C19.928 3.8635 19.3416 3.74658 18.7493 3.74658C18.1571 3.74658 17.5706 3.8635 17.0236 4.09062C16.4767 4.31774 15.9799 4.65061 15.5618 5.07013L16.6268 6.13513C16.9061 5.85591 17.2375 5.63442 17.6024 5.4833C17.9672 5.33219 18.3582 5.25441 18.7531 5.25441C19.148 5.25441 19.539 5.33219 19.9038 5.4833C20.2686 5.63442 20.6001 5.85591 20.8793 6.13513C21.1586 6.41435 21.38 6.74584 21.5312 7.11066C21.6823 7.47548 21.7601 7.8665 21.7601 8.26138C21.7601 8.65626 21.6823 9.04728 21.5312 9.4121C21.38 9.77692 21.1586 10.1084 20.8793 10.3876L14.8793 16.3876C14.3164 16.9515 13.5525 17.2687 12.7557 17.2695C11.9589 17.2702 11.1945 16.9543 10.6306 16.3914C10.0667 15.8285 9.74946 15.0646 9.74876 14.2678C9.74806 13.471 10.0639 12.7065 10.6268 12.1426L11.6843 11.0776L10.6268 10.0126L9.56183 11.0776C9.14231 11.4957 8.80944 11.9925 8.58232 12.5394C8.3552 13.0864 8.23828 13.6729 8.23828 14.2651C8.23828 14.8574 8.3552 15.4438 8.58232 15.9908C8.80944 16.5378 9.14231 17.0346 9.56183 17.4526C10.4104 18.2904 11.5569 18.757 12.7493 18.7501C13.3439 18.7526 13.933 18.6372 14.4827 18.4106C15.0324 18.184 15.5317 17.8508 15.9518 17.4301L21.9518 11.4301C22.7925 10.5844 23.2632 9.43953 23.2604 8.24703C23.2576 7.05452 22.7815 5.91189 21.9368 5.07013Z",fill:"currentColor"}),t("path",{d:"M3.14333 18.6149C2.86328 18.3361 2.64105 18.0048 2.48941 17.6399C2.33777 17.275 2.25971 16.8838 2.25971 16.4886C2.25971 16.0935 2.33777 15.7022 2.48941 15.3373C2.64105 14.9725 2.86328 14.6411 3.14333 14.3624L9.14333 8.36237C9.42209 8.08231 9.75342 7.86008 10.1183 7.70844C10.4832 7.55681 10.8744 7.47875 11.2696 7.47875C11.6647 7.47875 12.056 7.55681 12.4209 7.70844C12.7857 7.86008 13.1171 8.08231 13.3958 8.36237C13.6741 8.64332 13.8932 8.97727 14.04 9.34443C14.1869 9.71159 14.2586 10.1045 14.2508 10.4999C14.2531 10.8965 14.1767 11.2896 14.0261 11.6565C13.8755 12.0234 13.6536 12.3568 13.3733 12.6374L11.7833 14.2499L12.8483 15.3149L14.4383 13.7249C15.2847 12.8785 15.7602 11.7306 15.7602 10.5336C15.7602 9.33667 15.2847 8.18874 14.4383 7.34237C13.592 6.49599 12.444 6.02051 11.2471 6.02051C10.0501 6.02051 8.9022 6.49599 8.05583 7.34237L2.05583 13.3424C1.63518 13.7606 1.30136 14.2578 1.07357 14.8055C0.845783 15.3532 0.728516 15.9405 0.728516 16.5336C0.728516 17.1268 0.845783 17.7141 1.07357 18.2618C1.30136 18.8094 1.63518 19.3067 2.05583 19.7249C2.90995 20.5562 4.059 21.0148 5.25083 20.9999C6.45316 21.001 7.60712 20.5265 8.46083 19.6799L7.39583 18.6149C7.11708 18.8949 6.78574 19.1172 6.42086 19.2688C6.05597 19.4204 5.66472 19.4985 5.26958 19.4985C4.87444 19.4985 4.48319 19.4204 4.11831 19.2688C3.75342 19.1172 3.42209 18.8949 3.14333 18.6149Z",fill:"currentColor"})]})}),Gt=()=>t(x,{children:c("svg",{className:"feather feather-list",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[t("line",{x1:"8",x2:"21",y1:"6",y2:"6"}),t("line",{x1:"8",x2:"21",y1:"12",y2:"12"}),t("line",{x1:"8",x2:"21",y1:"18",y2:"18"}),t("line",{x1:"3",x2:"3.01",y1:"6",y2:"6"}),t("line",{x1:"3",x2:"3.01",y1:"12",y2:"12"}),t("line",{x1:"3",x2:"3.01",y1:"18",y2:"18"})]})}),Qt=()=>t(x,{children:t("svg",{"data-name":"Layer 1",height:"17.5",id:"Layer_1",viewBox:"0 0 20 17.5",width:"20",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M18.75,7.5h-10a1.25,1.25,0,0,0,0,2.5h10a1.25,1.25,0,0,0,0-2.5Zm-10-3.75h10a1.25,1.25,0,0,0,0-2.5h-10a1.25,1.25,0,0,0,0,2.5Zm10,10h-10a1.25,1.25,0,0,0,0,2.5h10a1.25,1.25,0,0,0,0-2.5ZM1.56,7.5H4.69a1,1,0,0,0,.94-1,.91.91,0,0,0-.94-.94H4.06V.94A1,1,0,0,0,3.59.12a1,1,0,0,0-.94,0L1.4.86a.94.94,0,0,0,.79,1.69V5.62H1.56a.94.94,0,0,0,0,1.88Zm3.76,8.12H3.39l1.43-1.26a2.85,2.85,0,0,0,.31-4,2.78,2.78,0,0,0-2-1,2.9,2.9,0,0,0-2.11.69l-.49.43a.94.94,0,0,0,1.22,1.42l.49-.42a1,1,0,0,1,1.43.11A.94.94,0,0,1,3.58,13L.31,15.86A.94.94,0,0,0,.94,17.5H5.33a.93.93,0,0,0,.93-.9A1,1,0,0,0,5.32,15.62Z",fill:"currentColor"})})}),Xt=()=>t(x,{children:c("svg",{className:"feather feather-align-left",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[t("line",{x1:"17",x2:"3",y1:"10",y2:"10"}),t("line",{x1:"21",x2:"3",y1:"6",y2:"6"}),t("line",{x1:"21",x2:"3",y1:"14",y2:"14"}),t("line",{x1:"17",x2:"3",y1:"18",y2:"18"})]})}),ei=()=>t(x,{children:c("svg",{className:"feather feather-align-center",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[t("line",{x1:"18",x2:"6",y1:"10",y2:"10"}),t("line",{x1:"21",x2:"3",y1:"6",y2:"6"}),t("line",{x1:"21",x2:"3",y1:"14",y2:"14"}),t("line",{x1:"18",x2:"6",y1:"18",y2:"18"})]})}),ti=()=>t(x,{children:c("svg",{className:"feather feather-align-right",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[t("line",{x1:"21",x2:"7",y1:"10",y2:"10"}),t("line",{x1:"21",x2:"3",y1:"6",y2:"6"}),t("line",{x1:"21",x2:"3",y1:"14",y2:"14"}),t("line",{x1:"21",x2:"7",y1:"18",y2:"18"})]})}),ii=()=>t(x,{children:c("svg",{className:"feather feather-align-justify",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[t("line",{x1:"21",x2:"3",y1:"10",y2:"10"}),t("line",{x1:"21",x2:"3",y1:"6",y2:"6"}),t("line",{x1:"21",x2:"3",y1:"14",y2:"14"}),t("line",{x1:"21",x2:"3",y1:"18",y2:"18"})]})}),ni=()=>t(x,{children:t("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M9.983 3v7.391c0 5.704-3.731 9.57-8.983 10.609l-.995-2.151c2.432-.917 3.995-3.638 3.995-5.849h-4v-10h9.983zm14.017 0v7.391c0 5.704-3.748 9.571-9 10.609l-.996-2.151c2.433-.917 3.996-3.638 3.996-5.849h-3.983v-10h9.983z",fill:"currentColor"})})}),oi=()=>t(x,{children:c("svg",{className:"feather feather-code",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[t("polyline",{points:"16 18 22 12 16 6"}),t("polyline",{points:"8 6 2 12 8 18"})]})}),ri=()=>t(x,{children:t("svg",{className:"feather feather-table",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"})})}),li=()=>t(x,{children:c("svg",{className:"feather feather-youtube",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[t("path",{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"}),t("polygon",{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"})]})}),ai=()=>t(x,{children:c("svg",{className:"feather feather-corner-up-left",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[t("polyline",{points:"9 14 4 9 9 4"}),t("path",{d:"M20 20v-7a4 4 0 0 0-4-4H4"})]})}),si=()=>t(x,{children:c("svg",{className:"feather feather-corner-up-right",fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[t("polyline",{points:"15 14 20 9 15 4"}),t("path",{d:"M4 20v-7a4 4 0 0 1 4-4h12"})]})}),di=()=>t(x,{children:t("svg",{fill:"none",height:"22",viewBox:"0 0 22 22",width:"22",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M19.2263 6.24984C16.6033 1.70784 10.7943 0.151841 6.25233 2.77484C1.70933 5.39684 0.153329 11.2058 2.77533 15.7488C5.39833 20.2908 11.2063 21.8478 15.7493 19.2258C15.9215 19.128 16.1254 19.1021 16.3165 19.154C16.5077 19.2059 16.6705 19.3313 16.7695 19.5028C16.8686 19.6743 16.8957 19.8781 16.8451 20.0695C16.7945 20.261 16.6702 20.4247 16.4993 20.5248C11.2393 23.5618 4.51233 21.7598 1.47533 16.4988C-1.56167 11.2398 0.240329 4.51184 5.50133 1.47484C10.7603 -1.56216 17.4883 0.239841 20.5253 5.50084C21.3787 6.9746 21.8769 8.62697 21.9803 10.3268C21.9933 10.3828 22.0003 10.4398 22.0003 10.4998V12.7498C22.0005 13.5369 21.7354 14.3011 21.2478 14.919C20.7602 15.5368 20.0786 15.9723 19.313 16.155C18.5474 16.3378 17.7426 16.2572 17.0285 15.9262C16.3144 15.5952 15.7327 15.0331 15.3773 14.3308C14.5966 15.3568 13.4803 16.0758 12.2233 16.3624C10.9664 16.6491 9.64866 16.485 8.50035 15.899C7.35204 15.3129 6.44609 14.3421 5.94073 13.1561C5.43537 11.97 5.3627 10.6441 5.73543 9.40998C6.10816 8.17582 6.90259 7.11181 7.97999 6.40378C9.05738 5.69574 10.3493 5.38869 11.63 5.53623C12.9107 5.68378 14.099 6.27654 14.9871 7.21101C15.8753 8.14548 16.407 9.36226 16.4893 10.6488C16.4965 10.6915 16.5001 10.7346 16.5003 10.7778V12.7498C16.5003 13.2803 16.711 13.789 17.0861 14.1641C17.4612 14.5391 17.9699 14.7498 18.5003 14.7498C19.0308 14.7498 19.5395 14.5391 19.9145 14.1641C20.2896 13.789 20.5003 13.2803 20.5003 12.7498V10.9838C20.499 9.32162 20.0596 7.68811 19.2263 6.24984ZM15.0003 10.9998C15.0003 9.93897 14.5789 8.92156 13.8288 8.17141C13.0786 7.42127 12.0612 6.99984 11.0003 6.99984C9.93946 6.99984 8.92205 7.42127 8.1719 8.17141C7.42176 8.92156 7.00033 9.93897 7.00033 10.9998C7.00033 12.0607 7.42176 13.0781 8.1719 13.8283C8.92205 14.5784 9.93946 14.9998 11.0003 14.9998C12.0612 14.9998 13.0786 14.5784 13.8288 13.8283C14.5789 13.0781 15.0003 12.0607 15.0003 10.9998Z",fill:"currentColor"})})}),ci=()=>t(x,{children:c("svg",{fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",children:[t("rect",{height:"18",rx:"2",ry:"2",width:"18",x:"3",y:"3"}),t("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),t("polyline",{points:"21 15 16 10 5 21"})]})}),ui=()=>t(x,{children:t("svg",{height:"24",role:"presentation",width:"24",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M14 12.5h-4l-.874 2.186A.5.5 0 0 1 8.66 15H7.273a.5.5 0 0 1-.456-.705l4.05-9A.5.5 0 0 1 11.323 5h1.354a.5.5 0 0 1 .456.295l4.05 9a.5.5 0 0 1-.456.705h-1.388a.5.5 0 0 1-.465-.314L14 12.5zm-.6-1.5L12 7.5 10.6 11h2.8z",fill:"currentColor",fillRule:"evenodd"})})}),hi=({editor:e,labels:i,id:n,uploadFile:o,maxSize:l,imageMaxWidth:d,imageMaxHeight:a,allowedMimeTypes:w=null})=>{const s=m.useRef(null);return t("input",{ref:s,css:{display:"none"},id:n,type:"file",onChange:()=>{if(!s.current)return;const u=s.current.files;if(u&&u.length===0||!u)return;const v=u[0],{isValid:g,message:C}=ye(v);if(!g){window.alert((i==null?void 0:i.shouldBeAnImage)||C);return}const{isValid:p,message:b}=be(v,w);if(!p){window.alert((i==null?void 0:i.invalidMimeType)||b);return}const{isValid:T,message:R}=ke(v,l);if(!T){window.alert((i==null?void 0:i.fileTooLarge)||R);return}const k=new FileReader;k.onload=async V=>{const h=V.target;if(!h)return;const{isValid:r,message:L}=await Le(v,d,a);if(!r){window.alert((i==null?void 0:i.imageMaxSize)||L);return}let y={src:h.result};if(o){const A=await o(v);A&&(typeof A=="string"?y.src=A:y={...y,...A})}e.chain().focus().setImage(y).run()},k.readAsDataURL(v)}})},gi=()=>t(x,{children:c("svg",{height:"29.69",viewBox:"0 0 24 29.69",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[t("path",{d:"M7.37,12.84,3.55,16.65a1.18,1.18,0,0,0,0,1.66L7.24,22A1.18,1.18,0,0,0,8.9,22a1.18,1.18,0,0,0,0-1.67L6.05,17.48l3-3a1.17,1.17,0,0,0-1.66-1.66Z",fill:"currentColor"}),t("path",{d:"M15,14.5l3,3L15.1,20.34A1.17,1.17,0,0,0,16.76,22l3.69-3.69a1.18,1.18,0,0,0,0-1.66l-3.81-3.81a1.18,1.18,0,0,0-1.67,0A1.17,1.17,0,0,0,15,14.5Z",fill:"currentColor"}),t("path",{d:"M9.61,25.21a1,1,0,0,0,.23,0,.78.78,0,0,0,.75-.56L14.9,10.61a.78.78,0,1,0-1.49-.46L9.09,24.23A.79.79,0,0,0,9.61,25.21Z",fill:"currentColor"}),t("path",{d:"M7.69,0,0,8.12V29.69H24V0ZM7,3.41V7H3.6ZM22.14,27.83H1.86v-19h7v-7H22.14Z",fill:"currentColor"})]})}),J={topToolbar:e=>({borderBottom:"1px solid "+N(e),paddingLeft:8,paddingRight:8,order:-1}),bottomToolbar:e=>({marginTop:-1,borderTop:"1px solid "+N(e),paddingLeft:8,paddingRight:8}),button:(e,i)=>n=>{let o="transparent";const l=n.palette.mode==="light";return e&&(l?o=n.palette.grey[100]:o=n.palette.grey[800]),{position:"relative",borderRadius:0,border:"none",borderRight:i?`1px solid ${N(n)}`:"none",cursor:"pointer",height:24,width:24,padding:18,backgroundColor:o,"&.Mui-disabled":{opacity:.4}}},splittedBorder:e=>({borderRight:"1px solid "+N(e)})},G=({editor:e,className:i,labels:n,uploadFileOptions:o,position:l,colorId:d,toolbar:a=mt})=>{var w;const[s,f]=m.useState(!1),u=m.useCallback(()=>f(!s),[s]),[v,g]=m.useState(!1),C=m.useCallback(()=>g(!v),[v]),[p,b]=m.useState(null),T=m.useCallback(h=>{b(h.currentTarget)},[]),R=()=>{b(null)},k=m.useCallback(()=>{var h;const r=e.getAttributes("link").href,L=window.prompt("URL",r);if(L===null)return;if(L===""){e.chain().focus().extendMarkRange("link").unsetLink().run();return}if(!wt(L)){window.alert(((h=n==null?void 0:n.link)===null||h===void 0?void 0:h.invalid)||"Invalid URL");return}e.chain().focus().extendMarkRange("link").setLink({href:L}).run()},[e,(w=n==null?void 0:n.link)===null||w===void 0?void 0:w.invalid]),V=m.useMemo(()=>{var h;const r=n==null?void 0:n.toolbar;return[{name:"bold",icon:_t,iconSize:12,onClick:()=>e.chain().focus().toggleBold().run(),disabled:!e.can().chain().focus().toggleBold().run(),tooltip:(r==null?void 0:r.bold)||"Bold"},{name:"italic",icon:Yt,iconSize:12,onClick:()=>e.chain().focus().toggleItalic().run(),disabled:!e.can().chain().focus().toggleItalic().run(),tooltip:(r==null?void 0:r.italic)||"Italic"},{name:"strike",icon:qt,iconSize:14,onClick:()=>e.chain().focus().toggleStrike().run(),disabled:!e.can().chain().focus().toggleStrike().run(),tooltip:(r==null?void 0:r.strike)||"Strike through"},{name:"underline",iconSize:14,icon:Kt,onClick:()=>e.chain().focus().toggleUnderline().run(),disabled:!e.can().chain().focus().toggleUnderline().run(),tooltip:(r==null?void 0:r.underline)||"Underline",split:!0},{name:"color",id:d||"color",icon:ui,disabled:!1,component:t(Ft,{editor:e,id:d||"color"}),tooltip:(r==null?void 0:r.color)||"Text color",split:!0,iconSize:24},{name:"align-left",icon:Xt,onClick:()=>e.chain().focus().setTextAlign("left").run(),disabled:!1,active:{textAlign:"left"},group:"align",tooltip:(r==null?void 0:r.alignLeft)||"Left align"},{name:"align-center",icon:ei,onClick:()=>e.chain().focus().setTextAlign("center").run(),disabled:!1,active:{textAlign:"center"},group:"align",tooltip:(r==null?void 0:r.alignCenter)||"Center align"},{name:"align-right",icon:ti,onClick:()=>e.chain().focus().setTextAlign("right").run(),disabled:!1,active:{textAlign:"right"},group:"align",tooltip:(r==null?void 0:r.alignRight)||"Right align"},{name:"align-justify",icon:ii,onClick:()=>e.chain().focus().setTextAlign("justify").run(),disabled:!1,active:{textAlign:"justify"},split:!0,group:"align",tooltip:(r==null?void 0:r.alignJustify)||"Justify align"},{name:"bulletList",icon:Gt,onClick:()=>e.chain().focus().toggleBulletList().run(),disabled:!e.can().chain().focus().toggleBulletList().run(),tooltip:(r==null?void 0:r.bulletList)||"Bullet list"},{name:"orderedList",icon:Qt,onClick:()=>e.chain().focus().toggleOrderedList().run(),disabled:!e.can().chain().focus().toggleOrderedList().run(),split:!0,tooltip:(r==null?void 0:r.orderedList)||"Ordered list",iconSize:14},{name:"link",icon:Jt,onClick:k,disabled:!1,tooltip:(r==null?void 0:r.link)||"Link"},{name:"upload",id:"upload",icon:ci,disabled:!1,component:t(hi,{editor:e,id:"upload",...o}),tooltip:(r==null?void 0:r.upload)||"Upload image",iconSize:16},{name:"mention",icon:di,onClick:()=>e.chain().focus().insertContent("@").run(),disabled:!1,tooltip:(r==null?void 0:r.mention)||"Mention user",iconSize:16},{name:"table",icon:ri,onClick:L=>{T(L)},disabled:!1,split:!0,tooltip:((h=n==null?void 0:n.table)===null||h===void 0?void 0:h.table)||"Table"},{name:"blockquote",icon:ni,onClick:()=>e.chain().focus().toggleBlockquote().run(),disabled:!1,tooltip:(r==null?void 0:r.blockquote)||"Block quote",iconSize:16},{name:"codeBlock",icon:gi,onClick:()=>e.chain().focus().toggleCodeBlock().run(),disabled:!1,tooltip:(r==null?void 0:r.codeBlock)||"Code block",iconSize:16},{name:"code",icon:oi,onClick:()=>e.chain().focus().toggleCode().run(),disabled:!1,split:!0,tooltip:(r==null?void 0:r.inlineCode)||"Inline code"},{name:"youtube",icon:li,onClick:C,disabled:!1,split:!0,tooltip:(r==null?void 0:r.youtube)||"Youtube"},{name:"undo",icon:ai,onClick:()=>e.chain().focus().undo().run(),disabled:!e.can().undo(),default:!0,tooltip:(r==null?void 0:r.undo)||"Undo"},{name:"redo",icon:si,onClick:()=>e.chain().focus().redo().run(),disabled:!e.can().redo(),default:!0,split:!0,tooltip:(r==null?void 0:r.redo)||"Redo"}]},[e,e.can().undo,e.can().redo,C,T,n,k,o,u]);return c("div",{className:Z(i,"flexRow center"),css:l?l==="bottom"?J.bottomToolbar:J.topToolbar:void 0,children:[P(a,"heading")&&t(Ut,{split:!0,editor:e,headingLabels:n==null?void 0:n.headings}),V.map((h,r)=>{if(!P(a,h))return null;const L=h.id?"label":m.Fragment,y=h.id?{htmlFor:h.id,css:{cursor:"pointer"}}:{};return t(m.Fragment,{children:t(ct,{title:h.tooltip,children:t("span",{children:c(O,{disabled:h.disabled,css:J.button(e.isActive(h.active||h.name),!!h.split),onClick:h.onClick,children:[t(L,{...y,children:t(Re,{size:h.iconSize,children:t(h.icon,{})})}),h.component]})})})},h.name+r)}),P(a,"youtube")&&t(Ot,{editor:e,labels:n==null?void 0:n.youtube,open:v,onClose:C}),P(a,"table")&&t(jt,{anchorEl:p,editor:e,labels:n==null?void 0:n.table,onClose:R})]})},fe=["heading","bold","italic","underline","link","bulletList"],S={input:e=>({paddingBottom:0,border:`1px solid ${N(e)} !important`,borderTopRightRadius:4,borderBottomRightRadius:4,borderBottomLeftRadius:4}),label:e=>({pointerEvents:"none",color:e.palette.grey[800],fontStyle:"normal",fontWeight:400,lineHeight:1,zIndex:100,padding:"4px 3px",marginBottom:6}),tabs:{"& .MuiTabs-indicator":{display:"flex",justifyContent:"center",backgroundColor:"transparent"},"& .MuiTabs-indicatorSpan":{maxWidth:40,width:"100%",backgroundColor:"transparent"}},tab:e=>({textTransform:"none",fontWeight:500,fontSize:14,marginRight:e.spacing(1),"&.Mui-selected":{color:e.palette.mode==="light"?"#000":"#fff",backgroundColor:e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[800],borderTopLeftRadius:2,borderTopRightRadius:2},"&.Mui-focusVisible":{backgroundColor:"rgba(100, 95, 228, 0.32)"}}),menu:e=>({border:`1px solid ${e.palette.grey[300]}`,paddingLeft:4,paddingRight:4,borderRadius:3,minWidth:400}),bubbleMenu:e=>({backgroundColor:e.palette.background.paper})},yi=({placeholder:e,label:i,error:n,onChange:o,inputClassName:l,value:d,toolbarClassName:a,tabsClassName:w,tabClassName:s,rootClassName:f,toolbar:u,bubbleMenuToolbar:v,floatingMenuToolbar:g,errorClassName:C,labelClassName:p,user:b,mentions:T,userPathname:R,labels:k,uploadFileOptions:V,id:h,editable:r=!0,withFloatingMenu:L=!1,withBubbleMenu:y=!0,disableTabs:A=!1,toolbarPosition:B="bottom",...q})=>{var W,z;const[$,j]=m.useState("editor"),E=(te,H)=>j(H),M=Ae({placeholder:e,onChange:o,value:d,tab:$,editable:r,user:b,mentions:T,userPathname:R,uploadFileOptions:V,id:h,uploadFileLabels:k==null?void 0:k.upload,...q});return r?c("div",{className:f,css:{position:"relative"},children:[i&&t(_,{className:p,css:S.label,children:i}),!A&&c(ut,{"aria-label":"basic tabs example",className:w,css:S.tabs,TabIndicatorProps:{children:t("span",{className:"MuiTabs-indicatorSpan"})},value:$,onChange:E,children:[t(se,{className:s,css:S.tab,label:((W=k==null?void 0:k.editor)===null||W===void 0?void 0:W.editor)||"Editor",value:"editor"}),t(se,{className:s,css:S.tab,label:((z=k==null?void 0:k.editor)===null||z===void 0?void 0:z.preview)||"Preview"})]}),$==="editor"?c(Y,{children:[t("div",{className:Z("positionRelative flexColumn tiptap",l),css:S.input,children:c("div",{className:"positionRelative stretchSelf flexColumn",children:[M&&L&&t(tt,{editor:M,tippyOptions:{duration:100},children:t(G,{css:[S.menu,S.bubbleMenu],editor:M,labels:k,toolbar:g||fe,uploadFileOptions:V})}),M&&y&&t(it,{editor:M,tippyOptions:{duration:100},children:t(G,{css:[S.menu,S.bubbleMenu],editor:M,toolbar:v||fe,uploadFileOptions:V})}),t(U,{className:"stretchSelf",editor:M}),M&&t(G,{className:Z("stretchSelf",a),colorId:h,editor:M,labels:k,position:B,toolbar:u,uploadFileOptions:V})]})}),n&&t(ht,{error:!0,className:C,css:{paddingTop:4,paddingBottom:4},children:n})]}):t(U,{className:l,editor:M})]}):t(U,{className:l,editor:M})},bi=({value:e,className:i,...n})=>{const o=Ae({value:e,tab:"preview",editable:!1,...n});return t(U,{className:i,editor:o})};export{yi as T,bi as a};
//# sourceMappingURL=mui-tiptap-editor-CKmum6od.js.map
