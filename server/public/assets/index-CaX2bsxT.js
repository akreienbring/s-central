import{r as i,j as e}from"./react-YvcRmcCN.js";import{i as Sn}from"./i18next-Bhc83OLH.js";import{i as kn,u as N}from"./react-i18next-C_etNCZW.js";import{R as $n}from"./react-dom-D6g9RuxE.js";import{H as Pn,a as ie}from"./react-helmet-async-DcJWv44E.js";import{P as d}from"./prop-types-CfwMstEi.js";import{u as De,L as Fn,a as Ee,b as Rn,O as Tn,N as st,B as On}from"./react-router-C-Pay-iF.js";import{u as he,a as Ce,B as T,S as P,T as F,s as Ie,b as O,A as pe,c as Y,D as ae,L as _t,C as Dn,F as Ae,d as ne,I as Me,e as q,M as W,f as Je,g as se,P as ye,h as Se,i as ge,j as En,k as Ke,l as rt,m as ot,n as In,o as An,p as vt,q as Ln,r as Bn,t as Nn,v as Un,w as le,x as Ye,y as zn,z as xe,G as X,E as Te,H as Wn,J as Le,K as Z,N as Mn,O as be,Q as Hn,R as qn,U as Gn,V as Vn,W as Jn,X as Kn,Y as Yn,Z as Zn,_ as Xn,$ as it,a0 as ke,a1 as Qn,a2 as es,a3 as ts,a4 as ns,a5 as at,a6 as ss,a7 as $e}from"./@mui-BZVQUh1C.js";import{f as Ze,a as rs,b as os,e as lt,c as is,d as as}from"./date-fns-JtfnYCj8.js";import{m as ls,i as wt,d as cs}from"./lodash-go5Le9ZM.js";import{n as ds}from"./numeral-CYIW3hT4.js";import{A as us}from"./react-apexcharts-D8gj4NEo.js";import{C as ps}from"./react-material-ui-carousel-BgCwmzYi.js";import{T as hs,a as ct}from"./mui-tiptap-editor-CKmum6od.js";import"./@emotion-EoMj9DQy.js";import{w as xs}from"./websocket-CiUm3yCo.js";import{c as gs}from"./sha256-uint8array-DNUmUZDr.js";import{I as fs}from"./@iconify-Bg5vU_qf.js";import{S as ms}from"./mui-color-input-Cl3INVqR.js";import{S as bs}from"./simplebar-react-C6do4KcL.js";import"./index-CaX2bsxT.js";import"./scheduler-SPyfQU6S.js";import"./react-fast-compare-Beq8Niaf.js";import"./invariant-Dh5_38ik.js";import"./shallowequal-uM-zab-b.js";import"./cookie--_YQFYBD.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-BVu0NdYV.js";import"./@babel-B5c2X20U.js";import"./@popperjs-zhYlKhUK.js";import"./react-is-BPJnJB5S.js";import"./apexcharts-BtV8FsoZ.js";import"./framer-motion-Ds63kp1a.js";import"./tslib-CzO--va8.js";import"./hey-listen-DbOMAdo4.js";import"./style-value-types-BIrWSPIY.js";import"./popmotion-b6BJkUDo.js";import"./framesync-BEUTIEb0.js";import"./@tiptap-WBK_mS_8.js";import"./prosemirror-state-CSw5ozkr.js";import"./prosemirror-model-JtBcEbmU.js";import"./orderedmap-C4TimWWB.js";import"./prosemirror-transform-DP5EOceC.js";import"./tippy.js-CQnAOqMR.js";import"./linkifyjs-D1E_6M9a.js";import"./prosemirror-view-CgoqeM11.js";import"./prosemirror-tables-tK3kw12U.js";import"./prosemirror-keymap-D3j0VPZo.js";import"./w3c-keyname-DEtA-KhA.js";import"./prosemirror-dropcursor-CYJ_b9P7.js";import"./prosemirror-gapcursor-CN3jbS5P.js";import"./prosemirror-history-U89-ZJV4.js";import"./rope-sequence-Cxv9J64N.js";import"./prosemirror-commands-Bpc-hvLu.js";import"./prosemirror-schema-list-Dc9XiJS4.js";import"./lowlight-ypkj73XY.js";import"./highlight.js-B2h0g5HT.js";import"./hoist-non-react-statics-C-Qo8PK8.js";import"./stylis-BqmD5Vow.js";import"./es5-ext-B-aRoSt4.js";import"./simplebar-core-CDgr71yH.js";import"./lodash-es-BFDc8I3u.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();var ai=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function li(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ci(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var n=t.default;if(typeof n=="function"){var s=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),s}const js={English:"English",Spanish:"Spanish",German:"German",_consumption_:"Current Consumption",_perShelly_:"per Shelly",Running:"Running",Connected:"Connected",_welcome_:"Welcome back 游녦",Filters:"Filters",_sortby_:"Sort by",Submit:"Submit",Clear:"Clear",Alias:"Alias",Model:"Model",Generation:"Generation",_byminute_:"By Minute",_byhour_:"By Hour",_byday_:"By Day",_bymonth_:"By Month",_byyear_:"By Year",_notconnected_:"Disconnected!",_getinvolved_:"Get involved!",_gotogithub_:"Go to Github",_opensource_:"Open Source AGPL License",Home:"Home",Profile:"Profile",Security:"Security",Settings:"Settings",Logout:"Logout",_forgotpw_:"Forgot Password?",_wrongpw_:"Wrong Password!",_usernotexists_:"EMail not found!",_resetpw_:"Password was reset.",Password:"Password",Email:"Email",Firstname:"Firstname",Lastname:"Lastname",Role:"Role",_newuser_:"New User",_editprofile_:"Your Profile",_edituserprofile_:"Edit User",_editsecurity_:"Your Access",_editsettings:"Your Settings",_searchuser_:"Search User",Users:"Users",_rowsperpage_:"Rows per page:",of:"of",_morethan_:"more than",Login:"Login",Save:"Save",_userupdated_:"User was updated",_usernotupdated_:"Could not update user",_usercreated_:"User was created",_usernotcreated_:"Could not create user",_blogpostcreated_:"Post was saved",_blogpostnotcreated_:"Could not save post",_blogpostupdated_:"Post was updated",_blogpostnotupdated_:"Could not update post",Delete:"Delete",Edit:"Edit",_reallydelete_:"Really Delete?",_userdeleted_:"User deleted",_usernotdeleted:"Couldn't delete user",_emailexists_:"Email already exists",_aliasexists_:"Alias already exists",Read:"Read",Unread:"Unread",Notifications:"Notifications",_unreadmessages_:"You have {{totalUnRead}} new messages",_markallasread_:"Mark all as read",Brightness:"Brightness",White:"White",Control:"Controls",_newpost_:"New Post",Title:"Title",Content:"Content",_editpost_:"Edit Post","_editor-preview_":"Preview","_editor-bold_":"Bold","_editor-italic_":"Italic","_editor-strike_":"Strikethrough","_editor-underline_":"Underline","_editor-link_":"Link","_editor-bulletlist_":"Bullet List","_editor-orderedlist_":"Ordered List","_editor-alignleft_":"Align left","_editor-aligncenter_":"Align Center","_editor-alignright_":"Align Right","_editor-alignjustify_":"Align Justify","_editor-blockquote_":"Blockquote","_editor-codeblock_":"Codeblock","_editor-undo_":"Undo","_editor-redo_":"Redo","_editor-normaltext_":"Normal","_editor-h1_":"Heading1","_editor-h2_":"Heading2","_editor-h3_":"Heading3","_editor-h4_":"Heading4","_editor-h5_":"Heading5","_editor-h6_":"Heading6","_editor-insertlink_":"Insert Link","_editor-invalidlink_":"Invalid Link","_editor-color_":"Text Color","_editor-placeholder_":"Write your post",_notfound_:"Not found",_noresultsfor_:"No results found for",selected:"selected",_assigndevices_:"Shelly assingment",_devicesupdated_:"Assignment saved",_devicesnotupdated:"Error saving Assignment"},ys={translation:js},_s={English:"Englisch",Spanish:"Spanisch",German:"Deutsch",_consumption_:"Aktueller Verbrauch",_perShelly_:"per Shelly",Running:"Laufen",Connected:"Verbunden",_welcome_:"Willkommen zur칲ck 游녦",Filters:"Filter",_sortby_:"Sortierung",Submit:"Anwenden",Clear:"L칬schen",Alias:"Alias",Model:"Model",Generation:"Generation",_byminute_:"Per Minute",_byhour_:"Per Stunde",_byday_:"Per Tag",_bymonth_:"Per Monat",_byyear_:"Per Jahr",_notconnected_:"Getrennt!",_getinvolved_:"Helf mit!",_gotogithub_:"Besuch das Github Projekt",_opensource_:"Open Source AGPL Lizenz",Home:"Home",Profile:"Profil",Security:"Sicherheit",Settings:"Einstellungen",Logout:"Logout",_forgotpw_:"Passwort vergessen?",_wrongpw_:"Falsches Passwort!",_usernotexists_:"Email nicht gefunden!",_resetpw_:"Passwort wurde zur칲ck gesetzt.",Password:"Passwort",Email:"Email",Firstname:"Vorname",Lastname:"Nachname",Role:"Rolle",_newuser_:"Neuer Benutzer",_editprofile_:"Dein Profil",_edituserprofile_:"Benutzer bearbeiten",_editsecurity_:"Deine Zugangsdaten",_editsettings:"Deine Einstellungen",_searchuser_:"Benutzer suchen",Users:"Benutzer",_rowsperpage_:"Zeilen per Seite:",of:"von",_morethan_:"mehr als",Login:"Anmelden",Save:"Speichern",_userupdated_:"User aktualisiert",_usernotupdated_:"Fehler bei der Aktualisierung ",_usercreated_:"Benutzer wurde angelegt",_usernotcreated_:"Benutzer konnte nicht angelegt werden",_blogpostcreated_:"Post wurde gespeichert",_blogpostnotcreated_:"Post konnte nicht gespeichert werden",_blogpostupdated_:"Post wurde aktualisiert",_blogpostnotupdated_:"Fehler bei der Aktualisierung",Delete:"L칬schen",Edit:"Bearbeiten",_reallydelete_:"Wirklich L칬schen?",_userdeleted_:"Benutzer wurde gel칬scht",_usernotdeleted:"Benutzer konnte nicht gel칬scht werden",_emailexists_:"Email existiert bereits",_aliasexists_:"Alias existiert bereits",Read:"Gelesen",Unread:"Ungelesen",Notifications:"Nachrichten",_unreadmessages_:"Du hast {{totalUnRead}} neue Meldungen",_markallasread_:"Alle als gelesen markieren",Brightness:"Helligkeit",White:"Wei",Control:"Einstellung",_newpost_:"Neuer Post",Title:"Titel",Content:"Inhalt",_editpost_:"Post bearbeiten","_editor-preview_":"Vorschau","_editor-bold_":"Fett","_editor-italic_":"Kursiv","_editor-strike_":"Durchgestrichen","_editor-underline_":"Unterstrichen","_editor-link_":"Link","_editor-bulletlist_":"Aufz칛hlung","_editor-orderedlist_":"Numerierung","_editor-alignleft_":"Links Ausrichten","_editor-aligncenter_":"Mittig Ausrichten","_editor-alignright_":"Rechts Ausrichten","_editor-alignjustify_":"Gleichm칛ig Ausrichten","_editor-blockquote_":"Zitat","_editor-codeblock_":"Codeblock","_editor-undo_":"Zur칲ck","_editor-redo_":"Wiederherstellen","_editor-normaltext_":"Normal","_editor-h1_":"칖berschrift1","_editor-h2_":"칖berschrift2","_editor-h3_":"칖berschrift3","_editor-h4_":"칖berschrift4","_editor-h5_":"칖berschrift5","_editor-h6_":"칖berschrift6","_editor-insertlink_":"Link Einf칲gen","_editor-invalidlink_":"Ung칲ltiger Link","_editor-color_":"Textfarbe","_editor-placeholder_":"Schreib deinen Post",_notfound_:"Nicht gefunden",_noresultsfor_:"Keine Resultate gefunden f칲r",selected:"ausgew칛hlt",_assigndevices_:"Shelly zuordnen",_devicesupdated_:"Zuordnung gespeichert",_devicesnotupdated:"Fehler bei der Zuordnung"},vs={translation:_s},ws={English:"Ingl칠s",Spanish:"Espa침ol",German:"Aleman",_consumption_:"Consumo Actual",_perShelly_:"por Shelly",Running:"Corriendo",Connected:"Connectado",_welcome_:"Bienvenido de nuevo 游녦",Filters:"Filtrar",_sortby_:"Clasificaci칩n",Submit:"Entregar",Clear:"Borrar",Alias:"Alias",Model:"Modelo",Generation:"Generaci칩n",_byminute_:"por Minuto",_byhour_:"por Hora",_byday_:"por Dia",_bymonth_:"por Mes",_byyear_:"por A침o",_notconnected_:"Desconnectado!",_getinvolved_:"Participar!",_gotogithub_:"Ir a Github",_opensource_:"Open Source AGPL Licencia",Home:"Home",Profile:"Perfil",Security:"Securidad",Settings:"Ajustes",Logout:"Cerrar sesi칩n",_forgotpw_:"Contrase침a olvidado?",_wrongpw_:"Contrase침a incorrecto!",_usernotexists_:"Correo electr칩nico incorrecto!",_resetpw_:"Contrase침a restablecida.",Password:"Contrase침a",Email:"Correo electr칩nico",Firstname:"Nombre",Lastname:"Apellido",Role:"Rol",_newuser_:"Nuevo Usuario",_editprofile_:"Tu Perfil",_edituserprofile_:"Editar usuario",_editsecurity_:"Tu Acceso",_editsettings:"Tu Adjusto",_searchuser_:"Busca Usuario",Users:"Usuarios",_rowsperpage_:"Filas por p치gina:",of:"de",_morethan_:"mas de",Login:"Acceso",Save:"Guardar",_userupdated_:"Usuario actualizada",_usernotupdated_:"No pudo actualizar el usuario",_usercreated_:"Usario creado",_usernotcreated_:"No se pudo crear el usuario",_blogpostcreated_:"Post creado",_blogpostnotcreated_:"No se pudo crear el post",_blogpostupdated_:"Post actualizada",_blogpostnotupdated_:"No pudo actualizar el post",Delete:"Borrar",Edit:"Editar",_reallydelete_:"Realmente Borrar?",_userdeleted_:"Usuario eliminado",_usernotdeleted:"No se pudo eliminar el usuario",_emailexists_:"El correo electr칩nico ya existe",_aliasexists_:"Alias ya existe",Read:"Ya le칤",Unread:"No le칤do",_unreadmessages_:"Tienes {{totalUnRead}} nuevos mensajes",_markallasread_:"Marcar todo como le칤do",Brightness:"Brillo",White:"Blanco",Control:"Ajustes",_newpost_:"Nuevo Post",Title:"Titulo",Content:"Contenido",_editpost_:"Editar Post","_editor-preview_":"Previsi칩n","_editor-bold_":"Gordo","_editor-italic_":"It치lico","_editor-strike_":"Tachado","_editor-underline_":"Testado","_editor-link_":"Enlace","_editor-bulletlist_":"Enumeraci칩n","_editor-orderedlist_":"Numeraci칩n","_editor-alignleft_":"Alinear Izquierda","_editor-aligncenter_":"Alinear Central","_editor-alignright_":"Alinear Derecha","_editor-alignjustify_":"Alinear Igualmente","_editor-blockquote_":"Cita","_editor-codeblock_":"Codeblock","_editor-undo_":"Atr치s","_editor-redo_":"Rehacer","_editor-normaltext_":"Normal","_editor-h1_":"Sobrescritura1","_editor-h2_":"Sobrescritura2","_editor-h3_":"Sobrescritura3","_editor-h4_":"Sobrescritura4","_editor-h5_":"Sobrescritura5","_editor-h6_":"Sobrescritura6","_editor-insertlink_":"Entrar Enlace","_editor-invalidlink_":"Enlace Invalido","_editor-color_":"Color del texto","_editor-placeholder_":"Escribir tu post",_notfound_:"No encontrado",_noresultsfor_:"No se encontraron resultados para",selected:"seleccionado",_assigndevices_:"relacionar Shelly",_devicesupdated_:"Relacion guardada",_devicesnotupdated:"Error al guardar"},Cs={translation:ws},Fe=[{value:"en",label:"English"},{value:"de",label:"German"},{value:"es",label:"Spanish"}],Ss=()=>{const t=localStorage.getItem("i18nLanguage");if(t!==null)return console.log(`Using last selected language ${t}`),t;if(typeof navigator.language<"u"){const n=navigator.language.substring(0,2);if(typeof Fe.find(s=>s.value===n)<"u")return console.log(`Using browser language ${n}`),navigator.language.substring(0,2)}return console.log("Using browser language en"),"en"};Sn.use(kn).init({resources:{en:{...ys},de:{...vs},es:{...Cs}},lng:Ss()});const ks="modulepreload",$s=function(t){return"/"+t},dt={},ce=function(n,s,r){let o=Promise.resolve();if(s&&s.length>0){let c=function(a){return Promise.all(a.map(g=>Promise.resolve(g).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),p=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=c(s.map(a=>{if(a=$s(a),a in dt)return;dt[a]=!0;const g=a.endsWith(".css"),h=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${h}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":ks,g||(x.as="script"),x.crossOrigin="",x.href=a,p&&x.setAttribute("nonce",p),document.head.appendChild(x),g)return new Promise((m,f)=>{x.addEventListener("load",m),x.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return n().catch(l)})},ze=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),b=()=>"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t=>(+t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>+t/4).toString(16)),te=(t,n)=>t<n?t:t%n===0?n:t%n;function ut(t){return gs().update(t).digest("hex")}function Ps(t,n,s){if(typeof n>"u"||n==="")throw new Error("Failed to authenticate!  Please supply a password!");if(typeof t>"u"||t.auth_type!=="digest")throw new Error("The message contains no authentication information");const r={nonce:t.nonce,nc:t.nc,realm:t.realm,algorithm:t.algorithm};return Fs(r,n,s)}function Fs(t,n,s){t.username=s,t.cnonce=String(Math.floor(Math.random()*1e9));let r=ut(`${t.username}:${t.realm}:${n}`);return r+=`:${t.nonce}`,r+=`:1:${t.cnonce}`,t.response=ut(r),t}const Ct=(t,n)=>{document.addEventListener(t,n)},Rs=(t,n)=>{document.removeEventListener(t,n)},oe=(t,n)=>{const s=new CustomEvent(t,{detail:n});document.dispatchEvent(s)},St=i.createContext(),V=()=>i.useContext(St),Ts=({children:t})=>{const[n,s]=i.useState(JSON.parse(localStorage.getItem("user"))),[r,o]=i.useState([]),[l,c]=i.useState(null),[u,p]=i.useState(.001),a=i.useRef(null),g=i.useRef({}),h=i.useRef({}),x=i.useRef(!1),m=i.useRef(null),f=i.useRef({event:"user reconnect",data:{name:"Shelly Context",channelID:`sc${b()}`,message:"Hello from Shelly Context",user:n}}),_=i.useRef(["user validate","blogposts get public"]),w=(S,$)=>{f.current.data.user!==null&&($&&(S=.001),x.current=!0,setTimeout(()=>{if(a.current!==null&&a.current.readyState===WebSocket.OPEN){x.current=!1;return}if(S>window.scconfig.RECONNECT_MAX){x.current=!1,console.log("Reconnecting makes no sense! Please reload Page"),oe("lastUpdatedAt",null);return}console.log(`Trying to reconnect: ${S}`),p(S+1),w(S+1,!1)},S*window.scconfig.RECONNECT_DELAY*1e3))},C=(S,$)=>{$.forEach(I=>{typeof g.current[I]>"u"?g.current[I]=[S]:g.current[I].push(S)})},k=(S,$)=>{$.forEach(I=>{typeof g.current[I]<"u"&&(g.current[I]=g.current[I].filter(L=>L.subscriptionID!==S))})},y=i.useCallback(S=>{const $=!_.current.includes(S.event);if($&&(S.data.secret=m.current),a.current!==null&&a.current.readyState===WebSocket.OPEN&&(!$||m.current!==null))a.current.send(JSON.stringify(S));else{const I=b();h.current[I]={msg:S,undefined:void 0},x.current||w(u,!0)}},[w,u]),D=i.useCallback((S,$)=>{let I=!1;if(Object.values(h.current).forEach(A=>{A.msg.event===S.event&&(I=!0)}),I)return;if(S.event==="user validate")c({msg:S,callback:$});else{const A=b();S.data.requestID=A,h.current[A]={msg:S,callback:$}}const L=!_.current.includes(S.event);L&&(S.data.secret=m.current),a.current!==null&&a.current.readyState===WebSocket.OPEN&&(!L||m.current!==null)?a.current.send(JSON.stringify(S)):!x.current&&(a.current===null||a.current.readyState!==WebSocket.OPEN)&&w(u,!0)},[w,u]),R=i.useCallback(S=>{s(S),f.current.data.user=S,console.log(`Connecting the logged in user '${S.alias}'`),a.current.send(JSON.stringify(f.current))},[]),j=i.useCallback(()=>{a.current.close(4001,"User logged out"),s(null),o([])},[]);return i.useEffect(()=>{n!==null?localStorage.setItem("user",JSON.stringify(n)):(localStorage.removeItem("user"),f.current.data.user=null,o([]))},[n]),i.useEffect(()=>{if(a.current===null||x&&a.current.readyState!==WebSocket.OPEN){oe("lastUpdatedAt","connecting");const S=window.scconfig.WSSURL;console.log(`Creating websocket connection to ${S}`),a.current=new xs.w3cwebsocket(S)}a.current.onerror=S=>console.error(S),a.current.onopen=S=>{x.current=!1,oe("lastUpdatedAt",Date.now()),console.log("WebSocket connection opened for Shelly Context!"),l!==null?(console.log("Sending an existing validation request"),a.current.send(JSON.stringify({event:"user validate",data:{source:l.msg.data.source,message:l.msg.data.message,user:{email:l.msg.data.user.email}}}))):f.current.data.user!==null&&(console.log(`Reconnecting the previously logged in user '${f.current.data.user.alias}'`),a.current.send(JSON.stringify(f.current))),Object.entries(h.current).forEach($=>{const[I,L]=$;_.current.includes(L.msg.event)&&(console.log(`Sending '${L.msg.event}' after opening the websocket`),a.current.send(JSON.stringify(L.msg))),typeof L.callback>"u"&&delete h[I]})},a.current.onmessage=S=>{oe("lastUpdatedAt",Date.now());const $=JSON.parse(S.data);if($!==null)if($.event==="user validate")l!==null&&typeof $.data.error<"u"&&$.data.error.code===401?(l.msg.data.auth=Ps($.data.error.message,l.msg.data.user.password,l.msg.data.user.email),delete l.msg.data.user.password,delete l.msg.data.error,a.current.send(JSON.stringify(l.msg))):(m.current=$.data.secret,delete $.data.secret,l.callback($),c(null),console.log(`Deleted the 'user validate' request. Now have ${Object.entries(h.current).length} requests left`));else if($.event==="user reconnect")if(typeof $.data.secret<"u"){const I=f.current.data.user;console.log(`Just reconnected with user ${I.alias}. There are ${Object.entries(h.current).length} outstanding requests`),m.current=$.data.secret,r.length===0&&(console.log(`Requesting devices of user ${I.alias}.`),a.current.send(JSON.stringify({event:"devices get all",data:{source:"Shelly Context",message:"Shelly Context needs the list of devices",userid:I.roleid!=1?I.id:null,secret:m.current}}))),Object.entries(h.current).forEach(L=>{const[A,J]=L;_.current.includes($.event)||(J.msg.data.secret=m.current),console.log(`Sending '${J.msg.event}' after reconnecting`),a.current.send(JSON.stringify(J.msg)),typeof J.callback>"u"&&delete h[A]})}else console.error("Reconnecting was not possible. Logging out!"),j();else $.event==="devices get all"?o($.data.devices):$.event==="ping"?a.current.send(JSON.stringify({event:"pong",data:{source:"SC Context",message:$.data.message}})):typeof $.data.requestID<"u"&&typeof h.current[$.data.requestID]<"u"?(h.current[$.data.requestID].callback($),delete h.current[$.data.requestID],console.log(`Deleted request '${$.event}' on answer: '${$.data.message}'. Now have ${Object.entries(h.current).length} requests`)):typeof $.event<"u"?typeof g.current[$.event]<"u"&&g.current[$.event].forEach(I=>{(I.all||$.data.subscriptionID===I.subscriptionID)&&I.callback($)}):console.error(`Shelly context received an unhandled message ${JSON.stringify($)} `)},a.current.onclose=S=>{x.current?oe("lastUpdatedAt",null):(oe("lastUpdatedAt","connecting"),w(u,!0)),a.current?console.log(`WebSocket connection closed by the server for SC Context. Reason: ${S.reason}!`):console.log(`WebSocket connection closed because SC Context was unmounted. Reason: ${S.reason}!`)}},[l,w,u,j,r]),e.jsx(St.Provider,{value:i.useMemo(()=>({user:n,devices:r,login:R,logout:j,subscribe:C,unsubscribe:k,request:D,send:y}),[n,r,R,j,D,y]),children:t})};function kt(){const{pathname:t}=De();return i.useMemo(()=>t,[t])}const $t=i.forwardRef(({href:t,...n},s)=>e.jsx(Fn,{ref:s,to:t,...n}));function Be(t,n,s){const r=he(),o=Ce(r.breakpoints.up(n));return Ce(r.breakpoints.down(n)),Ce(r.breakpoints.between(n,s)),Ce(r.breakpoints.only(n)),o}const _e=i.forwardRef(({disabledLink:t=!1,sx:n,...s},r)=>{const o=e.jsx(T,{component:"img",src:"/assets/logo.svg",sx:{width:40,height:40,...n}});return t?o:e.jsxs(P,{direction:"row",spacing:2,sx:{justifyContent:"flex-start",alignItems:"center"},children:[e.jsx(T,{sx:{display:"contents"},children:o}),e.jsx(F,{variant:"h6",sx:{pt:3},children:"S-Central"})]})});_e.propTypes={disabledLink:d.bool,sx:d.object};const Os=Ie("div")(()=>({flexGrow:1,height:"100%",overflow:"hidden"})),Ds=Ie(bs)(({theme:t})=>({maxHeight:"100%","& .simplebar-scrollbar":{"&:before":{backgroundColor:O(t.palette.grey[600],.48)},"&.simplebar-visible:before":{opacity:1}},"& .simplebar-mask":{zIndex:"inherit"}})),Pt=i.forwardRef(({children:t,sx:n,...s},r)=>{const o=typeof navigator>"u"?"SSR":navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(o)?e.jsx(T,{ref:r,sx:{overflow:"auto",...n},...s,children:t}):e.jsx(Os,{children:e.jsx(Ds,{scrollableNodeProps:{ref:r},clickOnTrack:!1,sx:n,...s,children:t})})});Pt.propTypes={children:d.node,sx:d.object};const Ne=i.memo(Pt),Oe={H_MOBILE:64,H_DESKTOP:80},me={WIDTH:280},Xe=i.forwardRef(({src:t,sx:n,...s},r)=>e.jsx(T,{component:"span",className:"svg-color",ref:r,sx:{width:24,height:24,display:"inline-block",bgcolor:"currentColor",mask:`url(${t}) no-repeat center / contain`,WebkitMask:`url(${t}) no-repeat center / contain`,...n},...s}));Xe.propTypes={src:d.string,sx:d.object};const Pe=t=>e.jsx(Xe,{src:`/assets/icons/navbar/${t}.svg`,sx:{width:1,height:1}}),Es=[{title:"dashboard",path:"/dashboard",icon:Pe("ic_analytics"),minRole:"User"},{title:"shellies",path:"/shellies",icon:Pe("ic_device"),minRole:"User"},{title:"blog",path:"/blog",icon:Pe("ic_blog"),minRole:"User"},{title:"user",path:"/user",icon:Pe("ic_user"),minRole:"Admin"}];function Ft({openNav:t,onCloseNav:n}){const s=kt(),{user:r}=V(),{t:o}=N(),l=Be("up","lg");i.useEffect(()=>{t&&n()},[s]);const c=e.jsxs(T,{sx:{my:3,mx:2.5,py:2,px:2.5,display:"flex",borderRadius:1.5,alignItems:"center",bgcolor:g=>O(g.palette.grey[500],.12)},children:[e.jsx(pe,{src:`/assets/images/avatars/avatar_${te(r.id,25)}.jpg`,alt:"photoURL"}),e.jsxs(T,{sx:{ml:2},children:[e.jsx(F,{variant:"subtitle2",children:`${r.firstname!==null?r.firstname:r.alias} ${r.lastname!==null?r.lastname:r.alias}`}),e.jsx(F,{variant:"body2",sx:{color:"text.secondary"},children:r.role})]})]}),u=e.jsx(P,{component:"nav",spacing:.5,sx:{px:2},children:Es.map(g=>g.minRole==="User"||g.minRole==="Admin"&&r.roleid===1?e.jsx(Rt,{item:g},g.title):null)}),p=e.jsx(T,{sx:{px:2.5,pb:3,mt:10},children:e.jsxs(P,{alignItems:"center",spacing:3,sx:{pt:5,borderRadius:2,position:"relative"},children:[e.jsx(T,{sx:{width:100,position:"absolute",top:-50},children:e.jsx(pe,{src:"/assets/illustrations/avatar_main.jpg",sx:{width:100,height:100}})}),e.jsxs(T,{sx:{textAlign:"center"},children:[e.jsx(F,{variant:"h6",children:o("_getinvolved_")}),e.jsx(F,{variant:"body2",sx:{color:"text.secondary",mt:1},children:o("_opensource_")})]}),e.jsx(Y,{href:"https://github.com/akreienbring/s-central",target:"_blank",variant:"contained",color:"inherit",children:o("_gotogithub_")})]})}),a=e.jsxs(Ne,{sx:{height:1,"& .simplebar-content":{height:1,display:"flex",flexDirection:"column"}},children:[e.jsx(_e,{sx:{mt:3,ml:4}}),c,u,e.jsx(T,{sx:{flexGrow:1}}),p]});return e.jsx(T,{sx:{flexShrink:{lg:0},width:{lg:me.WIDTH}},children:l?e.jsx(T,{sx:{height:1,position:"fixed",width:me.WIDTH,borderRight:g=>`dashed 1px ${g.palette.divider}`},children:a}):e.jsx(ae,{open:t,onClose:n,slotProps:{paper:{sx:{width:me.WIDTH}}},children:a})})}Ft.propTypes={openNav:d.bool,onCloseNav:d.func};function Rt({item:t}){const n=kt(),{t:s}=N(),r=t.path===n;return e.jsxs(_t,{component:$t,href:t.path,sx:{minHeight:44,borderRadius:.75,typography:"body2",color:"text.secondary",textTransform:"capitalize",fontWeight:"fontWeightMedium",...r&&{color:"primary.main",fontWeight:"fontWeightSemiBold",bgcolor:o=>O(o.palette.primary.main,.08),"&:hover":{bgcolor:o=>O(o.palette.primary.main,.16)}}},children:[e.jsx(T,{component:"span",sx:{width:24,height:24,mr:2},children:t.icon}),e.jsxs(T,{component:"span",children:[t.title==="user"?s("Users"):t.title," "]})]})}Rt.propTypes={item:d.object};const pt=8;function Tt({children:t,sx:n,...s}){const r=Be("up","lg");return e.jsx(T,{component:"main",sx:{flexGrow:1,minHeight:1,display:"flex",flexDirection:"column",py:`${Oe.H_MOBILE+pt}px`,...r&&{px:2,py:`${Oe.H_DESKTOP+pt}px`,width:`calc(100% - ${me.WIDTH}px)`},...n},...s,children:t})}Tt.propTypes={children:d.node,sx:d.object};function Re(t){const n=(t==null?void 0:t.color)||"#000000",s=(t==null?void 0:t.blur)||6,r=(t==null?void 0:t.opacity)||.8,o=t==null?void 0:t.imgUrl;return o?{position:"relative",backgroundImage:`url(${o})`,"&:before":{position:"absolute",top:0,left:0,zIndex:9,content:'""',width:"100%",height:"100%",backdropFilter:`blur(${s}px)`,WebkitBackdropFilter:`blur(${s}px)`,backgroundColor:O(n,r)}}:{backdropFilter:`blur(${s}px)`,WebkitBackdropFilter:`blur(${s}px)`,backgroundColor:O(n,r)}}function Is(t){const n=(t==null?void 0:t.direction)||"to bottom",s=t==null?void 0:t.startColor,r=t==null?void 0:t.endColor,o=t==null?void 0:t.imgUrl,l=t==null?void 0:t.color;return{background:`linear-gradient(${n}, ${s||l}, ${r||l}), url(${o})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center"}}const v=i.forwardRef(({icon:t,width:n=25,sx:s,...r},o)=>e.jsx(T,{ref:o,component:fs,className:"component-iconify",icon:t,sx:{width:n,height:n,...s},...r}));v.propTypes={icon:d.oneOfType([d.element,d.string]),sx:d.object,width:d.number};function As(t,n){return t?Ze(new Date(t),"dd MMM yyyy"):""}function Ls(t,n){const s=n;return t?Ze(new Date(t),s):""}function Ot(t,n){return t?Ze(rs(t),n):""}const Bs=()=>{const[t,n]=i.useState("connecting"),{t:s}=N(),r=Ee(),o=i.useCallback(c=>{c!==null&&n(c.detail)},[]);i.useEffect(()=>(Ct("lastUpdatedAt",o),()=>{Rs("lastUpdatedAt")}),[o,t]);const l=()=>{t===null&&(n(void 0),r(0))};return t===0?null:e.jsx(Y,{variant:"contained",color:t!==null&&t!=="connecting"?"success":"error",startIcon:t==="connecting"||t==="loading"?e.jsx(Dn,{size:25,variant:"indeterminate",color:"common.white"}):e.jsx(v,{icon:"carbon:update-now"}),onClick:l,children:t!==null&&t!=="connecting"&&t!=="loading"?Ls(t,"HH:mm:ss"):s("_notconnected_")})},Dt=({type:t,requestResult:n,roles:s,currentUser:r,setRequestResult:o,setCurrentUser:l,handleForgotten:c,handleCurrentUser:u})=>{const{user:p}=V(),[a,g]=i.useState(t!=="profile"?"dashboard":r.home),[h,x]=i.useState(""),[m,f]=i.useState(!1),{t:_}=N(),w=i.useRef(!1),C=i.useRef(r);i.useEffect(()=>{!w.current&&s.length>0&&(x(r.roleid),w.current=!0)},[s,n,r]);const k=()=>{o({success:!0,message:""})},y=({target:j})=>{const S={...r};j.name==="role"?(x(j.value),S.role=s[j.value-1].name,S.roleid=j.value):j.name==="home"?g(j.value):j.name==="alias"?S[j.name]=j.value.trim():S[j.name]=j.value,l(S)},D=j=>{j.preventDefault(),C.current=r,u(r)},R=()=>{if(r===null)return!0;let j=!1;return t==="login"&&(j=typeof r.email>"u"||r.email.length===0||typeof r.password>"u"||r.password.length===0||!ze(r.email)),(t==="profile"||t==="settings")&&(j=(r.alias===C.current.alias||r.alias.length===0)&&r.firstname===C.current.firstname&&r.lastname===C.current.lastname&&r.home===C.current.home),t==="create"&&(j=typeof r.email>"u"||r.email.length===0||!ze(r.email)||typeof r.alias>"u"||r.alias.length===0),t==="security"&&(j=!ze(r.email)||r.password!==r.password2||typeof r.password>"u"||r.password.length===0||typeof r.password2>"u"||r.password.length2===0),j};return e.jsx("form",{onSubmit:D,children:e.jsx(Ae,{fullWidth:!0,size:"subtitle2",children:e.jsxs(P,{spacing:3,sx:{px:3,py:3},children:[(t==="login"||t==="create"||t==="security")&&e.jsx(ne,{required:!0,value:r.email,name:"email",label:_("Email"),onFocus:k,onChange:y}),(t==="login"||t==="security")&&e.jsx(ne,{name:"password",required:!0,label:_("Password"),onFocus:k,onChange:y,type:m?"text":"password",slotProps:{input:{endAdornment:e.jsx(Me,{position:"end",children:e.jsx(q,{onClick:()=>f(!m),edge:"end",children:e.jsx(v,{icon:m?"eva:eye-fill":"eva:eye-off-fill"})})})}}}),t==="security"&&e.jsx(ne,{required:!0,name:"password2",label:_("Password"),onFocus:k,onChange:y,type:m?"text":"password",slotProps:{input:{endAdornment:e.jsx(Me,{position:"end",children:e.jsx(q,{onClick:()=>f(!m),edge:"end",children:e.jsx(v,{icon:m?"eva:eye-fill":"eva:eye-off-fill"})})})}}}),(t==="profile"||t==="create")&&e.jsxs(P,{spacing:3,children:[e.jsx(ne,{required:!0,value:r.alias,name:"alias",label:_("Alias"),onChange:y,onFocus:k}),e.jsx(ne,{value:r.firstname?r.firstname:"",name:"firstname",label:_("Firstname"),onChange:y,onFocus:k}),e.jsx(ne,{value:r.lastname?r.lastname:"",name:"lastname",label:_("Lastname"),onChange:y,onFocus:k}),e.jsx(ne,{disabled:p.id===r.id||r.id===1,required:!0,select:!0,value:h,name:"role",label:_("Role"),onChange:y,onFocus:k,children:typeof s<"u"?s.map(j=>e.jsx(W,{value:j.id,children:j.name},j.name)):null})]}),(t==="settings"||t==="create")&&e.jsxs(ne,{required:!0,select:!0,value:a||"dashboard",name:"home",label:_("Home"),onChange:y,onFocus:k,children:[e.jsx(W,{value:"dashboard",children:"Dashboard"}),e.jsx(W,{value:"shellies",children:"Shellies"})]}),e.jsxs(P,{direction:"row",alignItems:"baseline",justifyContent:"space-between",spacing:1,children:[e.jsx(F,{variant:"subtitle2",color:n.success?"success":"error",children:_(n.message)}),t==="login"&&e.jsx(Je,{variant:"subtitle2",underline:"hover",color:"primary",style:{cursor:"pointer"},onClick:()=>c(r.email),children:_("_forgotpw_")})]}),t==="login"?e.jsx(Y,{disabled:R(),fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",children:_("Login")}):e.jsx(Y,{disabled:R(),fullWidth:!0,size:"large",type:"submit",color:"inherit",variant:"outlined",startIcon:e.jsx(v,{icon:"formkit:submit"}),children:_("Save")})]})})})};Dt.propTypes={type:d.string,currentUser:d.object,setCurrentUser:d.func,requestResult:d.object,setRequestResult:d.func,roles:d.array,handleForgotten:d.func,handleCurrentUser:d.func};const Ue=({type:t,updateuser:n,handleUsersReceived:s,handleUpdateUser:r})=>{const{login:o,user:l,request:c}=V(),[u,p]=i.useState(()=>t==="profile"||t==="settings"||t==="security"?typeof n>"u"?{...l}:n:{alias:"",email:"",firstname:"",lastname:"",password:"",home:"dashboard",roleid:3}),[a,g]=i.useState([]),[h,x]=i.useState({success:!0,message:""}),m=Ee(),f=De(),_=i.useCallback(j=>{j.data.success?(p(j.data.user),o(j.data.user),m(`/${j.data.user.home!==null?j.data.user.home:"dashboard"}`)):x({success:!1,message:j.data.message})},[m,o]),w=i.useCallback(j=>{x({success:j.data.success,message:j.data.message}),l.id===u.id&&o(u),typeof r<"u"?r(u):f.pathname==="/user"&&oe("userUpdated",u)},[l,u,o,r,f]),C=i.useCallback(j=>{x({success:j.data.success,message:j.data.message}),j.data.success&&s(j)},[s]),k=i.useCallback(j=>{g(j.data.roles)},[]),y=i.useCallback(j=>{x({success:j.data.success,message:j.data.message})},[]);i.useEffect(()=>{(t==="profile"||t==="create")&&c({event:"roles get all",data:{source:"Users Form",message:"User Form needs the list of roles"}},k)},[t,k,c]);const D=j=>{t==="login"?c({event:"user validate",data:{source:"User Form",message:"User Form wants to validate a user",user:j}},_):t==="profile"?c({event:"user profile update",data:{source:"User Form",message:"User Form wants to update a users profile",user:j}},w):t==="create"?c({event:"user create",data:{source:"User Form ",message:"User Form wants to create a new user",user:j}},C):t==="security"?c({event:"user security update",data:{source:"User Form ",message:"User Form  wants to update a users credentials",user:j}},w):t==="settings"&&c({event:"user settings update",data:{source:"User Form ",message:"User Form  wants to update a users settings",user:j}},w)},R=j=>{c({event:"user resetpw",data:{source:"User Form",message:"User Form wants to reset a password",email:j}},y)};return e.jsx(Dt,{type:t,roles:a,requestResult:h,currentUser:u,setCurrentUser:p,setRequestResult:x,handleForgotten:R,handleCurrentUser:D})};Ue.propTypes={type:d.string,updateuser:d.object,handleUsersReceived:d.func,handleUpdateUser:d.func};function Et({title:t,openUpdate:n,type:s,updateuser:r,onCloseUpdate:o,handleUpdateUser:l}){return e.jsxs(ae,{anchor:"right",open:n,onClose:o,slotProps:{paper:{sx:{width:300,border:"none",overflow:"hidden"}}},children:[e.jsxs(P,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{px:1,py:2},children:[e.jsx(F,{variant:"h6",sx:{ml:1},children:t}),e.jsx(q,{onClick:o,children:e.jsx(v,{icon:"eva:close-fill"})})]}),e.jsx(se,{}),e.jsx(Ue,{type:s,updateuser:r,handleUpdateUser:l})]})}function Ns(){const[t,n]=i.useState(null),[s,r]=i.useState({open:!1,type:""}),{user:o,logout:l}=V(),{t:c}=N(),u=Ee(),p=f=>{x(),r({open:!0,type:f})},a=()=>{r({open:!1,type:""})},g=()=>{x(),u(`${o.home}`)},h=f=>{n(f.currentTarget)},x=()=>{n(null)},m=f=>c(f==="profile"?"_editprofile_":f==="security"?"_editsecurity_":"_editsettings");return e.jsxs(e.Fragment,{children:[e.jsx(q,{onClick:h,sx:{width:40,height:40,background:f=>O(f.palette.grey[500],.08),...t&&{background:f=>`linear-gradient(135deg, ${f.palette.primary.light} 0%, ${f.palette.primary.main} 100%)`}},children:e.jsx(pe,{src:`/assets/images/avatars/avatar_${te(o.id,25)}.jpg`,alt:o.name,sx:{width:36,height:36,border:f=>`solid 2px ${f.palette.background.default}`},children:`${o.firstname!==null?o.firstname:o.alias} ${o.lastname!==null?o.lastname:o.alias}`})}),e.jsxs(ye,{open:!!t,anchorEl:t,onClose:x,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},marginThreshold:8,slotProps:{paper:{sx:{p:0,mt:1,ml:.75,width:200}}},children:[e.jsxs(T,{sx:{my:1.5,px:2},children:[e.jsx(F,{variant:"subtitle2",noWrap:!0,children:`${o.firstname!==null?o.firstname:o.alias} ${o.lastname!==null?o.lastname:o.alias}`}),e.jsx(F,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:o.email})]}),e.jsx(se,{sx:{borderStyle:"dashed"}}),e.jsxs(W,{onClick:g,children:[e.jsx(Se,{children:e.jsx(v,{icon:"eva:home-fill"})}),e.jsx(ge,{primary:c("Home")})]},"Home"),e.jsxs(W,{onClick:()=>p("profile"),children:[e.jsx(Se,{children:e.jsx(v,{icon:"eva:person-fill"})}),e.jsx(ge,{primary:c("Profile")})]},"Profile"),e.jsxs(W,{onClick:()=>p("security"),children:[e.jsx(Se,{children:e.jsx(v,{icon:"eva:lock-fill"})}),e.jsx(ge,{primary:c("Security")})]},"Security"),e.jsxs(W,{onClick:()=>p("settings"),children:[e.jsx(Se,{children:e.jsx(v,{icon:"eva:settings-2-fill"})}),e.jsx(ge,{primary:c("Settings")})]},"Settings"),e.jsx(se,{sx:{borderStyle:"dashed",m:0}}),e.jsx(W,{disableRipple:!0,disableTouchRipple:!0,onClick:l,sx:{typography:"body2",color:"error.main",py:1.5},children:c("Logout")})]}),e.jsx(Et,{title:m(s.type),openUpdate:s.open,type:s.type,onCloseUpdate:a})]})}function Us(){const[t,n]=i.useState(null),{t:s,i18n:{changeLanguage:r,language:o}}=N(),[l,c]=i.useState(o),[u,p]=i.useState(0),a=(x,m)=>{c(x),p(m),r(x),localStorage.setItem("i18nLanguage",x),h()},g=x=>{n(x.currentTarget)},h=()=>{n(null)};return e.jsxs(e.Fragment,{children:[e.jsx(q,{onClick:g,sx:{width:40,height:40,...t&&{bgcolor:"action.selected"}},children:e.jsx("img",{src:`/assets/icons/flags/${l}.svg`,alt:s(Fe[u].label)})}),e.jsx(ye,{open:!!t,anchorEl:t,onClose:h,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},slotProps:{paper:{sx:{p:0,mt:1,ml:.75,width:180}}},children:Fe.map((x,m)=>e.jsxs(W,{selected:x.value===Fe[u].value,onClick:f=>a(x.value,m),sx:{typography:"body2",py:1},children:[e.jsx(T,{component:"img",alt:x.label,src:`/assets/icons/flags/${x.value}.svg`,sx:{width:28,mr:2}}),s(x.label)]},x.value))})]})}function zs(){const[t,n]=i.useState([]),s=t.filter(y=>y.isUnread===!0).length,[r,o]=i.useState(null),{request:l,subscribe:c,unsubscribe:u,send:p}=V(),a=i.useRef(b()),g=i.useRef(!1),{t:h}=N(),x=i.useCallback(y=>{const{notification:D}=y.data,R=[...t];R.push({id:D.id,type:D.type,title:D.title,description:D.notification,avatar:null,createdAt:new Date(D.ts),isUnread:D.isUnread===1}),n(R)},[t]),m=i.useCallback(y=>{g.current=!0;const D=y.data.notifications.map((R,j)=>({id:R.id,type:R.type,title:R.title,description:R.notification,avatar:null,createdAt:new Date(R.ts),isUnread:R.isUnread===1}));n(D)},[n]);i.useEffect(()=>{const y=a.current;return g.current||l({event:"notifications get all",data:{source:"Notifications Popover",message:"Notifications Popover needs the list of notifications"}},m),c({subscriptionID:a.current,callback:x,all:!0},["notification create"]),()=>{u(y,["notification create"])}},[m,x,c,u,l]);const f=y=>{o(y.currentTarget)},_=()=>{o(null)},w=()=>{const y=[],D=t.map(R=>(R.isUnread=!1,y.push(R.id),R));n(D),p({event:"notification update",data:{source:"Notifications Popover",message:"Notifications Popover wants to update notifications",ids:y}})},C=y=>{const D=[],R=t.map(j=>(y.id===j.id&&(j.isUnread=!1,D.push(j.id)),j));n(R),p({event:"notification update",data:{source:"Notifications Popover",message:"Notifications Popover wants to update notifications",ids:D}})},k=y=>{l({event:"notification delete",data:{source:"Notifications Popover",message:"Notifications Popover wants to delete a notification",ids:[y]}},m)};return e.jsxs(e.Fragment,{children:[e.jsx(q,{color:r?"primary":"default",onClick:f,children:e.jsx(En,{badgeContent:s,color:"error",children:e.jsx(v,{width:24,icon:"solar:bell-bing-bold-duotone"})})}),e.jsxs(ye,{open:!!r,anchorEl:r,onClose:_,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},slotProps:{paper:{sx:{mt:1.5,ml:.75,width:360}}},children:[e.jsxs(T,{sx:{display:"flex",alignItems:"center",py:2,px:2.5},children:[e.jsxs(T,{sx:{flexGrow:1},children:[e.jsx(F,{variant:"subtitle1",children:h("Notifications")}),e.jsx(F,{variant:"body2",sx:{color:"text.secondary"},children:h("_unreadmessages_",{totalUnRead:s})})]}),s>0&&e.jsx(Ke,{title:h("_markallasread_"),children:e.jsx(q,{color:"primary",onClick:w,children:e.jsx(v,{icon:"eva:done-all-fill"})})})]}),e.jsx(se,{sx:{borderStyle:"dashed"}}),e.jsxs(Ne,{sx:{height:{xs:340,sm:"auto"}},children:[e.jsx(rt,{disablePadding:!0,subheader:e.jsx(ot,{disableSticky:!0,sx:{py:1,px:2.5,typography:"overline"},children:h("Unread")}),children:t.filter(y=>y.isUnread===!0).map(y=>e.jsx(He,{notification:y,handleItemClick:C},b()))}),e.jsx(rt,{disablePadding:!0,subheader:e.jsx(ot,{disableSticky:!0,sx:{py:1,px:2.5,typography:"overline"},children:h("Read")}),children:t.filter(y=>y.isUnread===!1).map(y=>e.jsx(He,{notification:y,handleItemDelete:k},b()))})]})]})]})}function He({notification:t,handleItemClick:n,handleItemDelete:s}){const{avatar:r,title:o}=Ws(t),{i18n:l}=N(),c=()=>{switch(l.language){case"en":return lt;case"de":return as;case"es":return is;default:return lt}};return e.jsxs(_t,{onClick:u=>{t.isUnread&&n(t)},sx:{py:1.5,px:2.5,mt:"1px",...t.isUnread&&{bgcolor:"action.selected"}},children:[e.jsx(In,{children:e.jsx(pe,{sx:{bgcolor:"background.neutral"},children:r})}),e.jsxs(P,{direction:"row",spacing:3,alignItems:"start",justifyContent:"space-between",children:[e.jsx(ge,{primary:o,secondary:e.jsxs(F,{variant:"caption",sx:{mt:.5,display:"flex",alignItems:"center",color:"text.disabled"},children:[e.jsx(v,{icon:"eva:clock-outline",sx:{mr:.5,width:16,height:16}}),os(t.createdAt,{addSuffix:!0,locale:c()})]}),sx:{maxWidth:200}}),!t.isUnread&&e.jsx(q,{onClick:u=>{s(t.id)},children:e.jsx(v,{icon:"eva:trash-2-outline",sx:{mr:2}})})]})]})}function Ws(t){const n=e.jsxs(e.Fragment,{children:[e.jsxs(F,{variant:"subtitle2",children:[t.title," "]}),e.jsx(F,{component:"span",variant:"body2",style:{whiteSpace:"pre-line"},sx:{color:"text.secondary"},children:t.description})]});return t.type==="script-error"?{avatar:e.jsx("img",{alt:t.title,src:"/assets/icons/ic_notification_error.svg"}),title:n}:t.type==="device-offline"?{avatar:e.jsx("img",{alt:t.title,src:"/assets/icons/ic_notification_offline.svg"}),title:n}:null}He.propTypes={handleItemDelete:d.func,handleItemClick:d.func,notification:d.shape({createdAt:d.instanceOf(Date),id:d.number,isUnread:d.bool,title:d.string,description:d.string,type:d.string,avatar:d.any})};function It({onOpenNav:t}){const n=he(),s=De(),r=Be("up","lg"),o=e.jsxs(e.Fragment,{children:[!r&&e.jsx(q,{onClick:t,sx:{mr:1},children:e.jsx(v,{icon:"eva:menu-2-fill"})}),e.jsx(T,{sx:{flexGrow:1}}),e.jsxs(P,{direction:"row",alignItems:"center",spacing:1,children:[(s.pathname==="/dashboard"||s.pathname==="/shellies")&&e.jsx(Bs,{}),e.jsx(Us,{}),e.jsx(zs,{}),e.jsx(Ns,{})]})]});return e.jsx(An,{sx:{boxShadow:"none",height:Oe.H_MOBILE,zIndex:n.zIndex.appBar+1,...Re({color:n.palette.background.default}),transition:n.transitions.create(["height"],{duration:n.transitions.duration.shorter}),...r&&{width:`calc(100% - ${me.WIDTH+1}px)`,height:Oe.H_DESKTOP}},children:e.jsx(vt,{sx:{height:1,px:{lg:5}},children:o})})}It.propTypes={onOpenNav:d.func};function At({children:t}){const[n,s]=i.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(It,{onOpenNav:()=>s(!0)}),e.jsxs(T,{sx:{minHeight:1,display:"flex",flexDirection:{xs:"column",lg:"row"}},children:[e.jsx(Ft,{openNav:n,onCloseNav:()=>s(!1)}),e.jsx(Tt,{children:t})]})]})}At.propTypes={children:d.node};const ht=i.lazy(()=>ce(()=>Promise.resolve().then(()=>hr),void 0)),xt=i.lazy(()=>ce(()=>Promise.resolve().then(()=>fr),void 0)),Ms=i.lazy(()=>ce(()=>Promise.resolve().then(()=>kr),void 0)),gt=i.lazy(()=>ce(()=>Promise.resolve().then(()=>Rr),void 0)),Hs=i.lazy(()=>ce(()=>Promise.resolve().then(()=>Dr),void 0)),ft=i.lazy(()=>ce(()=>Promise.resolve().then(()=>Vr),void 0)),qs=i.lazy(()=>ce(()=>Promise.resolve().then(()=>Yr),void 0));function Gs(){const{user:t}=V();return Rn([{path:"/",element:window.scconfig.LANDING_PAGE==="login"?e.jsx(gt,{}):e.jsx(Hs,{})},{element:t?e.jsx(At,{children:e.jsx(i.Suspense,{children:e.jsx(Tn,{})})}):e.jsx(st,{to:"/",replace:!0}),children:!t||t.roleid===1?[{path:"dashboard",element:e.jsx(ht,{}),index:!0},{path:"user",element:e.jsx(Ms,{})},{path:"shellies",element:e.jsx(ft,{})},{path:"blog",element:e.jsx(xt,{})}]:[{path:"dashboard",element:e.jsx(ht,{}),index:!0},{path:"shellies",element:e.jsx(ft,{})},{path:"blog",element:e.jsx(xt,{})}]},{path:"login",element:e.jsx(gt,{})},{path:"404",element:e.jsx(qs,{})},{path:"*",element:e.jsx(st,{to:"/404",replace:!0})}])}function Vs(){const{pathname:t}=De();return i.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const z={0:"#FFFFFF",100:"#F9FAFB",200:"#F4F6F8",300:"#DFE3E8",400:"#C4CDD5",500:"#919EAB",600:"#637381",700:"#454F5B",800:"#212B36",900:"#161C24"},Lt={lighter:"#D0ECFE",light:"#73BAFB",main:"#1877F2",dark:"#0C44AE",darker:"#042174",contrastText:"#FFFFFF"},Bt={lighter:"#EFD6FF",light:"#C684FF",main:"#8E33FF",dark:"#5119B7",darker:"#27097A",contrastText:"#FFFFFF"},Nt={lighter:"#CAFDF5",light:"#61F3F3",main:"#00B8D9",dark:"#006C9C",darker:"#003768",contrastText:"#FFFFFF"},Ut={lighter:"#C8FAD6",light:"#5BE49B",main:"#00A76F",dark:"#007867",darker:"#004B50",contrastText:"#FFFFFF"},zt={lighter:"#FFF5CC",light:"#FFD666",main:"#FFAB00",dark:"#B76E00",darker:"#7A4100",contrastText:z[800]},Wt={lighter:"#FFE9D5",light:"#FFAC82",main:"#FF5630",dark:"#B71D18",darker:"#7A0916",contrastText:"#FFFFFF"},Mt={black:"#000000",white:"#FFFFFF"},Js={hover:O(z[500],.08),selected:O(z[500],.16),disabled:O(z[500],.8),disabledBackground:O(z[500],.24),focus:O(z[500],.24),hoverOpacity:.08,disabledOpacity:.48},mt={primary:Lt,secondary:Bt,info:Nt,success:Ut,warning:zt,error:Wt,grey:z,common:Mt,divider:O(z[500],.2),action:Js};function Ks(){return{...mt,mode:"light",text:{primary:z[800],secondary:z[600],disabled:z[500]},background:{paper:"#FFFFFF",default:z[100],neutral:z[200]},action:{...mt.action,active:z[600]}}}function Ys(){const t=O(z[500],.2),n=O(z[500],.14),s=O(z[500],.12);return["none",`0px 2px 1px -1px ${t},0px 1px 1px 0px ${n},0px 1px 3px 0px ${s}`,`0px 3px 1px -2px ${t},0px 2px 2px 0px ${n},0px 1px 5px 0px ${s}`,`0px 3px 3px -2px ${t},0px 3px 4px 0px ${n},0px 1px 8px 0px ${s}`,`0px 2px 4px -1px ${t},0px 4px 5px 0px ${n},0px 1px 10px 0px ${s}`,`0px 3px 5px -1px ${t},0px 5px 8px 0px ${n},0px 1px 14px 0px ${s}`,`0px 3px 5px -1px ${t},0px 6px 10px 0px ${n},0px 1px 18px 0px ${s}`,`0px 4px 5px -2px ${t},0px 7px 10px 1px ${n},0px 2px 16px 1px ${s}`,`0px 5px 5px -3px ${t},0px 8px 10px 1px ${n},0px 3px 14px 2px ${s}`,`0px 5px 6px -3px ${t},0px 9px 12px 1px ${n},0px 3px 16px 2px ${s}`,`0px 6px 6px -3px ${t},0px 10px 14px 1px ${n},0px 4px 18px 3px ${s}`,`0px 6px 7px -4px ${t},0px 11px 15px 1px ${n},0px 4px 20px 3px ${s}`,`0px 7px 8px -4px ${t},0px 12px 17px 2px ${n},0px 5px 22px 4px ${s}`,`0px 7px 8px -4px ${t},0px 13px 19px 2px ${n},0px 5px 24px 4px ${s}`,`0px 7px 9px -4px ${t},0px 14px 21px 2px ${n},0px 5px 26px 4px ${s}`,`0px 8px 9px -5px ${t},0px 15px 22px 2px ${n},0px 6px 28px 5px ${s}`,`0px 8px 10px -5px ${t},0px 16px 24px 2px ${n},0px 6px 30px 5px ${s}`,`0px 8px 11px -5px ${t},0px 17px 26px 2px ${n},0px 6px 32px 5px ${s}`,`0px 9px 11px -5px ${t},0px 18px 28px 2px ${n},0px 7px 34px 6px ${s}`,`0px 9px 12px -6px ${t},0px 19px 29px 2px ${n},0px 7px 36px 6px ${s}`,`0px 10px 13px -6px ${t},0px 20px 31px 3px ${n},0px 8px 38px 7px ${s}`,`0px 10px 13px -6px ${t},0px 21px 33px 3px ${n},0px 8px 40px 7px ${s}`,`0px 10px 14px -6px ${t},0px 22px 35px 3px ${n},0px 8px 42px 7px ${s}`,`0px 11px 14px -7px ${t},0px 23px 36px 3px ${n},0px 9px 44px 8px ${s}`,`0px 11px 15px -7px ${t},0px 24px 38px 3px ${n},0px 9px 46px 8px ${s}`]}function Zs(t){return{MuiCssBaseline:{styleOverrides:{"*":{boxSizing:"border-box"},html:{margin:0,padding:0,width:"100%",height:"100%",WebkitOverflowScrolling:"touch"},body:{margin:0,padding:0,width:"100%",height:"100%"},"#root":{width:"100%",height:"100%"},input:{"&[type=number]":{MozAppearance:"textfield","&::-webkit-outer-spin-button":{margin:0,WebkitAppearance:"none"},"&::-webkit-inner-spin-button":{margin:0,WebkitAppearance:"none"}}},img:{maxWidth:"100%",display:"inline-block",verticalAlign:"bottom"}}},MuiBackdrop:{styleOverrides:{root:{backgroundColor:O(t.palette.grey[900],.8)},invisible:{background:"transparent"}}},MuiButton:{styleOverrides:{containedInherit:{color:t.palette.common.white,backgroundColor:t.palette.grey[800],"&:hover":{color:t.palette.common.white,backgroundColor:t.palette.grey[800]}},sizeLarge:{minHeight:48}}},MuiCard:{styleOverrides:{root:{boxShadow:t.customShadows.card,borderRadius:Number(t.shape.borderRadius)*2,position:"relative",zIndex:0}}},MuiCardHeader:{defaultProps:{titleTypographyProps:{variant:"h6"},subheaderTypographyProps:{variant:"body2"}},styleOverrides:{root:{padding:t.spacing(3,3,0)}}},MuiOutlinedInput:{styleOverrides:{root:{[`& .${Ln.notchedOutline}`]:{borderColor:O(t.palette.grey[500],.24)}}}},MuiPaper:{defaultProps:{elevation:0}},MuiTableCell:{styleOverrides:{head:{color:t.palette.text.secondary,backgroundColor:t.palette.background.neutral}}},MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:t.palette.grey[800]},arrow:{color:t.palette.grey[800]}}},MuiTypography:{styleOverrides:{paragraph:{marginBottom:t.spacing(2)},gutterBottom:{marginBottom:t.spacing(1)}}},MuiMenuItem:{styleOverrides:{root:{...t.typography.body2}}}}}function K(t){return`${t/16}rem`}function de({sm:t,md:n,lg:s}){return{"@media (min-width:600px)":{fontSize:K(t)},"@media (min-width:900px)":{fontSize:K(n)},"@media (min-width:1200px)":{fontSize:K(s)}}}const Xs="Public Sans, sans-serif",Qs="Barlow, sans-serif",er={fontFamily:Xs,fontSecondaryFamily:Qs,fontWeightRegular:400,fontWeightMedium:500,fontWeightSemiBold:600,fontWeightBold:700,h1:{fontWeight:800,lineHeight:80/64,fontSize:K(40),...de({sm:52,md:58,lg:64})},h2:{fontWeight:800,lineHeight:64/48,fontSize:K(32),...de({sm:40,md:44,lg:48})},h3:{fontWeight:700,lineHeight:1.5,fontSize:K(24),...de({sm:26,md:30,lg:32})},h4:{fontWeight:700,lineHeight:1.5,fontSize:K(20),...de({sm:20,md:24,lg:24})},h5:{fontWeight:700,lineHeight:1.5,fontSize:K(18),...de({sm:19,md:20,lg:20})},h6:{fontWeight:700,lineHeight:28/18,fontSize:K(17),...de({sm:18,md:18,lg:18})},subtitle1:{fontWeight:600,lineHeight:1.5,fontSize:K(16)},subtitle2:{fontWeight:600,lineHeight:22/14,fontSize:K(14)},body1:{lineHeight:1.5,fontSize:K(16)},body2:{lineHeight:22/14,fontSize:K(14)},caption:{lineHeight:1.5,fontSize:K(12)},overline:{fontWeight:700,lineHeight:1.5,fontSize:K(12),textTransform:"uppercase"},button:{fontWeight:700,lineHeight:24/14,fontSize:K(14),textTransform:"unset"}};function tr(){const t=O(z[500],.16);return{z1:`0 1px 2px 0 ${t}`,z4:`0 4px 8px 0 ${t}`,z8:`0 8px 16px 0 ${t}`,z12:`0 12px 24px -4px ${t}`,z16:`0 16px 32px -4px ${t}`,z20:`0 20px 40px -4px ${t}`,z24:`0 24px 48px 0 ${t}`,card:`0 0 2px 0 ${O(z[500],.08)}, 0 12px 24px -4px ${O(z[500],.08)}`,dropdown:`0 0 2px 0 ${O(z[500],.24)}, -20px 20px 40px -4px ${O(z[500],.24)}`,dialog:`-40px 40px 80px -8px ${O(Mt.black,.24)}`,primary:`0 8px 16px 0 ${O(Lt.main,.24)}`,info:`0 8px 16px 0 ${O(Nt.main,.24)}`,secondary:`0 8px 16px 0 ${O(Bt.main,.24)}`,success:`0 8px 16px 0 ${O(Ut.main,.24)}`,warning:`0 8px 16px 0 ${O(zt.main,.24)}`,error:`0 8px 16px 0 ${O(Wt.main,.24)}`}}function Ht({children:t}){const n=i.useMemo(()=>({palette:Ks(),typography:er,shadows:Ys(),customShadows:tr(),shape:{borderRadius:8}}),[]),s=Bn(n);return s.components=Zs(s),e.jsxs(Nn,{theme:s,children:[e.jsx(Un,{}),t]})}Ht.propTypes={children:d.node};function nr(){return Vs(),e.jsx(Ts,{children:e.jsx(Ht,{children:e.jsx(Gs,{})})})}const sr=$n.createRoot(document.getElementById("root"));sr.render(e.jsx(Pn,{children:e.jsx(On,{children:e.jsx(i.Suspense,{children:e.jsx(nr,{})})})}));function rr(t){const n=typeof t<"u"?ds(t).format("0.00a"):"";return Qe(n,".00")}function bt(t){const n=typeof t<"u"?`${(t/1e3/1e3*60).toFixed(2)} kw/h`:"";return Qe(n,"")}function je(t){const n=typeof t<"u"?`${(t/1e3*60).toFixed(2)} w/h`:"";return Qe(n,"")}function Qe(t,n){return t.includes(n)?t.replace(n,""):t}const et=({title:t})=>e.jsx(P,{direction:"row",sx:{justifyContent:"space-between",alignItems:"baseline"},children:e.jsx(F,{variant:"h4",children:t})});et.propTypes={title:d.string};const or=()=>{const t=he();return[t.palette.success.dark,t.palette.info.dark,t.palette.error.dark,t.palette.warning.dark,t.palette.primary.dark,t.palette.success.main,t.palette.info.main,t.palette.error.main,t.palette.primary.main,t.palette.warning.main,t.palette.success.light,t.palette.info.light,t.palette.error.light,t.palette.warning.light,t.palette.primary.light]},ir=Ie(us)(({theme:t})=>({"& .apexcharts-canvas":{"& .apexcharts-tooltip":{...Re({color:t.palette.background.default}),color:t.palette.text.primary,boxShadow:t.customShadows.dropdown,borderRadius:t.shape.borderRadius*1.25,"&.apexcharts-theme-light":{borderColor:"transparent",...Re({color:t.palette.background.default})}},"& .apexcharts-xaxistooltip":{...Re({color:t.palette.background.default}),borderColor:"transparent",color:t.palette.text.primary,boxShadow:t.customShadows.dropdown,borderRadius:t.shape.borderRadius*1.25,"&:before":{borderBottomColor:O(t.palette.grey[500],.24)},"&:after":{borderBottomColor:O(t.palette.background.default,.8)}},"& .apexcharts-tooltip-title":{textAlign:"center",fontWeight:t.typography.fontWeightBold,backgroundColor:O(t.palette.grey[500],.08),color:t.palette.text[t.palette.mode==="light"?"secondary":"primary"]},"& .apexcharts-legend":{padding:0},"& .apexcharts-legend-series":{display:"inline-flex !important",alignItems:"center"},"& .apexcharts-legend-marker":{marginRight:8},"& .apexcharts-legend-text":{lineHeight:"18px",textTransform:"capitalize"}}})),qt=i.memo(ir);function fe({title:t,subtitle:n,icon:s,color:r="primary",sx:o,...l}){return e.jsxs(le,{component:P,spacing:3,direction:"row",sx:{px:3,py:5,borderRadius:2,...o},...l,children:[s&&e.jsx(T,{sx:{width:64,height:64},children:s}),e.jsxs(P,{spacing:.5,children:[e.jsx(F,{variant:"h5",children:t}),e.jsx(F,{variant:"subtitle2",sx:{color:"text.disabled"},children:n})]})]})}fe.propTypes={color:d.string,icon:d.oneOfType([d.element,d.string]),sx:d.object,title:d.string,subtitle:d.string};function Gt(t,n){var c,u;let s,r=0,o=!1;const l=[];for(let p=0;p<=3;p+=1)if(s=n[`switch:${p}`],typeof((c=s==null?void 0:s.aenergy)==null?void 0:c.by_minute)<"u"){o=!0;const a=Number(s.aenergy.by_minute[0]);a>0&&(r+=a,l.push({label:`${t} switch:${p}`,value:a}))}if(s=n["rgbw:0"],typeof((u=s==null?void 0:s.aenergy)==null?void 0:u.by_minute)<"u"){o=!0;const p=Number(s.aenergy.by_minute[0]);p>0&&(r+=p,l.push({label:`${t} rgbw:0`,value:p}))}return{hasSwitch:o,totalPower:r,powerPerDevice:l}}function ar(t){let n=0,s=0,r=0,o=0,l=0,c=[];const u=[];let p={totalPower:0,powerPerDevice:[]};return Object.values(t).forEach((a,g)=>{var x,m,f;const h=(m=(x=a==null?void 0:a.wsmessages)==null?void 0:x.NotifyFullStatus)==null?void 0:m.params;if(a.online&&(r+=1),typeof h<"u"&&(p=Gt(a.cname,h),p.totalPower>0&&u.push(a.chartColor),c=c.concat(p.powerPerDevice),l+=p.totalPower,typeof((f=h==null?void 0:h.cloud)==null?void 0:f.connected)<"u"&&h.cloud.connected&&(o+=1),typeof a.scripts<"u")){let _;Object.values(a.scripts).forEach(w=>{_=h[`script:${w.id}`],_!=="undefined"&&(n+=1,_.running&&(s+=1),w.running=_.running)})}}),{currentPower:l,powerPerDevice:c,colorPerDevice:u,scriptsRunning:s,scriptsCount:n,cloudCount:o,onlineCount:r}}function lr(t){const n=he();Be("up","sm");const s={show:!0,label:"Total",color:n.palette.text.secondary,fontSize:n.typography.subtitle2.fontSize,fontWeight:n.typography.subtitle2.fontWeight,lineHeight:n.typography.subtitle2.lineHeight},r={offsetY:8,color:n.palette.text.primary,fontSize:n.typography.h3.fontSize,fontWeight:n.typography.h3.fontWeight,lineHeight:n.typography.h3.lineHeight},o={chart:{toolbar:{show:!1},zoom:{enabled:!1,type:"xy"},animations:{enabled:!0},foreColor:n.palette.text.disabled,fontFamily:n.typography.fontFamily},states:{hover:{filter:{type:"lighten",value:.04}},active:{filter:{type:"darken",value:.88}}},fill:{opacity:1,gradient:{type:"vertical",shadeIntensity:0,opacityFrom:.4,opacityTo:0,stops:[0,100]}},dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},grid:{strokeDashArray:3,borderColor:n.palette.divider,xaxis:{lines:{show:!1}}},xaxis:{tickPlacement:"on",axisBorder:{show:!1},axisTicks:{show:!1}},markers:{size:0,strokeColors:n.palette.background.paper},tooltip:{theme:!1,x:{show:!0}},legend:{show:!0,showForSingleSeries:!0,fontSize:13,position:"bottom",horizontalAlign:"center",markers:{radius:12},fontWeight:500,itemMargin:{horizontal:8},labels:{colors:n.palette.text.primary}},plotOptions:{bar:{borderRadius:0},pie:{donut:{labels:{show:!0,value:r,total:s}}},radialBar:{track:{strokeWidth:"100%",background:O(n.palette.grey[500],.16)},dataLabels:{value:r,total:s}},radar:{polygons:{fill:{colors:["transparent"]},strokeColors:n.palette.divider,connectorColors:n.palette.divider}},polarArea:{rings:{strokeColor:n.palette.divider},spokes:{connectorColors:n.palette.divider}}},responsive:[{breakpoint:n.breakpoints.values.sm,options:{plotOptions:{bar:{columnWidth:"40%"}}}},{breakpoint:n.breakpoints.values.md,options:{plotOptions:{bar:{columnWidth:"32%"}}}}]};return ls(o,t)}function Vt({title:t,subheader:n,colors:s,series:r,...o}){const l=he(),c=[],u=[];r.forEach(a=>{c.push(a.label),u.push(a.value)});const p={labels:c,stroke:{colors:[l.palette.background.paper]},legend:{show:!0,position:"bottom"},colors:s,dataLabels:{enabled:!0,dropShadow:{enabled:!1}},tooltip:{fillSeriesColor:!1,shared:!0,intersect:!1,y:{formatter:a=>typeof a<"u"?je(a):a}}};return e.jsxs(le,{...o,children:[e.jsx(Ye,{title:t,subheader:n,sx:{mb:5}}),e.jsx(qt,{dir:"ltr",type:"pie",series:u,options:p,width:"100%",height:280})]})}Vt.propTypes={chart:d.object,subheader:d.string,title:d.string,colors:d.array,series:d.array};function Jt({title:t,subheader:n,chart:s,handleTimelineChange:r,selection:o,...l}){const{labels:c,colors:u,series:p,timeline:a,maxConsumption:g}=s,{t:h}=N(),x=lr({colors:u,plotOptions:{bar:{columnWidth:"28%"}},chart:{stacked:a.data!=="Minute"},yaxis:{labels:{formatter(m){return a.data==="Minute"?g/1e3*60<1e3?je(m):bt(m):g/1e3<1e3?`${(m/1e3).toFixed(2)} w/h`:`${(m/1e3/1e3).toFixed(2)} kw/h`}},forceNiceScale:!0},xaxis:{type:"datetime",labels:{format:a.format,datetimeUTC:!1}},tooltip:{shared:!0,intersect:!1,x:{show:!0,format:a.format||"undefined"},y:{formatter(m){return a.data==="Minute"?g/1e3*60<9e3?je(m):bt(m):g/1e3<9e3?`${(m/1e3).toFixed(2)} w/h`:`${(m/1e3/1e3).toFixed(2)} kw/h`}}}});return e.jsxs(le,{...l,children:[e.jsx(Ye,{title:t,subheader:n,action:e.jsx(Ae,{sx:{m:1,minWidth:120},size:"small",children:e.jsxs(zn,{value:o,onChange:r,children:[e.jsx(W,{value:"0",children:h("_byminute_")}),e.jsx(W,{value:"1",children:h("_byhour_")}),e.jsx(W,{value:"2",children:h("_byday_")}),e.jsx(W,{value:"3",children:h("_bymonth_")}),e.jsx(W,{value:"4",children:h("_byyear_")})]})})}),e.jsx(T,{sx:{p:3,pb:1},children:e.jsx(qt,{dir:"ltr",type:p[0].type,series:p,options:x,width:"100%",height:364})})]})}Jt.propTypes={chart:d.object,subheader:d.string,title:d.string,handleTimelineChange:d.func,selection:d.number};function cr(t){const n={};switch(t){case 1:n.data="Hour",n.format="HH:00",n.catformat="yyyy-MM-dd HH:00";break;case 2:n.data="Day",n.format="d.MM",n.catformat="yyyy-MM-dd";break;case 3:n.data="Month",n.format="MMM.yyyy",n.catformat="yyyy-MM";break;case 4:n.data="Year",n.format="yyyy",n.catformat="yyyy";break;default:n.data="Minute",n.format="H:mm",n.catformat="yyyy-MM-dd HH:mm"}return n}function dr(t,n,s){const r=[],o=[],l=[],c=[];let u=0;return n.forEach((p,a)=>{p.consumption>u&&(u=p.consumption);const g=Ot(p.ts,s.catformat);r.includes(g)||r.push(g);const h=l.indexOf(p.device_id);if(h===-1){const x=t.findIndex(m=>m.id===p.device_id);x!==-1?(l.push(p.device_id),c.push(t[x].chartColor),o.push({name:t[x].cname,type:s.data==="Minute"?"line":"bar",data:[{x:g,y:p.consumption}]})):console.error(`Could not finde device with id ${p.device_id}`)}else o[h].data.push({x:g,y:p.consumption})}),{labels:r,series:o,colors:c,maxConsumption:u}}function ur(){const[t,n]=i.useState(0),[s,r]=i.useState({running:0,count:0}),[o,l]=i.useState(0),[c,u]=i.useState([]),[p,a]=i.useState([]),[g,h]=i.useState({online:0,count:0}),[x,m]=i.useState({labels:[],colors:[],series:[],timeline:{},maxConsumption:0}),[f,_]=i.useState([]),{t:w}=N(),[C,k]=i.useState(0),y=i.useRef({data:"Minute",format:"HH:mm",catformat:"yyyy-MM-dd HH:mm"}),{user:D,request:R,subscribe:j,unsubscribe:S}=V(),$=or(),I=i.useRef(b()),L=i.useCallback(M=>{let U;if(f.length!==0)U=f;else if(typeof M.data.devices<"u")U=M.data.devices;else return;const{rows:ee}=M.data,Q=dr(U,ee,y.current);U.length>0&&m({labels:Q.labels,colors:Q.colors,series:Q.series,timeline:y.current,maxConsumption:Q.maxConsumption})},[f]),A=i.useCallback(M=>{const U=ar(M),{currentPower:ee}=U;r({running:U.scriptsRunning,count:U.scriptsCount}),l(U.cloudCount),u(U.powerPerDevice),a(U.colorPerDevice),n(ee),h({online:U.onlineCount,count:M.length}),_(M),R({event:`getTimeline${y.current.data}`,data:{source:"App View",message:"App View needs timeline for a device"}},L)},[R,L]),J=i.useCallback(M=>{const U=M.data.device;if(M.event==="ShellyUpdate"&&M.type==="ws"){const ee=f.map((Q,we)=>Q.id===U.id?(U.chartColor=$[te(we+1,$.length)],U):Q);A(ee)}},[A,f,$]),re=M=>{const U=Number(M.target.value);k(U),y.current=cr(U),R({event:`getTimeline${y.current.data}`,data:{source:"App View",message:"App View needs timeline for a device"}},L)},ve=i.useCallback(M=>{const U=M.data.devices.map((ee,Q)=>(ee.chartColor=$[te(Q+1,$.length)],ee));L(M),A(U)},[$,A,L]);return i.useEffect(()=>{const M=I.current;return f.length===0&&R({event:"devices timeline get",data:{source:"App View",message:"App View needs the list of devices and the timeline"}},ve),j({subscriptionID:M,callback:J,all:!0},["ShellyUpdate"]),()=>{S(M,["ShellyUpdate"])}},[f.length,ve,J,S,j,R]),f.length===0?null:e.jsxs(xe,{maxWidth:"xl",children:[e.jsx(P,{direction:"row",children:e.jsx(et,{title:`${w("_welcome_")} ${D.firstname!==null?D.firstname:D.alias}`})}),e.jsxs(X,{container:!0,spacing:3,children:[e.jsx(X,{size:{xs:12,sm:6,md:3},children:e.jsx(fe,{title:`${g.online}/${g.count}`,subtitle:`Shellies ${w("Connected")}`,color:"success",icon:e.jsx("img",{alt:"icon",src:"/assets/icons/overview/S-Shelly-Icon.svg"})})}),e.jsx(X,{size:{xs:12,sm:6,md:3},children:e.jsx(fe,{title:je(t),subtitle:w("_consumption_"),color:"info",icon:e.jsx("img",{alt:"icon",src:"/assets/icons/overview/consumption.svg"})})}),e.jsx(X,{size:{xs:12,sm:6,md:3},children:e.jsx(fe,{title:`${s.running}/${s.count}`,subtitle:w("Running"),color:"success",icon:e.jsx("img",{alt:"icon",src:"/assets/icons/overview/script.svg"})})}),e.jsx(X,{size:{xs:12,sm:6,md:3},children:e.jsx(fe,{title:rr(o),subtitle:w("Connected"),color:"error",icon:e.jsx("img",{alt:"icon",src:"/assets/icons/overview/cloud.svg"})})}),e.jsx(X,{size:{xs:12,sm:12,md:12,lg:12},children:e.jsx(Vt,{title:w("_consumption_"),subheader:w("_perShelly_"),colors:p,series:c})}),e.jsx(X,{size:{xs:12,sm:12,md:12,lg:12},children:e.jsx(Jt,{title:"Timeline",subheader:w("_perShelly_"),chart:x,handleTimelineChange:re,selection:C})})]})]})}function pr(){const{user:t}=V();return e.jsxs(e.Fragment,{children:[e.jsx(ie,{children:e.jsx("title",{children:" Dashboard"})}),t?e.jsx(ur,{}):null]})}const hr=Object.freeze(Object.defineProperty({__proto__:null,default:pr},Symbol.toStringTag,{value:"Module"}));function Kt({handleContentChange:t,content:n}){const{t:s}=N(),r=["heading","bold","italic","strike","link","underline","code","orderedList","bulletList","align","codeBlock","blockquote","history","color"],o={editor:{editor:"Editor",preview:s("_editor-preview_")},toolbar:{bold:s("_editor-bold_"),italic:s("_editor-italic_"),strike:s("_editor-strike_"),underline:s("_editor-underline_"),link:s("_editor-link_"),bulletList:s("_editor-bulletlist_"),orderedList:s("_editor-orderedlist_"),alignLeft:s("_editor-alignleft_"),alignCenter:s("_editor-aligncenter_"),alignRight:s("_editor-alignright_"),alignJustify:s("_editor-alignjustify_"),blockquote:s("_editor-blockquote_"),codeBlock:s("_editor-codeblock_"),color:s("_editor-color_"),table:"Table",youtube:"Youtube",undo:s("_editor-undo_"),redo:s("_editor-redo_"),mention:"Mention"},headings:{normalText:s("_editor-normaltext_"),h1:s("_editor-h1_"),h2:s("_editor-h2_"),h3:s("_editor-h3_"),h4:s("_editor-h4_"),h5:s("_editor-h5_"),h6:s("_editor-h6_")},table:{table:"Tableau",addColumnBefore:"Ajouter une colonne avant",addColumnAfter:"Ajouter une colonne apr칟s",deleteColumn:"Supprimer la colonne",addRowBefore:"Ajouter une ligne avant",addRowAfter:"Ajouter une ligne apr칟s",deleteRow:"Supprimer la ligne",mergeCells:"Fusionner les cellules",splitCell:"Diviser la cellule",deleteTable:"Supprimer le tableau",insertTable:"Ins칠rer un tableau",toggleHeaderCell:"Basculer la cellule d'en-t칡te",toggleHeaderColumn:"Basculer la colonne d'en-t칡te",toggleHeaderRow:"Basculer la ligne d'en-t칡te",mergeOrSplit:"Fusionner ou diviser",setCellAttribute:"D칠finir l'attribut de cellule"},link:{link:s("_editor-link_"),insert:s("_editor-insertlink_"),invalid:s("_editor-invalidlink_")},youtube:{link:"Lien",insert:"Ins칠rer la vid칠o Youtube",title:"Ins칠rer une vid칠o Youtube",invalid:"Lien invalide",enter:"Entrer le lien",height:"Hauteur",width:"Largeur"}};return e.jsx("div",{children:e.jsx(hs,{value:n,onChange:t,toolbar:r,placeholder:s("_editor-placeholder_"),disableTabs:!0,toolbarPosition:"top",labels:o,withBubbleMenu:!1})})}Kt.propTypes={handleContentChange:d.func.isRequired,content:d.string};const Yt=({type:t,handleUpdatePost:n,updatepost:s,handleBlogpostsReceived:r})=>{const{user:o,request:l}=V(),[c,u]=i.useState(t==="update"?s:{title:"",content:"",public:0}),{t:p}=N(),[a,g]=i.useState({success:!0,message:""}),h=C=>{g({success:C.data.success,message:C.data.message}),C.data.success&&r(C)},x=C=>{g({success:C.data.success,message:C.data.message}),C.data.success&&n(c)},m=({target:C})=>{const k={...c};C.name==="public"?k.public=C.checked?1:0:k[C.name]=C.value,u(k)},f=C=>{const k={...c};k.content=C,u(k)},_=C=>{C.preventDefault(),t==="create"?(c.userid=o.id,c.createdAt=Date.now(),l({event:"blogpost create",data:{source:"Blogpost Form",message:"Blogpost Form wants to create a new post",blogpost:c}},h)):t==="update"&&l({event:"blogpost update",data:{source:"Blogpost Form",message:"Blogpost Form wants to update a post",blogpost:c}},x)},w=()=>typeof c.title>"u"||c.title.length===0||typeof c.content>"u"||c.content.length===0||wt(s,c);return e.jsx("form",{onSubmit:_,children:e.jsx(Ae,{fullWidth:!0,size:"subtitle2",children:e.jsxs(P,{spacing:3,sx:{px:3,py:3},children:[e.jsxs(P,{direction:"row",spacing:3,children:[e.jsx(ne,{required:!0,value:c.title,name:"title",label:p("Title"),slotProps:{htmlInput:{maxLength:40}},onChange:m,sx:{width:280}}),e.jsx(Te,{control:e.jsx(Wn,{name:"public",size:"medium",checked:c.public===1,onChange:m}),label:"Public",labelPlacement:"bottom"})]}),e.jsx(Kt,{handleContentChange:f,content:c.content}),e.jsx(F,{variant:"subtitle2",color:a.success?"success":"error",children:p(a.message)}),e.jsx(Y,{disabled:w(),fullWidth:!0,size:"large",type:"submit",color:"inherit",variant:"outlined",startIcon:e.jsx(v,{icon:"formkit:submit"}),children:p("Save")})]})})})};function Zt({openUpdate:t,updatepost:n,onCloseUpdate:s,handleUpdatePost:r}){const{t:o}=N();return e.jsxs(ae,{anchor:"right",open:t,onClose:s,slotProps:{paper:{sx:{width:1,border:"none",overflow:"auto"}}},children:[e.jsxs(P,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{px:1,py:2},children:[e.jsx(F,{variant:"h6",sx:{ml:1},children:o("_editpost_")}),e.jsx(q,{onClick:s,children:e.jsx(v,{icon:"eva:close-fill"})})]}),e.jsx(se,{}),e.jsx(Yt,{type:"update",handleUpdatePost:r,updatepost:n})]})}Zt.propTypes={openUpdate:d.bool.isRequired,updatepost:d.object,handleUpdatePost:d.func,onCloseUpdate:d.func.isRequired};function tt({blogpost:t,index:n,handleDeletePost:s}){const[r,o]=i.useState(null),[l,c]=i.useState(!1),[u,p]=i.useState(!1),[a,g]=i.useState(!1),[h,x]=i.useState(t),{t:m}=N(),{user:f}=V(),_=n===0,w=n===1||n===2,C=A=>{const J={...h};J.title=A.title,J.content=A.content,J.public=A.public,x(J)},k=A=>{o(A.currentTarget),g(!1)},y=()=>{o(null)},D=()=>{c(!1)},R=()=>{c(!0),o(null)},j=()=>{g(!0)},S=e.jsx(pe,{alt:h.author.name,src:h.author.avatarUrl,sx:{zIndex:9,width:32,height:32,position:"absolute",left:A=>A.spacing(3),bottom:A=>A.spacing(-2),...(_||w)&&{zIndex:9,top:24,left:24,width:40,height:40}}}),$=e.jsx(T,{sx:_||w?{position:"absolute",top:80,left:25}:{pl:3,pt:4},children:e.jsxs(P,{children:[e.jsx(F,{variant:"caption",component:"div",sx:{mb:2,color:"text.disabled",...(_||w)&&{opacity:.48,color:"common.white"}},children:As(h.createdAt)}),e.jsxs(P,{direction:"row",spacing:2,children:[e.jsx(F,{color:"inherit",variant:"subtitle2",sx:{height:44,overflow:"hidden",WebkitLineClamp:2,display:"-webkit-box",WebkitBoxOrient:"vertical",..._&&{typography:"h5",height:60},...(_||w)&&{color:"common.white"}},children:h.title}),e.jsx(v,{icon:"mdi:text-box",onClick:()=>p(!u),sx:{cursor:"pointer",...(_||w)&&{color:"white"}}})]}),e.jsx(F,{variant:"caption",color:"inherit",sx:{...(_||w)&&{color:"common.white"}},children:e.jsx(ct,{value:`${h.content.substring(0,150)} ${h.content.length>150?"...":""}`})})]})}),I=e.jsx(T,{component:"img",alt:h.title,src:h.cover,sx:{top:0,width:1,height:1,objectFit:"cover",position:"absolute"}}),L=e.jsx(Xe,{color:"paper",src:"/assets/icons/shape-avatar.svg",sx:{width:80,height:36,zIndex:9,bottom:-15,position:"absolute",color:"background.paper",...(_||w)&&{display:"none"}}});return e.jsxs(X,{size:u?{xs:12,sm:12,md:12}:{xs:12,sm:_?12:6,md:_?6:3},children:[e.jsxs(le,{children:[e.jsxs(T,{sx:{position:"relative",pt:"calc(100% * 3 / 4)",...(_||w)&&{pt:"calc(100% * 4 / 3)","&:after":{top:0,content:"''",width:"100%",height:"100%",position:"absolute",bgcolor:A=>O(A.palette.grey[900],.72)}},..._&&{pt:{xs:"calc(100% * 4 / 3)",sm:"calc(100% * 3 / 4.66)"}}},children:[f!==null&&f.roleid<3&&e.jsx(q,{onClick:k,sx:{zIndex:9,position:"absolute",top:24,right:20,width:40,height:40},children:e.jsx(v,{icon:"eva:more-vertical-fill",color:"white"})}),L,S,I]}),$]}),u&&e.jsx(T,{sx:{m:3,display:"flex",width:1,overflowX:"auto",overflowY:"auto"},children:e.jsx(ct,{value:h.content})}),f!==null&&f.roleid<3&&e.jsxs(ye,{open:!!r,anchorEl:r,onClose:y,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},slotProps:{paper:{sx:{width:200}}},children:[e.jsxs(W,{onClick:R,children:[e.jsx(v,{icon:"eva:edit-fill",sx:{mr:2}}),m("Edit")]}),!a&&e.jsxs(W,{onClick:j,sx:{color:"error.main"},children:[e.jsx(v,{icon:"eva:trash-2-outline",sx:{mr:2}}),m("Delete")]}),a&&e.jsxs(W,{onClick:s,sx:{color:"error.main"},children:[e.jsx(v,{icon:"eva:question-mark-circle-outline",sx:{mr:2}}),m("_reallydelete_")]})]}),e.jsx(Zt,{title:m("_editpost_"),openUpdate:l,type:"update",updatepost:h,onCloseUpdate:D,handleUpdatePost:C})]})}tt.propTypes={blogpost:d.object.isRequired,index:d.number.isRequired,handleDeletePost:d.func};function Xt({openCreate:t,onOpenCreate:n,onCloseCreate:s,handleBlogpostsReceived:r}){const{t:o}=N();return e.jsxs(e.Fragment,{children:[e.jsx(Y,{variant:"contained",color:"inherit",startIcon:e.jsx(v,{icon:"eva:plus-fill"}),onClick:n,children:o("_newpost_")}),e.jsxs(ae,{anchor:"right",open:t,onClose:s,slotProps:{paper:{sx:{width:1,border:"none",overflow:"auto"}}},children:[e.jsxs(P,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{px:1,py:2},children:[e.jsx(F,{variant:"h6",sx:{ml:1},children:o("_newpost_")}),e.jsx(q,{onClick:s,children:e.jsx(v,{icon:"eva:close-fill"})})]}),e.jsx(se,{}),e.jsx(Yt,{type:"create",handleBlogpostsReceived:r})]})]})}Xt.propTypes={openCreate:d.bool.isRequired,onOpenCreate:d.func.isRequired,onCloseCreate:d.func.isRequired,handleBlogpostsReceived:d.func.isRequired};function xr(){const[t,n]=i.useState([]),{request:s,user:r}=V(),o=i.useRef(!1),[l,c]=i.useState(!1),u=i.useCallback(h=>{o.current=!0;const x=h.data.blogposts.map((m,f)=>({id:m.blogpostid,cover:`/assets/images/covers/cover_${te(f+1,24)}.jpg`,title:m.title,content:m.content,createdAt:m.createdAt,public:m.public,author:{name:m.alias,avatarUrl:`/assets/images/avatars/avatar_${te(m.userid,25)}.jpg`}}));n(x)},[n]);i.useEffect(()=>{o.current||s({event:"blogposts get all",data:{source:"Blog View",message:"Blog View  needs the list of blogposts"}},u)},[u,s]);const p=()=>{c(!0)},a=()=>{c(!1)},g=h=>{s({event:"blogpost delete",data:{source:"Blog View",message:"Blog View wants to delete a post",ids:[h]}},u)};return e.jsxs(xe,{children:[e.jsxs(P,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[e.jsx(F,{variant:"h4",children:"Blog"}),r.roleid<3&&e.jsx(Xt,{openCreate:l,onOpenCreate:p,onCloseCreate:a,handleBlogpostsReceived:u})]}),e.jsx(X,{container:!0,spacing:3,children:t.map((h,x)=>e.jsx(tt,{blogpost:h,index:x,handleDeletePost:m=>g(h.id)},b()))})]})}function gr(){const{user:t}=V();return e.jsxs(e.Fragment,{children:[e.jsx(ie,{children:e.jsx("title",{children:" Blog"})}),t?e.jsx(xr,{}):null]})}const fr=Object.freeze(Object.defineProperty({__proto__:null,default:gr},Symbol.toStringTag,{value:"Module"}));function Qt({openCreate:t,onOpenCreate:n,onCloseCreate:s,handleUsersReceived:r}){const{t:o}=N();return e.jsxs(e.Fragment,{children:[e.jsx(Y,{variant:"contained",color:"inherit",startIcon:e.jsx(v,{icon:"eva:plus-fill"}),onClick:n,children:o("_newuser_")}),e.jsxs(ae,{anchor:"right",open:t,onClose:s,slotProps:{paper:{sx:{width:300,border:"none",overflow:"hidden"}}},children:[e.jsxs(P,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{px:1,py:2},children:[e.jsx(F,{variant:"h6",sx:{ml:1},children:o("_newuser_")}),e.jsx(q,{onClick:s,children:e.jsx(v,{icon:"eva:close-fill"})})]}),e.jsx(se,{}),e.jsx(Ue,{type:"create",handleUsersReceived:r})]})]})}Qt.propTypes={openCreate:d.bool.isRequired,onOpenCreate:d.func.isRequired,onCloseCreate:d.func.isRequired,handleUsersReceived:d.func.isRequired};function en({query:t}){const{t:n}=N();return e.jsx(Le,{children:e.jsx(Z,{align:"center",colSpan:6,sx:{py:3},children:e.jsxs(Mn,{sx:{textAlign:"center"},children:[e.jsx(F,{variant:"h6",paragraph:!0,children:n("_notfound_")}),e.jsxs(F,{variant:"body2",children:[n("_noresultsfor_")," ",e.jsxs("strong",{children:['"',t,'"']}),"."]})]})})})}en.propTypes={query:d.string};const mr=({updateuser:t={updateuser:t}})=>{const{t:n}=N(),{request:s,devices:r}=V(),[o,l]=i.useState([]),[c,u]=i.useState({success:!0,message:""}),p=x=>{u({success:x.data.success,message:x.data.message})},a=x=>{x.preventDefault(),s({event:"user devices update",data:{source:"Devices Form",message:`Updating the devices of user ${t.alias}`,userid:t.id,userdevices:o}},p)},g=i.useCallback(x=>{l(x.data.userdevices)},[]),h=x=>{const m=[...o];m.includes(x)?m.splice(m.findIndex(f=>f===x),1):m.push(x),l(m)};return i.useEffect(()=>{s({event:"user devices get all",data:{source:"Devices Form",message:"Devices Form needs the list of devices of a user",userid:t.id}},g)},[g,s,t]),e.jsx(T,{component:"form",onSubmit:a,sx:{height:1},children:e.jsxs(P,{direction:"column",sx:{justifyContent:"space-between",m:2,height:1},children:[e.jsx(Ae,{fullWidth:!0,size:"subtitle2",children:e.jsx(P,{spacing:.5,sx:{maxHeight:"99%",overflowY:"auto"},children:r.map((x,m)=>e.jsx(Te,{value:x.id,control:e.jsx(be,{checked:o.includes(x.id)}),onChange:()=>h(x.id),label:x.cname},x.id))})}),e.jsx(F,{variant:"subtitle2",color:c.success?"success":"error",children:n(c.message)}),e.jsx(Y,{fullWidth:!0,size:"large",type:"submit",color:"inherit",variant:"outlined",startIcon:e.jsx(v,{icon:"formkit:submit"}),children:n("Save")})]})})};function br({title:t,updateuser:n,openDevices:s,onCloseDevices:r}){return e.jsxs(ae,{anchor:"right",open:s,onClose:r,slotProps:{paper:{sx:{width:300,border:"none",overflow:"hidden"}}},children:[e.jsxs(P,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{px:1,py:2},children:[e.jsx(F,{variant:"h6",sx:{ml:1},children:`${t}: ${n.alias}`}),e.jsx(q,{onClick:r,children:e.jsx(v,{icon:"eva:close-fill"})})]}),e.jsx(se,{}),e.jsx(mr,{updateuser:n})]})}function jr({id:t,selected:n,alias:s,avatarUrl:r,firstname:o,lastname:l,roleid:c,role:u,email:p,home:a,handleClick:g,handleDeleteUser:h,handleUpdateUser:x}){const[m,f]=i.useState(null),[_,w]=i.useState(!1),{t:C}=N(),[k,y]=i.useState({open:!1,type:""}),[D,R]=i.useState({open:!1}),j=re=>{I(),y({open:!0,type:re})},S=()=>{y({open:!1,type:""})},$=re=>{f(re.currentTarget),w(!1)},I=()=>{f(null)},L=()=>{w(!0)},A=()=>{I(),R({open:!0})},J=()=>{R({open:!1})};return e.jsxs(e.Fragment,{children:[e.jsxs(Le,{hover:!0,tabIndex:-1,role:"checkbox",selected:n,children:[e.jsx(Z,{padding:"checkbox",children:c!==1&&e.jsx(be,{disableRipple:!0,checked:n,onChange:g})}),e.jsx(Z,{component:"th",scope:"row",padding:"none",children:e.jsxs(P,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(pe,{alt:s,src:r}),e.jsx(F,{variant:"subtitle2",noWrap:!0,children:s})]})}),e.jsx(Z,{children:o}),e.jsx(Z,{children:l}),e.jsx(Z,{children:u}),e.jsx(Z,{children:p}),e.jsx(Z,{children:a}),e.jsx(Z,{align:"right",children:e.jsx(q,{onClick:$,children:e.jsx(v,{icon:"eva:more-vertical-fill"})})})]}),e.jsxs(ye,{open:!!m,anchorEl:m,onClose:I,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},slotProps:{paper:{sx:{width:200}}},children:[e.jsxs(W,{onClick:()=>j("profile"),children:[e.jsx(v,{icon:"eva:edit-fill",sx:{mr:2}}),C("Edit")]}),c!==1&&e.jsxs(W,{onClick:()=>A(),children:[e.jsx(v,{icon:"eva:edit-fill",sx:{mr:2}}),C("_assigndevices_")]}),!_&&c!==1&&e.jsxs(W,{onClick:L,sx:{color:"error.main"},children:[e.jsx(v,{icon:"eva:trash-2-outline",sx:{mr:2}}),C("Delete")]}),_&&e.jsxs(W,{onClick:h,sx:{color:"error.main"},children:[e.jsx(v,{icon:"eva:question-mark-circle-outline",sx:{mr:2}}),C("_reallydelete_")]})]}),e.jsx(Et,{title:C("_edituserprofile_"),openUpdate:k.open,type:k.type,updateuser:{alias:s,email:p,firstname:o,lastname:l,home:a,id:t,roleid:c,role:u},onCloseUpdate:S,handleUpdateUser:x}),e.jsx(br,{title:C("_assigndevices_"),updateuser:{alias:s,firstname:o,lastname:l,id:t},openDevices:D.open,onCloseDevices:J})]})}const yr={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function _r(t,n,s){return t?Math.max(0,(1+t)*n-s):0}function jt(t,n,s){return t[s]===null?1:n[s]===null||n[s]<t[s]?-1:n[s]>t[s]?1:0}function vr(t,n){return t==="desc"?(s,r)=>jt(s,r,n):(s,r)=>-jt(s,r,n)}function wr({inputData:t,comparator:n,filterName:s,field:r}){const o=t.map((l,c)=>[l,c]);return o.sort((l,c)=>{const u=n(l[0],c[0]);return u!==0?u:l[1]-c[1]}),t=o.map(l=>l[0]),s&&(t=t.filter(l=>l[r].toLowerCase().indexOf(s.toLowerCase())!==-1)),t}function tn({order:t,orderBy:n,rowCount:s,headLabel:r,numSelected:o,onRequestSort:l,onSelectAllClick:c}){const u=p=>a=>{l(a,p)};return e.jsx(Hn,{children:e.jsxs(Le,{children:[e.jsx(Z,{padding:"checkbox",children:e.jsx(be,{indeterminate:o>0&&o<s,checked:s>0&&o===s,onChange:c})}),r.map(p=>e.jsx(Z,{align:p.align||"left",sortDirection:n===p.id?t:!1,sx:{width:p.width,minWidth:p.minWidth},children:e.jsxs(qn,{hideSortIcon:!0,active:n===p.id,direction:n===p.id?t:"asc",onClick:u(p.id),children:[p.label,n===p.id?e.jsx(T,{sx:{...yr},children:t==="desc"?"sorted descending":"sorted ascending"}):null]})},p.id))]})})}tn.propTypes={order:d.oneOf(["asc","desc"]),orderBy:d.string,rowCount:d.number,headLabel:d.array,numSelected:d.number,onRequestSort:d.func,onSelectAllClick:d.func};function nn({emptyRows:t,height:n}){return t?e.jsx(Le,{sx:{...n&&{height:n*t}},children:e.jsx(Z,{colSpan:9})}):null}nn.propTypes={emptyRows:d.number,height:d.number};function sn({selected:t,filterName:n,onFilterName:s,placeholder:r,handleDeleteSelected:o,showReallyDelete:l,handleShowReallyDelete:c}){const{t:u}=N();return e.jsxs(vt,{sx:{height:96,display:"flex",justifyContent:"space-between",p:p=>p.spacing(0,1,0,3),...t.length>0&&{color:"primary.main",bgcolor:"primary.lighter"}},children:[t.length>0?e.jsxs(F,{component:"div",variant:"subtitle1",children:[t.length," ",u("selected")]}):e.jsx(Gn,{value:n,onChange:s,placeholder:r,startAdornment:e.jsx(Me,{position:"start",children:e.jsx(v,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}),t.length>0&&!l&&e.jsx(Ke,{title:u("Delete"),children:e.jsx(q,{onClick:()=>c(!0),children:e.jsx(v,{icon:"eva:trash-2-fill"})})}),t.length>0&&l&&e.jsx(Y,{color:"error",variant:"contained",startIcon:e.jsx(v,{icon:"eva:question-mark-circle-outline"}),onClick:()=>{o(),c(!1)},children:e.jsx(F,{variant:"subtitle1",children:u("_reallydelete_")})})]})}sn.propTypes={selected:d.array,filterName:d.string,onFilterName:d.func,placeholder:d.string,handleDeleteSelected:d.func,showReallyDelete:d.bool,handleShowReallyDelete:d.func};function Cr(){const[t,n]=i.useState(0),[s,r]=i.useState([]),[o,l]=i.useState("asc"),[c,u]=i.useState([]),[p,a]=i.useState("name"),[g,h]=i.useState(""),[x,m]=i.useState(5),{t:f}=N(),{request:_}=V(),[w,C]=i.useState(!1),k=i.useRef(!1),[y,D]=i.useState(!1),R=E=>{const G=E.data.users.map((H,Zr)=>({id:H.userid,avatarUrl:`/assets/images/avatars/avatar_${te(H.userid,25)}.jpg`,alias:H.alias,firstname:H.firstname,lastname:H.lastname,role:H.rolename,email:H.email,home:H.home,roleid:H.roleid}));k.current=!0,r(G)},j=i.useCallback(E=>{const B=[...s],G=B.findIndex(H=>H.id===E.id);B[G]=E,B[G].avatarUrl=`/assets/images/avatars/avatar_${te(E.id,25)}.jpg`,r(B)},[s]),S=i.useCallback(E=>{E!==null&&j(E.detail)},[j]);i.useEffect(()=>{Ct("userUpdated",S),k.current||_({event:"users get all",data:{source:"Users View",message:"User View needs the list of users"}},R)},[_,S]);const $=()=>{C(!0)},I=()=>{C(!1)},L=E=>{D(E)},A=(E,B)=>{B!==""&&(l(p===B&&o==="asc"?"desc":"asc"),a(B))},J=E=>{if(E.target.checked){const B=s.filter(G=>G.id!==1).map(G=>G.alias);u(B);return}u([]),D(!1)},re=(E,B)=>{const G=c.indexOf(B);let H=[];G===-1?H=H.concat(c,B):G===0?H=H.concat(c.slice(1)):G===c.length-1?H=H.concat(c.slice(0,-1)):G>0&&(H=H.concat(c.slice(0,G),c.slice(G+1))),u(H),D(!1)},ve=E=>{_({event:"user delete",data:{source:"Users View",message:"User View wants to delete a user",ids:[E]}},R)},M=()=>{const E=s.filter(B=>c.includes(B.alias)&&B.id!==1).map(B=>B.id);u([]),_({event:"user delete",data:{source:"Users View",message:"User View wants to delete users",ids:E}},R)},U=(E,B)=>{n(B)},ee=E=>{n(0),m(parseInt(E.target.value,10))},Q=E=>{n(0),h(E.target.value)},we=wr({inputData:s,comparator:vr(o,p),filterName:g,field:"alias"}),Cn=!we.length&&!!g;return e.jsxs(xe,{children:[e.jsxs(P,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[e.jsx(F,{variant:"h4",children:f("Users")}),e.jsx(Qt,{openCreate:w,onOpenCreate:$,onCloseCreate:I,handleUsersReceived:R})]}),e.jsxs(le,{children:[e.jsx(sn,{selected:c,filterName:g,onFilterName:Q,placeholder:f("_searchuser_"),handleDeleteSelected:M,showReallyDelete:y,handleShowReallyDelete:L}),e.jsx(Ne,{children:e.jsx(Vn,{sx:{overflow:"unset"},children:e.jsxs(Jn,{sx:{minWidth:800},children:[e.jsx(tn,{order:o,orderBy:p,rowCount:s.length,numSelected:c.length,onRequestSort:A,onSelectAllClick:J,headLabel:[{id:"alias",label:f("Alias")},{id:"firstname",label:f("Firstname")},{id:"lastname",label:f("Lastname")},{id:"role",label:f("Role")},{id:"email",label:f("Email")},{id:"home",label:f("Home")},{id:""}]}),e.jsxs(Kn,{children:[we.slice(t*x,t*x+x).map(E=>e.jsx(jr,{id:E.id,alias:E.alias,firstname:E.firstname,lastname:E.lastname,role:E.role,email:E.email,home:E.home,roleid:E.roleid,avatarUrl:E.avatarUrl,selected:c.indexOf(E.alias)!==-1,handleClick:B=>re(B,E.alias),handleDeleteUser:B=>ve(E.id),handleUpdateUser:j},E.id)),e.jsx(nn,{height:77,emptyRows:_r(t,x,s.length)}),Cn&&e.jsx(en,{query:g})]})]})})}),e.jsx(Yn,{page:t,component:"div",count:s.length,rowsPerPage:x,onPageChange:U,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:ee,labelRowsPerPage:f("_rowsperpage_"),labelDisplayedRows:({from:E,to:B,count:G})=>`${E}${B} ${f("of")} ${G!==-1?G:`${f("_morethan_")} ${B}`}`})]})]})}function Sr(){const{user:t}=V();return e.jsxs(e.Fragment,{children:[e.jsx(ie,{children:e.jsx("title",{children:" User"})}),t?e.jsx(Cr,{}):null]})}const kr=Object.freeze(Object.defineProperty({__proto__:null,default:Sr},Symbol.toStringTag,{value:"Module"}));function $r(){const t=["Plus1PM","Plus1PMMini","PlusI4","PlusRGBWPM","SHBDUO-1","SHPLG-S"],[n,s]=i.useState(0),r=(o,l)=>{s(o)};return e.jsx("div",{children:e.jsx(ps,{index:n,onChange:r,interval:4e3,animation:"fade",indicators:!0,stopAutoPlayOnHover:!0,children:t.map((o,l)=>e.jsx(T,{component:"img",src:`/assets/images/devices/${o}.png`,sx:{width:200,hight:200,objectFit:"scale-down"}},b()))})})}function Pr(){const t=he();return e.jsx(T,{display:"flex",justifyContent:"center",alignItems:"center",sx:{...Is({color:O(t.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:e.jsx(le,{sx:{p:5,width:1,maxWidth:420},children:e.jsxs(P,{sx:{alignItems:"center",justifyContent:"center",height:1},children:[e.jsx(_e,{sx:{mt:3}}),e.jsx($r,{}),e.jsx(Ue,{type:"login"})]})})})}function Fr(){return e.jsxs(e.Fragment,{children:[e.jsx(ie,{children:e.jsx("title",{children:" Login"})}),e.jsx(Pr,{})]})}const Rr=Object.freeze(Object.defineProperty({__proto__:null,default:Fr},Symbol.toStringTag,{value:"Module"}));function Tr(){const[t,n]=i.useState([]),{request:s}=V(),r=i.useRef(!1),o=Ee(),l=i.useCallback(u=>{if(r.current=!0,u.data.blogposts.length>0){const p=u.data.blogposts.map((a,g)=>({id:a.blogpostid,cover:`/assets/images/covers/cover_${te(g+1,24)}.jpg`,title:a.title,content:a.content,createdAt:a.createdAt,view:23,comment:45,share:45,favorite:5,author:{name:a.alias,avatarUrl:`/assets/images/avatars/avatar_${te(a.userid,25)}.jpg`}}));n(p)}else o("/login")},[n,o]);i.useEffect(()=>{r.current||s({event:"blogposts get public",data:{name:"LandingView",message:"LandingView  needs the list of public blogposts"}},l)},[l,s]);const c=()=>{o("/login")};return e.jsxs(xe,{children:[e.jsx(T,{sx:{flexGrow:1},children:e.jsxs(P,{direction:"row",spacing:10,sx:{justifyContent:"space-between"},children:[e.jsx(_e,{sx:{mt:3}}),e.jsx(P,{direction:"row",sx:{alignItems:"center"},children:e.jsxs(q,{onClick:c,sx:{pt:3},"aria-label":"Login",children:[e.jsx(v,{icon:"eva:lock-fill"}),e.jsx(F,{variant:"h6",children:"Login"})]})})]})}),e.jsx(X,{container:!0,spacing:3,sx:{pt:5},children:t.map((u,p)=>e.jsx(tt,{blogpost:u,index:p},b()))})]})}function Or(){return e.jsxs(e.Fragment,{children:[e.jsx(ie,{children:e.jsx("title",{children:" S-Central"})}),e.jsx(Tr,{})]})}const Dr=Object.freeze(Object.defineProperty({__proto__:null,default:Or},Symbol.toStringTag,{value:"Module"}));function Er(t,n){return t.sort((s,r)=>s[n]-r[n])}function Ir(t,n){return t.sort((s,r)=>s[n].localeCompare(r[n]))}const rn=({online:t})=>e.jsx(v,{icon:t?"material-symbols:wifi":"material-symbols:wifi-off",sx:{color:t?"green":"red"}});rn.propTypes={online:d.bool.isRequired};function on({ip:t,switches:n,handleClick:s}){return typeof n>"u"?null:n.map((r,o)=>(r.ip=t,r.index=o,e.jsx(Ke,{title:`Switch ${r.id}`,children:e.jsx(v,{icon:"icomoon-free:switch",sx:{cursor:"pointer",color:r.output?"green":"black"},onClick:()=>s(r)},b())},b())))}on.propTypes={ip:d.string.isRequired,switches:d.array,handleClick:d.func.isRequired};const an=({device:t,handleSwitchToggle:n})=>{const[s,r]=i.useState(t.switches),o=l=>{l.output=!l.output,t.switches[l.index]=l,r([...t.switches]),n(l)};return e.jsxs(e.Fragment,{children:[e.jsxs(P,{direction:"row",sx:{minHeight:35,maxHeight:35,pr:1,pl:1,alignItems:"center",justifyContent:"space-between"},children:[e.jsx(rn,{online:t.online}),e.jsx(on,{ip:t.ip,switches:s,handleClick:o})]}),e.jsx(Ye,{title:e.jsx(Je,{href:`http://${t.ip}`,target:"_blank",color:"inherit",underline:"hover",children:t.cname}),subheader:`${t.name} ${t.gen>0?`(Gen ${t.gen})`:""}`,sx:{minWidth:200,minHeight:50,maxHeight:50,pt:1}}),e.jsx(Zn,{sx:{minWidth:160,maxWidth:160,minHeight:120,objectFit:"scale-down"},image:t.image,title:t.name,component:"img",alt:t.name})]})},Ar=i.memo(an);an.propTypes={device:d.object.isRequired,handleSwitchToggle:d.func.isRequired};const ln=({scripts:t})=>typeof t>"u"?null:t.map(n=>{var s;return((s=n==null?void 0:n.logmessages)==null?void 0:s.length)>0?e.jsxs(P,{spacing:0,children:[e.jsx(F,{variant:"subtitle2",children:n.name},b()),n.logmessages.map(r=>{const o=new Date(r.ts*1e3).toTimeString().substring(0,8);return e.jsxs(P,{direction:"row",spacing:1,sx:{minWidth:0},children:[e.jsx(F,{variant:"caption",children:o},b()),e.jsx(F,{variant:"caption",noWrap:!0,children:r.msg},b())]},b())})]},b()):null}),Lr=i.memo(ln);ln.propTypes={scripts:d.array.isRequired};const Br=i.forwardRef(({colors:t,selected:n,onSelectColor:s,limit:r="auto",sx:o,...l},c)=>{const u=typeof n=="string",p=i.useCallback(a=>{if(u)a!==n&&s(a);else{const g=n.includes(a)?n.filter(h=>h!==a):[...n,a];s(g)}},[s,n,u]);return e.jsx(P,{ref:c,direction:"row",display:"inline-flex",sx:{flexWrap:"wrap",...r!=="auto"&&{width:r*36,justifyContent:"flex-end"},...o},...l,children:t.map(a=>{const g=u?n===a:n.includes(a);return e.jsx(Xn,{sx:{width:36,height:36,borderRadius:"50%"},onClick:()=>{p(a)},children:e.jsx(P,{alignItems:"center",justifyContent:"center",sx:{width:20,height:20,bgcolor:a,borderRadius:"50%",border:h=>`solid 1px ${O(h.palette.grey[500],.16)}`,...g&&{transform:"scale(1.3)",boxShadow:`4px 4px 8px 0 ${O(a,.48)}`,outline:`solid 2px ${O(a,.08)}`,transition:h=>h.transitions.create("all",{duration:h.transitions.duration.shortest})}},children:e.jsx(v,{width:g?12:0,icon:"eva:checkmark-fill",sx:{color:h=>h.palette.getContrastText(a),transition:h=>h.transitions.create("all",{duration:h.transitions.duration.shortest})}})})},a)})})});Br.propTypes={colors:d.oneOfType([d.string,d.arrayOf(d.string)]),limit:d.number,onSelectColor:d.func,selected:d.oneOfType([d.string,d.arrayOf(d.string)]),sx:d.object};function nt({colors:t,limit:n=3,sx:s}){const r=t.slice(0,n),o=t.length-n;return e.jsxs(P,{component:"span",direction:"row",alignItems:"center",justifyContent:"flex-end",sx:s,children:[r.map((l,c)=>e.jsx(T,{sx:{ml:-.75,width:16,height:16,bgcolor:l,borderRadius:"50%",border:u=>`solid 2px ${u.palette.background.paper}`,boxShadow:u=>`inset -1px 1px 2px ${O(u.palette.common.black,.24)}`}},l+c)),t.length>n&&e.jsx(T,{component:"span",sx:{typography:"subtitle2"},children:`+${o}`})]})}nt.propTypes={colors:d.arrayOf(d.string),limit:d.number,sx:d.object};const yt=["#00AB55","#D22B2B","#000000"];function cn({kvs:t}){return t.map((n,s)=>{const r=typeof n.display<"u"?n.display:n.key,o=l=>{switch(typeof n.style<"u"?n.style:n.value){case"boolean":return Number(n.value)===1?"true":"false";case"color":return e.jsx(nt,{colors:Number(n.value)===1?yt.slice(0,1):yt.slice(1,2),sx:{pt:"5px"}},b());default:return n.value}};return e.jsxs(P,{direction:"row",justifyContent:"space-between",style:{gap:20},useFlexGap:!0,flexWrap:"wrap",children:[e.jsx(F,{variant:"caption",sx:{minWidth:100},children:r},b()),e.jsx(F,{variant:"caption",children:o()},b())]},b())})}cn.propTypes={kvs:d.array.isRequired};const dn=({device:t,handleSwitchSet:n})=>{const[s,r]=i.useState(t.switches),{t:o}=N(),l=s.find(k=>typeof k.brightness<"u"),c=s.find(k=>typeof k.white<"u"),u=s.find(k=>typeof k.rgb<"u"),[p,a]=i.useState(typeof u<"u"?`rgb (${u.rgb[0]}, ${u.rgb[1]}, ${u.rgb[2]})`:"rgb (255, 0, 0)"),[g,h]=i.useState(typeof l<"u"?l.brightness:0),[x,m]=i.useState(typeof c<"u"?c.white:0),f=i.useMemo(()=>cs(n,30,{leading:!1,trailing:!0}),[n]),_=(k,y)=>{a(k),u.ip=t.ip,u.rgb=y.rgb,f(u)},w=(k,y)=>{h(y),l.ip=t.ip,l.brightness=y,f(l)},C=(k,y)=>{m(y),c.ip=t.ip,c.white=y,f(c)};return i.useEffect(()=>{r(t.switches)},[t,r]),e.jsxs(P,{alignItems:"flex-start",children:[typeof l<"u"&&e.jsxs(e.Fragment,{children:[e.jsx(F,{variant:"subtitle",children:o("Brightness")}),e.jsx(it,{value:g,min:0,max:100,step:10,marks:!0,valueLabelDisplay:"auto",size:"small",onChange:w,"aria-label":"Brighness slider"})]}),typeof c<"u"&&e.jsxs(e.Fragment,{children:[e.jsx(F,{variant:"subtitle",children:o("White")}),e.jsx(it,{value:x,min:0,max:t.gen===1?100:255,step:t.gen===1?10:25,marks:!0,valueLabelDisplay:"auto",size:"small",onChange:C,"aria-label":"White slider"})]}),typeof u<"u"&&e.jsx(ms,{format:"rgb",isAlphaHidden:!0,value:p,onChange:_,size:"small",variant:"outlined","aria-label":"Color Selection",sx:{pt:1}})]})};dn.propTypes={device:d.object,handleSwitchSet:d.func};const qe=({white:t})=>e.jsxs(P,{direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:.5,children:[e.jsx(v,{icon:"stash:circle-dot"},b()),e.jsx(F,{variant:"caption",children:t},b())]},b());qe.propTypes={white:d.number};const un=({data:t})=>{if(typeof t.motion<"u")return e.jsx(v,{icon:Number(t.motion)===1?"material-symbols:directions-walk":"fa6-solid:person",sx:{color:Number(t.motion)===1?"blue":"black"}},b());if(typeof t.window<"u")return Number(t.window)===1?e.jsx(v,{icon:"material-symbols:door-open-rounded",sx:{color:"black"}},b()):e.jsx(v,{icon:"material-symbols:door-front-rounded",sx:{color:"black"}},b());if(typeof t.button<"u")switch(Number(t.button)){case 1:return e.jsx(v,{icon:"mdi:number-1-box",sx:{color:"blue"}},b());case 2:return e.jsx(v,{icon:"mdi:number-2-box",sx:{color:"blue"}},b());case 3:return e.jsx(v,{icon:"mdi:number-3-box",sx:{color:"blue"}},b());case 4:return e.jsx(v,{icon:"mdi:number-4-box",sx:{color:"blue"}},b());case 254:return e.jsx(v,{icon:"f7:hand-point-left-fill",sx:{color:"blue"}},b());default:return e.jsx(v,{icon:"f7:hand-point-left-fill",sx:{color:"blue"}},b())}return e.jsx(v,{icon:"material-symbols:event-busy",sx:{color:"black"}},b())};un.propTypes={data:d.object.isRequired};const pn=({event:t})=>{let n;switch(Number(t.id)){case 0:n=180;break;case 1:n=270;break;case 2:n=90;break;default:n=0}return e.jsxs(P,{direction:"row",children:[e.jsx(v,{icon:"system-uicons:grid-squares-add",sx:{color:"black"},className:`rotate${n}`},b()),t.event==="single_push"&&e.jsx(v,{icon:"mdi:number-1-box",sx:{color:"blue"}},b()),t.event==="double_push"&&e.jsx(v,{icon:"mdi:number-2-box",sx:{color:"blue"}},b()),t.event==="triple_push"&&e.jsx(v,{icon:"mdi:number-3-box",sx:{color:"blue"}},b()),(t.event==="long_push"||t.event==="btn_up")&&e.jsx(v,{icon:"f7:hand-point-left-fill",sx:{color:"blue"}},b())]},b())};pn.propTypes={event:d.object.isRequired};const hn=({events:t})=>{const n=t.map(s=>s.event==="shelly-blu"&&typeof s.data<"u"?e.jsx(un,{data:s.data},b()):["single_push","double_push","triple_push","long_push"].includes(s.event)?e.jsx(pn,{event:s},b()):s.event==="btn_up"||s.event==="btn_down"?null:s.event==="scheduled_restart"?e.jsx(v,{icon:"solar:restart-square-bold",sx:{color:"black"}},b()):e.jsx(v,{icon:"ic:sharp-help",sx:{color:"black"}},b()));return n.length>0?n:e.jsx(v,{icon:"mdi:bug",sx:{color:"red"}},b())};hn.propTypes={events:d.array.isRequired};const Ge=({consume:t})=>e.jsxs(P,{direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:.5,children:[e.jsx(v,{icon:"material-symbols-light:bolt",sx:{color:+(t>0)?"blue":"black"}},b()),e.jsx(F,{variant:"caption",children:je(t)},b())]},b());Ge.propTypes={consume:d.number.isRequired};const xn=({params:t})=>{const n=[];return Object.keys(t).forEach(r=>{if(r.startsWith("script")){const o=t[r];n.push(e.jsxs(P,{justifyContent:"flex-start",alignItems:"center",spacing:.5,direction:"row",children:[e.jsxs(F,{variant:"subtitle2",color:o.running?"green":"red",children:["{",o.id,"}"]},b()),e.jsxs(F,{variant:"caption",children:[Math.round(Number(o.mem_free)/1024)," kb free"]},b())]},b()))}}),n};xn.propTypes={params:d.object.isRequired};const gn=({version:t})=>e.jsxs(P,{direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:.5,children:[e.jsx(v,{icon:"material-symbols:system-update-alt",sx:{color:"green"}},b()),e.jsx(F,{variant:"caption",children:t},b())]},b());gn.propTypes={version:d.string.isRequired};const Ve=({brightness:t})=>e.jsxs(P,{direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:.5,children:[e.jsx(v,{icon:"subway:black-white",width:18,height:18},b()),e.jsxs(F,{variant:"caption",children:[t,"%"]},b())]},b());Ve.propTypes={brightness:d.number};const fn=({sys:t})=>e.jsxs(P,{direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:.5,children:[e.jsx(v,{icon:"material-symbols-light:sd",sx:{color:"black"}},b()),e.jsxs(F,{variant:"caption",children:[Math.round(Number(t.ram_free)/1024)," kb free"]},b()),e.jsx(v,{icon:"material-symbols:storage-rounded",sx:{color:"black"}},b()),e.jsxs(F,{variant:"caption",children:[Math.round(Number(t.fs_free)/1024)," kb free"]},b())]},b());fn.propTypes={sys:d.object.isRequired};const mn=({deviceName:t,wsMessage:n})=>{var l,c,u,p,a,g,h,x,m;const{params:s}=n;if(typeof s>"u")return[];const r=[];let o;if(n.method!=="NotifyEvent"&&(o=Gt(t,s)),n.method==="NotifyFullStatus"){if(typeof(s==null?void 0:s.sys)<"u"&&r.push(e.jsx(fn,{sys:s.sys},b())),typeof((l=s==null?void 0:s.cloud)==null?void 0:l.connected)<"u"&&r.push(e.jsx(v,{icon:"material-symbols-light:cloud",sx:{color:s.cloud.connected?"green":"black"}},b())),typeof((p=(u=(c=s==null?void 0:s.sys)==null?void 0:c.available_updates)==null?void 0:u.stable)==null?void 0:p.version)<"u"&&r.push(e.jsx(gn,{version:s.sys.available_updates.stable.version},b())),r.push(e.jsx(xn,{params:n.params},b())),o.hasSwitch&&r.push(e.jsx(Ge,{consume:o.totalPower},b())),typeof((a=s["rgbw:0"])==null?void 0:a.brightness)<"u"&&r.push(e.jsx(Ve,{brightness:s["rgbw:0"].brightness},b())),typeof((g=s["switch:0"])==null?void 0:g.brightness)<"u"&&r.push(e.jsx(Ve,{brightness:s["switch:0"].brightness},b())),typeof((h=s["rgbw:0"])==null?void 0:h.white)<"u"&&r.push(e.jsx(qe,{white:s["rgbw:0"].white},b())),typeof((x=s["switch:0"])==null?void 0:x.white)<"u"&&r.push(e.jsx(qe,{white:s["switch:0"].white},b())),typeof((m=s["rgbw:0"])==null?void 0:m.rgb)<"u"){const{rgb:f}=s["rgbw:0"],_=`rgb(${f[0]}, ${f[1]}, ${f[2]})`;r.push(e.jsx(v,{icon:"material-symbols:light-mode",sx:{color:_}},b()))}}else n.method==="NotifyStatus"?o.hasSwitch&&r.push(e.jsx(Ge,{consume:o.totalPower},b())):n.method==="NotifyEvent"?typeof(s==null?void 0:s.events)<"u"&&r.push(e.jsx(hn,{events:s.events},b())):r.push(e.jsx(v,{icon:"ic:sharp-help",sx:{color:"black"}},b()));return r};mn.propTypes={deviceName:d.string.isRequired,wsMessage:d.object.isRequired};const bn=({ts:t})=>e.jsx(F,{variant:"subtitle2",children:Ot(t,"HH:mm")},b());bn.propTypes={ts:d.number.isRequired};const jn=({deviceName:t,wsmessages:n})=>typeof n>"u"?null:Object.keys(n).map(r=>{var l;const o=n[r];return e.jsxs(i.Fragment,{children:[e.jsxs(P,{direction:"row",justifyContent:"left",alignItems:"center",spacing:2,children:[typeof((l=o==null?void 0:o.params)==null?void 0:l.ts)<"u"&&e.jsx(bn,{ts:o.params.ts},b()),e.jsx(F,{variant:"subtitle2",children:r},b()),e.jsx(mn,{deviceName:t,wsMessage:o},b())]},b()),e.jsx(F,{variant:"caption",children:JSON.stringify(o)},b())]},b())}),Nr=i.memo(jn);jn.propTypes={deviceName:d.string.isRequired,wsmessages:d.object.isRequired};const ue=["#00AB55","#D22B2B","#000000"],yn=({deviceIP:t,deviceOnline:n,scripts:s})=>{if(typeof s>"u"||s==null||typeof s[Symbol.iterator]!="function")s=[{name:"n/a",colors:ue.slice(-1)},{name:"n/a",colors:ue.slice(-1)},{name:"n/a",colors:ue.slice(-1)}];else{s=[...s];for(let r=0;r<=2;r+=1)typeof s[r]>"u"?s.push({name:"n/a",colors:ue.slice(-1)}):s[r].colors=s[r].running&&n?ue.slice(0,1):ue.slice(1,2)}return s.map((r,o)=>e.jsx(i.Fragment,{children:e.jsxs(P,{direction:"row",style:{gap:20},useFlexGap:!0,flexWrap:"wrap",children:[e.jsx(Je,{href:r.id!==0?`http://${t}/#/script/${r.id}`:`http://${t}/#/scripts`,target:"_blank",color:"inherit",underline:"hover",variant:"subtitle2",noWrap:!0,sx:{minWidth:100},children:e.jsx(F,{noWrap:!0,variant:"caption",children:r.name},b())}),e.jsx(nt,{colors:r.colors,sx:{pt:"5px"}},b())]},b())},b()))};yn.propTypes={deviceIP:d.string.isRequired,deviceOnline:d.bool.isRequired,scripts:d.array.isRequired};function Ur(t,n){let s=!t.online;if(typeof t.scripts<"u"){let r;Object.values(t.scripts).forEach(o=>{r=n[`script:${o.id}`],o.running!==r.running&&(s=!0,o.running=r.running)})}if(typeof t.switches<"u"){let r;t.switches.forEach((o,l)=>{r=n[`switch:${o.id}`]||n[`rgbw:${o.id}`];const c=typeof o.ts>"u"||n.ts*1e3>o.ts;typeof r<"u"&&c&&(o.output!==r.output&&(s=!0,o.output=r.output,console.log(`Switch ${o.key} of device ${t.cname} output was set to ${o.output}`)),o.brightness!==r.brightness&&(s=!0,o.brightness=r.brightness,console.log(`Switch ${o.key} of device ${t.cname} brightness was set to ${o.brightness}`)),o.white!==r.white&&(s=!0,o.white=r.white,console.log(`Switch ${o.key} of device ${t.cname} white was set to ${o.white}`)),wt(o.rgb,r.rgb)||(s=!0,o.rgb=r.rgb,console.log(`Switch ${o.key} of device ${t.cname} rgb was set to ${o.rgb}`)))})}return s?{...t}:null}const zr=Ie(t=>{const{expand:n,...s}=t;return e.jsx(q,{...s})})(({theme:t,expand:n})=>({transform:n?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})})),_n=({shelly:t,type:n})=>{var y,D;const[s,r]=i.useState(!1),[o,l]=i.useState(t),[c,u]=i.useState(t.scripts),[p,a]=i.useState(t.wsmessages),[g,h]=i.useState(t.kvs),{subscribe:x,unsubscribe:m,send:f}=V(),_=i.useCallback(R=>{var $,I;const j=R.type,S=R.data.device;switch(j){case"script":u(L=>S.scripts);break;case"kvs":h(L=>S.kvs);break;case"log":u(L=>S.scripts);break;case"ws":{const L=(I=($=S==null?void 0:S.wsmessages)==null?void 0:$.NotifyFullStatus)==null?void 0:I.params;if(typeof L<"u"){const A=Ur(o,L);A!==null&&l(J=>A)}a(A=>S.wsmessages);break}default:l(L=>S)}},[o]);i.useEffect(()=>{if(t.gen!==0)return x({subscriptionID:t.id,callback:_,all:!1},["ShellyUpdate"]),()=>{m(t.id,["ShellyUpdate"])}},[t,x,m,_]);const w=()=>{r(!s)},C=R=>{R.ts=Date.now(),f({event:"toggleSwitch",data:{name:"Shelly Device",message:`${t.cname} wants to toggle a switch`,switch:R}})},k=R=>{if(R.ts=Date.now(),typeof R.rgb<"u"&&!(R.rgb instanceof Array)){let j=R.rgb.substring(R.rgb.indexOf("(")+1,R.rgb.indexOf(")")).split(",");j=j.map(S=>Number(S)),R.rgb=j}f({event:"setSwitch",data:{name:"Shelly Device",message:`${t.cname} wants to toggle a switch`,switch:R}})};return e.jsx(le,{raised:!0,children:e.jsxs(P,{direction:n==="ctrl"?"column":"row",children:[e.jsxs(P,{children:[e.jsx(Ar,{device:o,handleSwitchToggle:C}),n==="sk"&&e.jsxs(e.Fragment,{children:[e.jsx(ke,{sx:{minWidth:200,pt:0},children:e.jsx(P,{justifyContent:"left",alignItems:"flex-start",children:e.jsx(yn,{deviceIP:o.ip,deviceOnline:o.online,scripts:c})})}),e.jsxs(Qn,{disableSpacing:!0,children:[e.jsx(q,{href:`http://${o.ip}/#/key-value-store`,target:"_blank","aria-label":"show KVS entries",children:e.jsx(v,{icon:"material-symbols:storage-rounded",sx:{color:((y=o==null?void 0:o.kvs)==null?void 0:y.length)===0?"grey":"green"}},b())}),e.jsx(zr,{disabled:((D=o==null?void 0:o.kvs)==null?void 0:D.length)===0,onClick:w,expand:s,"aria-expanded":s,"aria-label":"show KVS entries",children:e.jsx(v,{icon:"mdi:expand-more",sx:{color:"gray"}},b())})]}),e.jsx(es,{in:s,timeout:"auto",mountOnEnter:!0,unmountOnExit:!0,children:e.jsx(ke,{sx:{pt:0},children:e.jsx(P,{justifyContent:"left",alignItems:"flex-start",children:e.jsx(cn,{kvs:g})})})})]})]}),n==="ws"&&e.jsx(ke,{sx:{display:"flex",width:1,overflowX:"auto",overflowY:"auto"},children:e.jsx(P,{children:e.jsx(Nr,{deviceName:o.name,wsmessages:p})})}),n==="log"&&e.jsx(ke,{sx:{display:"flex",width:1,overflowX:"auto",overflowY:"auto"},children:e.jsx(P,{children:e.jsx(Lr,{scripts:c})})}),n==="ctrl"&&e.jsx(T,{bgcolor:"white",sx:{minWidth:220,maxWidth:220,maxHeight:180,minHeight:180,mb:2,pl:2,pr:2},children:e.jsx(dn,{device:o,handleSwitchSet:k})})]})})},Wr=i.memo(_n);_n.propTypes={shelly:d.object.isRequired,type:d.string.isRequired};const vn=({index:t,devices:n})=>{const r=["sk","ctrl","log","ws"][t],o=12,l=r==="sk"||r==="ctrl"?4:12,c=r==="sk"||r==="ctrl"?2:12,u=r==="sk"||r==="ctrl"?2:12,p=r==="sk"||r==="ctrl"?2:12;return e.jsx(X,{container:!0,spacing:2,size:{xs:{xs:o},sm:{sm:l},md:{md:c},lg:{lg:u},xl:{xl:p}},children:n.map(a=>{const g=a.switches.find(f=>typeof f.brightness<"u"),h=a.switches.find(f=>typeof f.white<"u"),x=a.switches.find(f=>typeof f.rgb<"u");return r==="sk"||r==="ws"&&a.gen>0||r==="log"&&a.gen>1||r==="ctrl"&&(g||h||x)?e.jsx(X,{sx:{minWidth:r==="sk"||r==="ctrl"?0:1},children:e.jsx(Wr,{shelly:a,type:r},a.id)},b()):null})})},Mr=i.memo(vn);vn.propTypes={index:d.number.isRequired,devices:d.array};const We=[{value:"config",label:"Config"},{value:"cname",label:"Name"},{value:"name",label:"Model"},{value:"gen",label:"Gen"}];function wn({handleSort:t}){const[n,s]=i.useState(null),[r,o]=i.useState(0),{t:l}=N(),c=a=>{s(a.currentTarget)},u=()=>{s(null)},p=(a,g)=>{s(null),o(g),t(We[g])};return e.jsxs(e.Fragment,{children:[e.jsxs(Y,{disableRipple:!0,color:"inherit",onClick:c,endIcon:e.jsx(v,{icon:n?"eva:chevron-up-fill":"eva:chevron-down-fill"}),children:[l("_sortby_"),":",e.jsx(F,{component:"span",variant:"subtitle2",sx:{color:"text.secondary"},children:l(We[r].label)})]}),e.jsx(ts,{open:!!n,anchorEl:n,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},slotProps:{paper:{sx:{[`& .${ns.root}`]:{p:0}}}},children:We.map((a,g)=>e.jsx(W,{onClick:h=>p(h,g),selected:g===r,children:l(a.label)},a.value))})]})}wn.propTypes={handleSort:d.func.isRequired};function Hr({openFilter:t,onOpenFilter:n,onCloseFilter:s,filter:r,handleDeviceFilter:o}){const[l,c]=i.useState([]),[u,p]=i.useState([]),{t:a}=N();if(i.useEffect(()=>{c(Array.from(r.mChecked)),p(Array.from(r.gChecked))},[r]),typeof r>"u")return null;const g=_=>{const w=l.map((C,k)=>k===_?!C:C);c(w)},h=_=>{const w=u.map((C,k)=>k===_?!C:C);p(w)},x=e.jsxs(P,{spacing:1,children:[e.jsx(F,{variant:"subtitle2",children:a("Model")}),e.jsx(at,{children:r.models.map((_,w)=>e.jsx(Te,{control:e.jsx(be,{checked:!!l[w],onChange:()=>g(w)}),label:_},_))})]}),m=e.jsxs(P,{spacing:1,children:[e.jsx(F,{variant:"subtitle2",children:a("Generation")}),e.jsx(at,{children:r.generations.map((_,w)=>e.jsx(Te,{value:_,control:e.jsx(be,{checked:!!u[w],onChange:()=>h(w)}),label:_!==""?`Gen ${_}`:"no Gen"},_))})]}),f=()=>{c(new Array(r.mChecked.length).fill(!1)),p(new Array(r.gChecked.length).fill(!1))};return e.jsxs(e.Fragment,{children:[e.jsxs(Y,{disableRipple:!0,color:r.isFilter?"success":"inherit",endIcon:e.jsx(v,{icon:"ic:round-filter-list"}),onClick:n,children:[a("Filters"),""]}),e.jsxs(ae,{anchor:"right",open:t,onClose:s,slotProps:{paper:{sx:{width:300,border:"none",overflow:"hidden"}}},children:[e.jsxs(P,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{px:1,py:2},children:[e.jsx(F,{variant:"h6",sx:{ml:1},children:a("Filters")}),e.jsx(q,{onClick:s,children:e.jsx(v,{icon:"eva:close-fill"})})]}),e.jsx(se,{}),e.jsx(Ne,{children:e.jsxs(P,{spacing:3,sx:{p:3},children:[x,m]})}),e.jsx(T,{sx:{p:3},children:e.jsxs(P,{direction:"row",spacing:2,children:[e.jsx(Y,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",startIcon:e.jsx(v,{icon:"formkit:submit"}),onClick:_=>o(l,u),children:a("Submit")}),e.jsx(Y,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",startIcon:e.jsx(v,{icon:"ic:round-clear-all"}),onClick:_=>f(),children:a("Clear")})]})})]})]})}function qr(){const{devices:t}=V(),[n,s]=i.useState(t),[r,o]=i.useState(!1),[l,c]=i.useState(0),[u,p]=i.useState({models:[],generations:[],mChecked:[],gChecked:[],isFilter:!1}),{t:a}=N();i.useEffect(()=>{if(t.length!==0){const w=[],C=[];t.forEach(y=>{w.includes(y.name)||w.push(y.name),C.includes(y.gen)||C.push(y.gen)});const k={models:w,generations:C,mChecked:new Array(w.length).fill(!1),gChecked:new Array(C.length).fill(!1),isFilter:!1};p(()=>k)}},[t]);const g=(w,C)=>{c(C)},h=()=>{o(!0)},x=()=>{o(!1)},m=w=>{let C;switch(w.value){case"config":s(k=>t);break;case"gen":C=[...n],C=Er(C,"gen"),s(()=>C);break;default:C=[...n],C=Ir(C,w.value),s(()=>C)}},f=w=>t.filter(k=>{for(const y in w)if(k[y]===void 0||!w[y].includes(k[y]))return!1;return!0}),_=(w,C)=>{let k=!1;const y={};u.models.forEach((D,R)=>{w[R]&&(k=!0,typeof y.name>"u"&&(y.name=[]),y.name.push(D))}),u.generations.forEach((D,R)=>{C[R]&&(k=!0,typeof y.gen>"u"&&(y.gen=[]),y.gen.push(D))}),s(k?()=>f(y):()=>t),p({models:u.models,generations:u.generations,mChecked:w,gChecked:C,isFilter:k}),o(!1)};return e.jsxs(xe,{children:[e.jsx(et,{title:"Shellies"}),e.jsx(P,{direction:"row",alignItems:"center",flexWrap:"wrap-reverse",justifyContent:"flex-end",sx:{mb:5},children:e.jsxs(P,{direction:"row",spacing:1,flexShrink:0,sx:{my:1},children:[e.jsx(Hr,{openFilter:r,onOpenFilter:h,onCloseFilter:x,filter:u,handleDeviceFilter:_}),e.jsx(wn,{handleSort:m})]})}),e.jsx(T,{sx:{pb:2,borderBottom:1,borderColor:"divider"},children:e.jsxs(ss,{value:l,onChange:g,variant:"scrollable",scrollButtons:"auto","aria-label":"shelly tabs",children:[e.jsx($e,{label:"Script / KVS"}),e.jsx($e,{label:a("Control")}),e.jsx($e,{label:"Logs"}),e.jsx($e,{label:"WS Inspector"})]})}),e.jsx(Mr,{index:l,devices:typeof n>"u"?t:n},"shelliesTab")]})}function Gr(){const{user:t}=V();return e.jsxs(e.Fragment,{children:[e.jsx(ie,{children:e.jsx("title",{children:" Shellies"})}),t?e.jsx(qr,{}):null]})}const Vr=Object.freeze(Object.defineProperty({__proto__:null,default:Gr},Symbol.toStringTag,{value:"Module"}));function Jr(){const t=e.jsx(T,{component:"header",sx:{top:0,left:0,width:1,lineHeight:0,position:"fixed",p:n=>({xs:n.spacing(3,3,0),sm:n.spacing(5,5,0)})},children:e.jsx(_e,{sx:{mt:3,ml:4}})});return e.jsxs(e.Fragment,{children:[t,e.jsx(xe,{children:e.jsxs(T,{sx:{py:12,maxWidth:480,mx:"auto",display:"flex",minHeight:"100vh",textAlign:"center",alignItems:"center",flexDirection:"column",justifyContent:"center"},children:[e.jsx(F,{variant:"h3",sx:{mb:3},children:"Sorry, page not found!"}),e.jsx(F,{sx:{color:"text.secondary"},children:"Sorry, we couldn뗪 find the page youre looking for. Perhaps you뗬e mistyped the URL? Be sure to check your spelling."}),e.jsx(T,{component:"img",src:"/assets/illustrations/illustration_404.svg",sx:{mx:"auto",height:260,my:{xs:5,sm:10}}}),e.jsx(Y,{href:"/",size:"large",variant:"contained",component:$t,children:"Go to Home"})]})})]})}function Kr(){return e.jsxs(e.Fragment,{children:[e.jsx(ie,{children:e.jsx("title",{children:" 404 Page Not Found "})}),e.jsx(Jr,{})]})}const Yr=Object.freeze(Object.defineProperty({__proto__:null,default:Kr},Symbol.toStringTag,{value:"Module"}));export{li as a,ai as c,ci as g};
//# sourceMappingURL=index-CaX2bsxT.js.map
