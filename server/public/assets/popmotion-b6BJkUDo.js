import{r as We}from"./tslib-CzO--va8.js";import{r as Ze}from"./hey-listen-DbOMAdo4.js";import{r as Ye}from"./style-value-types-BIrWSPIY.js";import{r as Xe}from"./framesync-BEUTIEb0.js";var u={},zr;function an(){if(zr)return u;zr=1,Object.defineProperty(u,"__esModule",{value:!0});var R=We,_=Ze,P=Ye(),z=Xe();function jr(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var kr=jr(z),N=function(r,e,n){return Math.min(Math.max(n,r),e)},Y=.001,$r=.01,lr=10,qr=.05,Gr=1;function Kr(r){var e=r.duration,n=e===void 0?800:e,t=r.bounce,a=t===void 0?.25:t,i=r.velocity,o=i===void 0?0:i,v=r.mass,f=v===void 0?1:v,s,c;_.warning(n<=lr*1e3,"Spring duration must be 10 seconds or less");var p=1-a;p=N(qr,Gr,p),n=N($r,lr,n/1e3),p<1?(s=function(d){var D=d*p,m=D*n,E=D-o,w=X(d,p),x=Math.exp(-m);return Y-E/w*x},c=function(d){var D=d*p,m=D*n,E=m*o+o,w=Math.pow(p,2)*Math.pow(d,2)*n,x=Math.exp(-m),l=X(Math.pow(d,2),p),h=-s(d)+Y>0?-1:1;return h*((E-w)*x)/l}):(s=function(d){var D=Math.exp(-d*n),m=(d-o)*n+1;return-Y+D*m},c=function(d){var D=Math.exp(-d*n),m=(o-d)*(n*n);return D*m});var g=5/n,b=Qr(s,c,g);if(n=n*1e3,isNaN(b))return{stiffness:100,damping:10,duration:n};var S=Math.pow(b,2)*f;return{stiffness:S,damping:p*2*Math.sqrt(f*S),duration:n}}var Jr=12;function Qr(r,e,n){for(var t=n,a=1;a<Jr;a++)t=t-r(t)/e(t);return t}function X(r,e){return r*Math.sqrt(1-e*e)}var Wr=["duration","bounce"],Zr=["stiffness","damping","mass"];function dr(r,e){return e.some(function(n){return r[n]!==void 0})}function Yr(r){var e=R.__assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},r);if(!dr(r,Zr)&&dr(r,Wr)){var n=Kr(r);e=R.__assign(R.__assign(R.__assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function j(r){var e=r.from,n=e===void 0?0:e,t=r.to,a=t===void 0?1:t,i=r.restSpeed,o=i===void 0?2:i,v=r.restDelta,f=R.__rest(r,["from","to","restSpeed","restDelta"]),s={done:!1,value:n},c=Yr(f),p=c.stiffness,g=c.damping,b=c.mass,S=c.velocity,d=c.duration,D=c.isResolvedFromDuration,m=pr,E=pr;function w(){var x=S?-(S/1e3):0,l=a-n,h=g/(2*Math.sqrt(p*b)),M=Math.sqrt(p/b)/1e3;if(v??(v=Math.abs(a-n)<=1?.01:.4),h<1){var O=X(M,h);m=function(y){var T=Math.exp(-h*M*y);return a-T*((x+h*M*l)/O*Math.sin(O*y)+l*Math.cos(O*y))},E=function(y){var T=Math.exp(-h*M*y);return h*M*T*(Math.sin(O*y)*(x+h*M*l)/O+l*Math.cos(O*y))-T*(Math.cos(O*y)*(x+h*M*l)-O*l*Math.sin(O*y))}}else if(h===1)m=function(y){return a-Math.exp(-M*y)*(l+(x+M*l)*y)};else{var C=M*Math.sqrt(h*h-1);m=function(y){var T=Math.exp(-h*M*y),A=Math.min(C*y,300);return a-T*((x+h*M*l)*Math.sinh(A)+C*l*Math.cosh(A))/C}}}return w(),{next:function(x){var l=m(x);if(D)s.done=x>=d;else{var h=E(x)*1e3,M=Math.abs(h)<=o,O=Math.abs(a-l)<=v;s.done=M&&O}return s.value=s.done?a:l,s},flipTarget:function(){var x;S=-S,x=[a,n],n=x[0],a=x[1],w()}}}j.needsInterpolation=function(r,e){return typeof r=="string"||typeof e=="string"};var pr=function(r){return 0},rr=function(r,e,n){var t=e-r;return t===0?1:(n-r)/t},F=function(r,e,n){return-n*r+n*e+r},Xr=function(r,e,n){var t=r*r,a=e*e;return Math.sqrt(Math.max(0,n*(a-t)+t))},re=[P.hex,P.rgba,P.hsla],mr=function(r){return re.find(function(e){return e.test(r)})},hr=function(r){return"'"+r+"' is not an animatable color. Use the equivalent color code instead."},er=function(r,e){var n=mr(r),t=mr(e);_.invariant(!!n,hr(r)),_.invariant(!!t,hr(e)),_.invariant(n.transform===t.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");var a=n.parse(r),i=t.parse(e),o=R.__assign({},a),v=n===P.hsla?F:Xr;return function(f){for(var s in o)s!=="alpha"&&(o[s]=v(a[s],i[s],f));return o.alpha=F(a.alpha,i.alpha,f),n.transform(o)}},ee={x:0,y:0,z:0},nr=function(r){return typeof r=="number"},ne=function(r,e){return function(n){return e(r(n))}},tr=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.reduce(ne)};function yr(r,e){return nr(r)?function(n){return F(r,e,n)}:P.color.test(r)?er(r,e):ar(r,e)}var xr=function(r,e){var n=R.__spreadArray([],r),t=n.length,a=r.map(function(i,o){return yr(i,e[o])});return function(i){for(var o=0;o<t;o++)n[o]=a[o](i);return n}},te=function(r,e){var n=R.__assign(R.__assign({},r),e),t={};for(var a in n)r[a]!==void 0&&e[a]!==void 0&&(t[a]=yr(r[a],e[a]));return function(i){for(var o in t)n[o]=t[o](i);return n}};function Mr(r){for(var e=P.complex.parse(r),n=e.length,t=0,a=0,i=0,o=0;o<n;o++)t||typeof e[o]=="number"?t++:e[o].hue!==void 0?i++:a++;return{parsed:e,numNumbers:t,numRGB:a,numHSL:i}}var ar=function(r,e){var n=P.complex.createTransformer(e),t=Mr(r),a=Mr(e);return _.invariant(t.numHSL===a.numHSL&&t.numRGB===a.numRGB&&t.numNumbers>=a.numNumbers,"Complex values '"+r+"' and '"+e+"' too different to mix. Ensure all colors are of the same type."),tr(xr(t.parsed,a.parsed),n)},ae=function(r,e){return function(n){return F(r,e,n)}};function oe(r){if(typeof r=="number")return ae;if(typeof r=="string")return P.color.test(r)?er:ar;if(Array.isArray(r))return xr;if(typeof r=="object")return te}function ie(r,e,n){for(var t=[],a=n||oe(r[0]),i=r.length-1,o=0;o<i;o++){var v=a(r[o],r[o+1]);if(e){var f=Array.isArray(e)?e[o]:e;v=tr(f,v)}t.push(v)}return t}function ue(r,e){var n=r[0],t=r[1],a=e[0];return function(i){return a(rr(n,t,i))}}function se(r,e){var n=r.length,t=n-1;return function(a){var i=0,o=!1;if(a<=r[0]?o=!0:a>=r[t]&&(i=t-1,o=!0),!o){for(var v=1;v<n&&!(r[v]>a||v===t);v++);i=v-1}var f=rr(r[i],r[i+1],a);return e[i](f)}}function or(r,e,n){var t=n===void 0?{}:n,a=t.clamp,i=a===void 0?!0:a,o=t.ease,v=t.mixer,f=r.length;_.invariant(f===e.length,"Both input and output ranges must be the same length"),_.invariant(!o||!Array.isArray(o)||o.length===f-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),r[0]>r[f-1]&&(r=[].concat(r),e=[].concat(e),r.reverse(),e.reverse());var s=ie(e,o,v),c=f===2?ue(r,s):se(r,s);return i?function(p){return c(N(r[0],r[f-1],p))}:c}var H=function(r){return function(e){return 1-r(1-e)}},k=function(r){return function(e){return e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2}},br=function(r){return function(e){return Math.pow(e,r)}},ir=function(r){return function(e){return e*e*((r+1)*e-r)}},gr=function(r){var e=ir(r);return function(n){return(n*=2)<1?.5*e(n):.5*(2-Math.pow(2,-10*(n-1)))}},Sr=1.525,ve=4/11,fe=8/11,ce=9/10,Dr=function(r){return r},ur=br(2),le=H(ur),Or=k(ur),Ir=function(r){return 1-Math.sin(Math.acos(r))},Tr=H(Ir),de=k(Tr),sr=ir(Sr),pe=H(sr),me=k(sr),he=gr(Sr),ye=4356/361,xe=35442/1805,Me=16061/1805,$=function(r){if(r===1||r===0)return r;var e=r*r;return r<ve?7.5625*e:r<fe?9.075*e-9.9*r+3.4:r<ce?ye*e-xe*r+Me:10.8*r*r-20.52*r+10.72},be=H($),ge=function(r){return r<.5?.5*(1-$(1-r*2)):.5*$(r*2-1)+.5};function Se(r,e){return r.map(function(){return e||Or}).splice(0,r.length-1)}function De(r){var e=r.length;return r.map(function(n,t){return t!==0?t/(e-1):0})}function Oe(r,e){return r.map(function(n){return n*e})}function L(r){var e=r.from,n=e===void 0?0:e,t=r.to,a=t===void 0?1:t,i=r.ease,o=r.offset,v=r.duration,f=v===void 0?300:v,s={done:!1,value:n},c=Array.isArray(a)?a:[n,a],p=Oe(o&&o.length===c.length?o:De(c),f);function g(){return or(p,c,{ease:Array.isArray(i)?i:Se(c,i)})}var b=g();return{next:function(S){return s.value=b(S),s.done=S>=f,s},flipTarget:function(){c.reverse(),b=g()}}}function Rr(r){var e=r.velocity,n=e===void 0?0:e,t=r.from,a=t===void 0?0:t,i=r.power,o=i===void 0?.8:i,v=r.timeConstant,f=v===void 0?350:v,s=r.restDelta,c=s===void 0?.5:s,p=r.modifyTarget,g={done:!1,value:a},b=o*n,S=a+b,d=p===void 0?S:p(S);return d!==S&&(b=d-a),{next:function(D){var m=-b*Math.exp(-D/f);return g.done=!(m>c||m<-c),g.value=g.done?d:d+m,g},flipTarget:function(){}}}var Cr={keyframes:L,spring:j,decay:Rr};function Ie(r){if(Array.isArray(r.to))return L;if(Cr[r.type])return Cr[r.type];var e=new Set(Object.keys(r));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?L:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?j:L}function wr(r,e,n){return n===void 0&&(n=0),r-e-n}function Te(r,e,n,t){return n===void 0&&(n=0),t===void 0&&(t=!0),t?wr(e+-r,e,n):e-(r-e)+n}function Re(r,e,n,t){return t?r>=e+n:r<=-n}var Ce=function(r){var e=function(n){var t=n.delta;return r(t)};return{start:function(){return kr.default.update(e,!0)},stop:function(){return z.cancelSync.update(e)}}};function Er(r){var e,n,t=r.from,a=r.autoplay,i=a===void 0?!0:a,o=r.driver,v=o===void 0?Ce:o,f=r.elapsed,s=f===void 0?0:f,c=r.repeat,p=c===void 0?0:c,g=r.repeatType,b=g===void 0?"loop":g,S=r.repeatDelay,d=S===void 0?0:S,D=r.onPlay,m=r.onStop,E=r.onComplete,w=r.onRepeat,x=r.onUpdate,l=R.__rest(r,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),h=l.to,M,O=0,C=l.duration,y,T=!1,A=!0,B,U=Ie(l);!((n=(e=U).needsInterpolation)===null||n===void 0)&&n.call(e,t,h)&&(B=or([0,100],[t,h],{clamp:!1}),t=0,h=100);var W=U(R.__assign(R.__assign({},l),{from:t,to:h}));function I(){O++,b==="reverse"?(A=O%2===0,s=Te(s,C,d,A)):(s=wr(s,C,d),b==="mirror"&&W.flipTarget()),T=!1,w&&w()}function Z(){M.stop(),E&&E()}function V(cr){if(A||(cr=-cr),s+=cr,!T){var Vr=W.next(Math.max(0,s));y=Vr.value,B&&(y=B(y)),T=A?Vr.done:s<=0}x==null||x(y),T&&(O===0&&(C??(C=s)),O<p?Re(s,C,d,A)&&I():Z())}function Qe(){D==null||D(),M=v(V),M.start()}return i&&Qe(),{stop:function(){m==null||m(),M.stop()}}}function Ar(r,e){return e?r*(1e3/e):0}function we(r){var e=r.from,n=e===void 0?0:e,t=r.velocity,a=t===void 0?0:t,i=r.min,o=r.max,v=r.power,f=v===void 0?.8:v,s=r.timeConstant,c=s===void 0?750:s,p=r.bounceStiffness,g=p===void 0?500:p,b=r.bounceDamping,S=b===void 0?10:b,d=r.restDelta,D=d===void 0?1:d,m=r.modifyTarget,E=r.driver,w=r.onUpdate,x=r.onComplete,l;function h(I){return i!==void 0&&I<i||o!==void 0&&I>o}function M(I){return i===void 0?o:o===void 0||Math.abs(i-I)<Math.abs(o-I)?i:o}function O(I){l==null||l.stop(),l=Er(R.__assign(R.__assign({},I),{driver:E,onUpdate:function(Z){var V;w==null||w(Z),(V=I.onUpdate)===null||V===void 0||V.call(I,Z)},onComplete:x}))}function C(I){O(R.__assign({type:"spring",stiffness:g,damping:S,restDelta:D},I))}if(h(n))C({from:n,velocity:a,to:M(n)});else{var y=f*a+n;typeof m<"u"&&(y=m(y));var T=M(y),A=T===i?-1:1,B,U,W=function(I){B=U,U=I,a=Ar(I-B,z.getFrameData().delta),(A===1&&I>T||A===-1&&I<T)&&C({from:I,to:T,velocity:a})};O({type:"decay",from:n,velocity:a,timeConstant:c,power:f,restDelta:D,modifyTarget:m,onUpdate:h(y)?W:void 0})}return{stop:function(){return l==null?void 0:l.stop()}}}var Pr=function(r){return r*180/Math.PI},Ee=function(r,e){return e===void 0&&(e=ee),Pr(Math.atan2(e.y-r.y,e.x-r.x))},Ae=function(r,e){var n=!0;return e===void 0&&(e=r,n=!1),function(t){return n?t-r+e:(r=t,n=!0,e)}},Pe=function(r){return r},vr=function(r){return r===void 0&&(r=Pe),function(e,n,t){var a=n-t,i=-(0-e+1)*(0-r(Math.abs(a)));return a<=0?n+i:n-i}},_e=vr(),Be=vr(Math.sqrt),_r=function(r){return r*Math.PI/180},q=function(r){return r.hasOwnProperty("x")&&r.hasOwnProperty("y")},fr=function(r){return q(r)&&r.hasOwnProperty("z")},G=function(r,e){return Math.abs(r-e)};function Ne(r,e){if(nr(r)&&nr(e))return G(r,e);if(q(r)&&q(e)){var n=G(r.x,e.x),t=G(r.y,e.y),a=fr(r)&&fr(e)?G(r.z,e.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(t,2)+Math.pow(a,2))}}var Fe=function(r,e,n){return e=_r(e),{x:n*Math.cos(e)+r.x,y:n*Math.sin(e)+r.y}},Br=function(r,e){return e===void 0&&(e=2),e=Math.pow(10,e),Math.round(r*e)/e},Nr=function(r,e,n,t){return t===void 0&&(t=0),Br(r+n*(e-r)/Math.max(t,n))},He=function(r){r===void 0&&(r=50);var e=0,n=0;return function(t){var a=z.getFrameData().timestamp,i=a!==n?a-n:0,o=i?Nr(e,t,i,r):e;return n=a,e=o,o}},Le=function(r){if(typeof r=="number")return function(t){return Math.round(t/r)*r};var e=0,n=r.length;return function(t){var a=Math.abs(r[0]-t);for(e=1;e<n;e++){var i=r[e],o=Math.abs(i-t);if(o===0)return i;if(o>a)return r[e-1];if(e===n-1)return i;a=o}}};function Ue(r,e){return r/(1e3/e)}var Ve=function(r,e,n){var t=e-r;return((n-r)%t+t)%t+r},Fr=function(r,e){return 1-3*e+3*r},Hr=function(r,e){return 3*e-6*r},Lr=function(r){return 3*r},K=function(r,e,n){return((Fr(e,n)*r+Hr(e,n))*r+Lr(e))*r},Ur=function(r,e,n){return 3*Fr(e,n)*r*r+2*Hr(e,n)*r+Lr(e)},ze=1e-7,je=10;function ke(r,e,n,t,a){var i,o,v=0;do o=e+(n-e)/2,i=K(o,t,a)-r,i>0?n=o:e=o;while(Math.abs(i)>ze&&++v<je);return o}var $e=8,qe=.001;function Ge(r,e,n,t){for(var a=0;a<$e;++a){var i=Ur(e,n,t);if(i===0)return e;var o=K(e,n,t)-r;e-=o/i}return e}var J=11,Q=1/(J-1);function Ke(r,e,n,t){if(r===e&&n===t)return Dr;for(var a=new Float32Array(J),i=0;i<J;++i)a[i]=K(i*Q,r,n);function o(v){for(var f=0,s=1,c=J-1;s!==c&&a[s]<=v;++s)f+=Q;--s;var p=(v-a[s])/(a[s+1]-a[s]),g=f+p*Q,b=Ur(g,r,n);return b>=qe?Ge(v,g,r,n):b===0?g:ke(v,f,f+Q,r,n)}return function(v){return v===0||v===1?v:K(o(v),e,t)}}var Je=function(r,e){return e===void 0&&(e="end"),function(n){n=e==="end"?Math.min(n,.999):Math.max(n,.001);var t=n*r,a=e==="end"?Math.floor(t):Math.ceil(t);return N(0,1,a/r)}};return u.angle=Ee,u.animate=Er,u.anticipate=he,u.applyOffset=Ae,u.attract=_e,u.attractExpo=Be,u.backIn=sr,u.backInOut=me,u.backOut=pe,u.bounceIn=be,u.bounceInOut=ge,u.bounceOut=$,u.circIn=Ir,u.circInOut=de,u.circOut=Tr,u.clamp=N,u.createAnticipate=gr,u.createAttractor=vr,u.createBackIn=ir,u.createExpoIn=br,u.cubicBezier=Ke,u.decay=Rr,u.degreesToRadians=_r,u.distance=Ne,u.easeIn=ur,u.easeInOut=Or,u.easeOut=le,u.inertia=we,u.interpolate=or,u.isPoint=q,u.isPoint3D=fr,u.keyframes=L,u.linear=Dr,u.mirrorEasing=k,u.mix=F,u.mixColor=er,u.mixComplex=ar,u.pipe=tr,u.pointFromVector=Fe,u.progress=rr,u.radiansToDegrees=Pr,u.reverseEasing=H,u.smooth=He,u.smoothFrame=Nr,u.snap=Le,u.spring=j,u.steps=Je,u.toDecimal=Br,u.velocityPerFrame=Ue,u.velocityPerSecond=Ar,u.wrap=Ve,u}export{an as r};
//# sourceMappingURL=popmotion-b6BJkUDo.js.map
